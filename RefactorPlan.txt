Outstanding refactor tasks (completed items removed)

1) Coverage gaps (>90% target)
- 1.6 src/filare/models/configs.py 88%
- 1.7 src/filare/models/connector.py 85%
- 1.8 src/filare/models/dataclasses.py 86%
- 1.9 src/filare/models/harness.py 83%
- 1.17 src/filare/tools/build_examples.py 81%
Note: while closing these gaps, flag and record any dead/unreachable code paths under this task (e.g., unreachable branches) so they can be removed instead of force-covered.

2) Coverage hardening
- Raise coverage for lower modules: models/colors, models/cable, models/bom, models/dataclasses, models/utils, render/graphviz, parser/yaml_loader (edge cases).
- Add parser edge-case tests and render smoke tests as needed.

3) Pydantic migration (remaining classes)
- Migrate dataclasses (Component/Connector/Cable/BOM/color helpers) to Pydantic BaseModels stepwise, keeping compatibility until imports are updated.
- Propagate BaseModels into flows/build_harness and CLI once stable; add regression tests.

4) Config/graph modeling (config and template inputs)
- Add/configure ConnectorConfig/CableConfig/... models for YAML-facing config with round-trip tests.
- Add template-input models and mappings; build small graph representation and mapping to template inputs.
- Wire flows to accept config models then convert to BaseModels/dataclasses.

5) Rendering module split and templating audit
- Finish splitting render/output responsibilities (html/pdf/assets) and audit templating vs. code-built strings.
- Add lightweight render tests to exercise template loading and HTML helpers.

6) Release/publish documentation and hygiene
- Document tag-triggered release workflow and how semantic-release feeds it.
- Ensure changelog generation remains tied to semantic-release runs; keep GH token/PyPI token notes current.

7) Config and graph features (from NEXT_FEATURES)
- Introduce Config BaseModels (ConnectorConfig, CableConfig, WireConfig, ConnectionConfig, MetadataConfig, PageOptionsConfig, PinConfig) with round-trip YAML tests.
- Add template-input models (TemplateConnector/TemplateCable/TemplateBOMItem, etc.) and conversions from config/dataclasses.
- Build a small graph representation (nodes/edges for pins/interfaces/bundles/segments) and map to template-input models with tests.
- Incrementally wire dataclasses/flows to accept config models while keeping legacy behavior; add regression tests for BOM/HTML/TSV parity.

8) Pydantic config tightening
- Remove `arbitrary_types_allowed` usage across models by replacing with proper type wrappers/converters; do this after remaining migrations stabilize.

9) BOM and wiring correctness
- Add loopback support to capture length/gauge for BOM when cables aren’t used explicitly.
- Ensure splices from connectors with differing gauges land in the BOM (e.g., M80 24 AWG to 20 AWG load cables) and surface “splice near connector” guidance.
- Add a cables overview section summarizing cable runs and key attributes.

10) Layout polish
- Show harness name alongside harness ID wherever rendered.
- Improve rendering when two connector lines merge into one pin through a cable to avoid “bubble” artifacts.
- Guard against overlapping sections (notes covering diagrams, BOM covering changelog) when content is larger than expected.

11) BOM pagination and derivative diagrams
- Add option to force BOM onto a single page; add optional multi-page BOM splitting (configurable rows per page) with lettered page suffixes in page numbering (a, b, c, …).
- Introduce reusable table model shared by BOM, wire cut diagram, and termination diagram. (Base model added; integrate into rendering.)
- Add per-harness wire cut diagram (HTML table) with optional multi-page splitting (configurable rows/page) and lettered suffixes in page numbering.
- Add per-harness termination diagram (HTML table) capturing splices/crimps and lengths; support multi-page splitting and lettered suffixes.
- Add a BaseModel for termination details, allowing per-wire-end/connection definitions into connectors.
- Extend examples/tutorials to generate the new schematics so usage is explicit to users.
- Update documentation with example outputs of the new schematics.
- Add configuration knobs so users can choose whether to include the new schematics in the engineering document.

12) Document representation and change tracking
- Accept `*.document.yaml` as an input to drive document generation (not just emit), with tests ensuring the YAML input path is honored and user edits are preserved per hash rules.
- Update page generation templates so split components (BOM/notes/index) are excluded from the combined page when split output is configured.
- Update index table to link to all generated HTML documents; when splits exist, render 3 columns (page name, content type: harness/cut/BOM/termination/index, page link).
- Add a template for the termination diagram page and integrate it into rendering.
- Add a template for the cut diagram page and integrate it into rendering.

13) Dataclasses phase-out
- 13.1 Ensure each dataclass in src/filare/models/dataclasses.py has an equivalent Pydantic component model.
- 13.2 Update parsing to produce component models instead of dataclasses.
- 13.3 Update rendering flows to consume component models instead of dataclasses.
- 13.4 Validate feature parity after the switch (examples/tests cover no capability loss).
- 13.5 Sweep repo to remove remaining dataclass references and drop the dataclasses module.
