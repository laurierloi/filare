{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"filare (formerly WireViz)","text":""},{"location":"#summary","title":"Summary","text":"<p>Filare (the new name for WireViz) is a tool for documenting cables, wiring harnesses and connector pinouts. It takes plain text, YAML-formatted files as input and produces graphical output (SVG, PNG, ...) via GraphViz. It handles automatic BOM (Bill of Materials) creation and a number of extras.</p>"},{"location":"#why-filare-over-wireviz","title":"Why Filare over WireViz?","text":"<ul> <li>The file structure has been revamped for better separation of concern</li> <li>Tests have been added to increase dramatically the coverage of the library</li> <li>Jinja2 templates are now used for key visual elements</li> <li>Pydantic is used instead of dataclasses to bring the data structure into the 2020s</li> <li>Support for engineering document export is much better, allowing sharing with suppliers and clients directly</li> <li>The representation is backward-compatible when possible, so the user should be able to switch seemlessly</li> </ul>"},{"location":"#features","title":"Features","text":"<ul> <li>Filare input files are fully text based</li> <li>No special editor required</li> <li>Human readable</li> <li>Easy version control</li> <li>YAML syntax</li> <li>UTF-8 input and output files for special character support</li> <li> <p>Understands and uses color abbreviations as per IEC 60757 (black=BK, red=RD, ...)   </p> </li> <li> <p>Auto-generates standard wire color schemes and allows custom ones if needed</p> </li> <li>DIN 47100 (WT/BN/GN/YE/GY/PK/BU/RD/BK/VT/...)</li> <li>IEC 60757 (BN/RD/OR/YE/GN/BU/VT/GY/WT/BK/...)</li> <li>25 Pair Color Code (BUWH/WHBU/OGWH/WHOG/GNWH/WHGN/BNWH/...)</li> <li>TIA/EIA 568 A/B (Subset of 25-Pair, used in CAT-5/6/...)</li> <li>Understands wire gauge in mm\u00b2 or AWG</li> <li>Optionally auto-calculates equivalent gauge between mm\u00b2 and AWG</li> <li>Is suitable for both very simple cables, and more complex harnesses.</li> <li>Allows for easy-autorouting for 1-to-1 wiring</li> <li>Generates BOM (Bill of Materials)</li> </ul> <p>Note: Filare is not designed to represent the complete wiring of a system. Its main aim is to document the construction of individual wires and harnesses.</p>"},{"location":"#examples","title":"Examples","text":""},{"location":"#demo-01","title":"Demo 01","text":"<p>Filare input file:</p> <pre><code>connectors:\n  X1:\n    type: D-Sub\n    subtype: female\n    pinlabels: [DCD, RX, TX, DTR, GND, DSR, RTS, CTS, RI]\n  X2:\n    type: Molex KK 254\n    subtype: female\n    pinlabels: [GND, RX, TX]\n\ncables:\n  W1:\n    gauge: 0.25 mm2\n    length: 0.2\n    color_code: DIN\n    wirecount: 3\n    shield: true\n\nconnections:\n  - - X1: [5, 2, 3]\n    - W1: [1, 2, 3]\n    - X2: [1, 3, 2]\n  - - X1: 5\n    - W1: s\n</code></pre> <p>Output file:</p> <p></p> <p>Bill of Materials (auto-generated)</p>"},{"location":"#demo-02","title":"Demo 02","text":"<p>Source - Bill of Materials</p>"},{"location":"#syntax-tutorial-and-example-gallery","title":"Syntax, tutorial and example gallery","text":"<p>Read the syntax description to learn about Filare's features and how to use them.</p> <p>See the tutorial page for sample code, as well as the example gallery to see more of what Filare can do.</p>"},{"location":"#installation","title":"Installation","text":""},{"location":"#requirements","title":"Requirements","text":"<p>Filare requires Python 3.9 or later.</p> <p>Filare requires GraphViz to be installed in order to work. See the GraphViz download page for OS-specific instructions.</p> <p>Note: Ubuntu 18.04 LTS users in particular may need to separately install Python 3.7 or above, as that comes with Python 3.6 as the included system Python install. The option to generate pdf is not supported for python 3.7, so it might not be possible to use with this version of Ubuntu. If you are forced to use Ubuntu 18.04 for some reason, fill up an issue/MR and I can provide a Docker image to perform the generation.</p>"},{"location":"#quick-install-uv-recommended","title":"Quick install (uv, recommended)","text":"<p>Filare uses the uv workflow for dependency management and command execution.</p> <pre><code>uv venv\nuv sync\nuv run filare --help\n</code></pre>"},{"location":"#container-ubuntu-2404-uv-graphviz-prettier","title":"Container (Ubuntu 24.04, uv, graphviz, prettier)","text":"<p>A Docker image is provided to avoid local dependency setup:</p> <pre><code>docker build -t filare:latest .\n</code></pre> <p>Run common tasks (mount your working tree so outputs land on the host):</p> <ul> <li>Build all examples/tutorials/demos:   <pre><code>docker run --rm -v \"$PWD\":/app filare uv run --no-sync python src/filare/tools/build_examples.py\n</code></pre></li> <li>Build examples only:   <pre><code>docker run --rm -v \"$PWD\":/app filare uv run --no-sync filare examples/basic/basic01.yml -d examples/basic/metadata.yml -f hs -o outputs/examples\n</code></pre></li> <li>Build tutorials only:   <pre><code>docker run --rm -v \"$PWD\":/app filare uv run --no-sync filare tutorial/tutorial*.yml -d tutorial/metadata.yml -f hs -o outputs/tutorial\n</code></pre></li> <li>Lint (black + prettier):   <pre><code>docker run --rm -v \"$PWD\":/app filare ./scripts/lint.sh\n</code></pre></li> <li>Build and serve docs (port 9000):   <pre><code>docker run --rm -p 9000:9000 -v \"$PWD\":/app filare bash -lc 'cd /app &amp;&amp; uv run --no-sync mkdocs build &amp;&amp; cd site &amp;&amp; uv run --no-sync python -m http.server 9000'\n</code></pre></li> <li>Regenerate document YAMLs (document representations) and control overwrites:</li> <li>By default generated <code>*.document.yaml</code> files can be overwritten on rebuild. To freeze a document, set <code>allow_override: false</code> for that entry in <code>outputs/*/document_hashes.yaml</code>; reruns will then warn and keep your manual edits.</li> <li>To force a refresh, delete the corresponding <code>*.document.yaml</code> and its entry in <code>document_hashes.yaml</code> before rebuilding.</li> </ul>"},{"location":"#building-docs-locally-without-docker","title":"Building docs locally (without Docker)","text":"<p>From the project root:</p> <pre><code>uv run --no-sync mkdocs build\nuv run --no-sync python -m http.server 9000 --directory site\n</code></pre> <p>Then open http://localhost:9000.</p> <ul> <li>Run tests:   <pre><code>uv run --no-sync pytest\n</code></pre>   (default run executes unit tests; to include slow documentation/functional tests use <code>uv run --no-sync pytest -m \"unit or functional\" --include-functional</code> or just <code>uv run --no-sync pytest -m functional --include-functional</code>.)   ```</li> </ul>"},{"location":"#documentation-mkdocs-optional-sphinx","title":"Documentation (MkDocs + optional Sphinx)","text":"<ul> <li>Build MkDocs site locally:   <pre><code>uv run --no-sync mkdocs build\n</code></pre></li> <li>Serve for preview:   <pre><code>uv run --no-sync mkdocs serve -a 0.0.0.0:8000\n</code></pre></li> <li>(Optional) Generate API docs with Sphinx: see <code>docs/mkdocs.md</code> for suggested setup.</li> </ul>"},{"location":"#debian-dependencies","title":"Debian Dependencies","text":"<pre><code>sudo apt install graphviz\n</code></pre>"},{"location":"#fedora-dependencies","title":"Fedora Dependencies","text":"<pre><code>sudo dnf install graphviz\n</code></pre>"},{"location":"#pango-only-for-weasyprint-pdf-generation","title":"Pango (only for weasyprint pdf generation)","text":"<p>See https://pango.gnome.org/</p>"},{"location":"#installing-the-latest-release","title":"Installing the latest release","text":"<p>Install from PyPI using uv:</p> <pre><code>uv venv\nuv pip install filare\nuv run filare --version\n</code></pre>"},{"location":"#installing-the-development-version","title":"Installing the development version","text":"<p>Access to the current state of the development branch by cloning the repo and syncing dependencies with uv:</p> <pre><code># Cloning the repository\ngit clone https://github.com/laurierloi/filare\ncd filare\n\n# Setup env and install dependencies\nuv venv\nuv sync\n</code></pre> <p>Avoid mixing <code>pip</code> and <code>uv</code> inside the same environment to prevent dependency drift. If you prefer a one-off install without a venv, use the container workflow above instead of system-wide <code>pip</code>.</p> <p>If you would like to contribute to this project, make sure you read the contribution guidelines!</p>"},{"location":"#setting-up-pre-commit-hooks-uv","title":"Setting up pre-commit hooks (uv)","text":"<p>Install the dev dependencies and register the hooks with uv (keeps cache local to the repo):</p> <pre><code>uv venv\nuv sync --group dev\nuv run pre-commit install\n</code></pre> <p>You can check the hooks locally with <code>uv run pre-commit run --all-files</code>.</p>"},{"location":"#usage","title":"Usage","text":""},{"location":"#how-to-run","title":"How to run","text":"<p>The Filare CLI (legacy <code>filare</code> alias still available) creates harness documents. To do so, a shared metadata file (or multiple) must be provided to the <code>filare</code> command. Then, a list of harnesses to include within the document should also be provided. In the simplest case, 1 harness can be provided.</p> <pre><code>$ uv run filare -d ~/path/to/file/metadata.yml ~/path/to/file/myharness1.yml ~/path/to/file/myharness2.yml\n</code></pre> <p>Depending on the options specified, this will output some or all of the following files:</p> <pre><code>titlepage.html            Titlepage document. It has links to the different harness for easy navigation\nshared_bom.tsv            A BOM (bill of materials) for all items within the harness document\nmyharness{1,2}.gv         GraphViz output\nmyharness{1,2}.svg        Wiring diagram as vector image\nmyharness{1,2}.png        Wiring diagram as raster image\nmyharness{1,2}.bom.tsv    BOM (bill of materials) as tab-separated text file\nmyharness{1,2}.html       HTML page with wiring diagram and BOM embedded\n</code></pre> <p>Wildcards in the file path are also supported to process multiple files at once, e.g.:</p> <pre><code>$ uv run filare ~/path/to/files/*.yml\n</code></pre> <p>To see how to specify the output formats, as well as additional options, run:</p> <pre><code>$ uv run filare --help\n</code></pre>"},{"location":"#sample-run-all-examples","title":"Sample run all examples","text":"<pre><code>$ uv run filare -d examples/basic/metadata.yml examples/basic/basic01.yml\n</code></pre> <p>Then open <code>examples/titlepage.html</code> to open the document root</p>"},{"location":"#quantity-multipliers-filare-qty","title":"Quantity multipliers (<code>filare-qty</code>)","text":"<p>Use <code>filare-qty</code> to capture per-harness quantity multipliers before generating a shared BOM with <code>filare</code>.</p> <pre><code># Prompt for multipliers (or reuse an existing quantity_multipliers.txt)\n$ uv run filare-qty tests/bom/bomqty.yml\n\n# Apply the multipliers when building the shared BOM\n$ uv run filare tests/bom/bomqty.yml --use-qty-multipliers\n</code></pre> <p>By default the multipliers are stored as JSON in <code>quantity_multipliers.txt</code> next to the harness file; override the path with <code>--multiplier-file-name</code> and re-prompt with <code>--force-new</code>.</p>"},{"location":"#re-building-the-example-projects","title":"(Re-)Building the example projects","text":"<p>Please see the documentation of the <code>build_examples.py</code> script for info on building the demos, examples and tutorial.</p>"},{"location":"#changelog","title":"Changelog","text":"<p>See the Changelog</p>"},{"location":"#status","title":"Status","text":"<p>This is very much a work in progress. Source code, API, syntax and functionality may change wildly at any time.</p>"},{"location":"#license","title":"License","text":"<p>GPL-3.0</p>"},{"location":"CONTRIBUTING/","title":"Contribution Guidelines","text":"<p>When contributing to this repository, please submit a new issue first to discuss the proposed change, before submitting a pull request.</p>"},{"location":"CONTRIBUTING/#submitting-a-new-issue","title":"Submitting a new Issue","text":"<ul> <li>First, search existing (open and closed) issues for any related issues.</li> <li>You might then find an existing answer or suggested solution to your issue, possibly also an existing PR you can test.</li> <li>When finding existing issues that seem related to your issue, please include references (# followed by issue number) to related issues in your new issue description, or if a very similar issue is still open, consider adding a comment in that issue instead of creating a new one.</li> <li>When appropriate, please prefix your issue title with one of these category prefixes followed by a space:</li> <li>[bug] When the issue seems to be caused by a bug.</li> <li>[feature] When requesting a feature change or new feature.</li> <li>[internal] When suggesting code improvements that doesn't change any output.</li> <li>[doc] For documentation issues.</li> <li>[meta] For issues about the development or contribution process.</li> <li>Please include enough information in the description to enable another user to reproduce any error state described in your issue:</li> <li>The versions of your Filare, Graphviz (<code>dot -V</code>), Python (<code>python -V</code>), and operating system.</li> <li>The relevant input files unless (preferably) you can demonstrate the same issue using one of the example files. If your input file is large or complex, please try to find a smaller/simplified input that still can reproduce the same issue.</li> <li>Any warnings or error messages you get.</li> <li>See also How We Write Github Issues in general.</li> </ul>"},{"location":"CONTRIBUTING/#submitting-a-new-pull-request","title":"Submitting a new Pull Request","text":"<ol> <li>Fork this repository and clone it on your local machine.</li> <li>Create a new feature branch on top of the <code>dev</code> branch.</li> <li>Commit your code changes to this feature branch.</li> <li>Push the changes to your fork.</li> <li>Please format your code using <code>isort</code> and <code>black</code> before submitting.</li> <li> <p>Submit a new pull request, using <code>dev</code> as the base branch.</p> </li> <li> <p>If your code changes or extends the Filare YAML syntax, be sure to update the syntax description document in your PR.</p> </li> <li> <p>Please include in the PR description (and optionally also in the commit message body) a reference (# followed by issue number) to the issue where the suggested changes are discussed.</p> </li> </ol>"},{"location":"CONTRIBUTING/#hints","title":"Hints","text":"<ul> <li>Make sure to write good commit messages.</li> <li>Always consider <code>git rebase</code> before <code>git merge</code> when joining commits from different branches, to keep the commit history simple and easier to read.</li> <li>If the <code>dev</code> branch has advanced since your fork, consider rebasing onto the current state to avoid merge conflicts.</li> <li>Avoid committing changes to generated files in PRs (examples, tutorials, etc.) to reduce merging conflicts. The owner will rebuild them.</li> <li>For complex PRs, consider interactively rebasing your contribution to remove intermediate commits and clean up the commit history.</li> <li>Feel free to submit a draft PR for your work-in-progress. This lets other contributors comment on and review your code, while clearly marking it as not ready for merging.</li> </ul>"},{"location":"CONTRIBUTING/#documentation-strings","title":"Documentation Strings","text":"<p>Documentation strings are to follow the Google Style (examples).</p>"},{"location":"advanced_image_usage/","title":"Advanced Image Usage","text":"<p>In rare cases when the ordinary image scaling functionality is insufficient, a couple of extra optional image attributes can be set to offer extra image cell space and scaling functionality when combined with the image dimension attributes <code>width</code> and <code>height</code>, but in most cases their default values below are sufficient:</p> <ul> <li><code>scale: &lt;str&gt;</code> (how an image will use the available cell space) is default <code>false</code> if no dimension is set, or <code>true</code> if only one dimension is set, or <code>both</code> if both dimensions are set.</li> <li><code>fixedsize: &lt;bool&gt;</code> (scale to fixed size or expand to minimum size) is default <code>false</code> when no dimension is set or if a <code>scale</code> value is set, and <code>true</code> otherwise.</li> <li>When <code>fixedsize</code> is true and only one dimension is set, then the other dimension is calculated using the image aspect ratio. If reading the aspect ratio fails, then 1:1 ratio is assumed.</li> </ul> <p>See explanations of all supported values for these attributes in subsections below.</p>"},{"location":"advanced_image_usage/#the-effect-of-fixedsize-boolean-values","title":"The effect of <code>fixedsize</code> boolean values","text":"<ul> <li>When <code>false</code>, any <code>width</code> or <code>height</code> values are minimum values used to expand the image cell size for more available space, but cell contents or other size demands in the table might expand this cell even more than specified by <code>width</code> or <code>height</code>.</li> <li>When <code>true</code>, both <code>width</code> and <code>height</code> values are required by Graphwiz and specify the fixed size of the image cell, distorting any image inside if it don't fit. Any borders are normally drawn around the fixed size, and therefore, Filare encloses the image cell in an extra table without borders when <code>fixedsize</code> is true to keep the borders around the outer non-fixed cell.</li> </ul>"},{"location":"advanced_image_usage/#the-effect-of-scale-string-values","title":"The effect of <code>scale</code> string values:","text":"<ul> <li>When <code>false</code>, the image is not scaled.</li> <li>When <code>true</code>, the image is scaled proportionally to fit within the available image cell space.</li> <li>When <code>width</code>, the image width is expanded (height is normally unchanged) to fill the available image cell space width.</li> <li>When <code>height</code>, the image height is expanded (width is normally unchanged) to fill the available image cell space height.</li> <li>When <code>both</code>, both image width and height are expanded independently to fill the available image cell space.</li> </ul> <p>In all cases (except <code>true</code>) the image might get distorted when a specified fixed image cell size limits the available space to less than what an unscaled image needs.</p> <p>In Filare diagrams there are no other space demanding cells in the same row, and hence, there are never extra available image cell space height unless a greater image cell <code>height</code> also is set.</p>"},{"location":"advanced_image_usage/#usage-examples","title":"Usage examples","text":"<p>All examples of <code>image</code> attribute combinations below also require the mandatory <code>src</code> attribute to be set.</p> <ul> <li>Expand the image proportionally to fit within a minimum height and the node width:</li> </ul> <pre><code>height: 100 # Expand image cell to this minimum height\nfixedsize: false # Avoid scaling to a fixed size\n# scale default value is true in this case\n</code></pre> <ul> <li>Increase the space around the image by expanding the image cell space (width and/or height) to a larger value without scaling the image:</li> </ul> <pre><code>width: 200 # Expand image cell to this minimum width\nheight: 100 # Expand image cell to this minimum height\nscale: false # Avoid scaling the image\n# fixedsize default value is false in this case\n</code></pre> <ul> <li>Stretch the image width to fill the available space in the node:</li> </ul> <pre><code>scale: width # Expand image width to fill the available image cell space\n# fixedsize default value is false in this case\n</code></pre> <ul> <li>Stretch the image height to a minimum value:</li> </ul> <pre><code>height: 100 # Expand image cell to this minimum height\nscale: height # Expand image height to fill the available image cell space\n# fixedsize default value is false in this case\n</code></pre>"},{"location":"advanced_image_usage/#how-graphviz-support-this-image-scaling","title":"How Graphviz support this image scaling","text":"<p>The connector and cable nodes are rendered using a HTML <code>&lt;table&gt;</code> containing an image cell <code>&lt;td&gt;</code> with <code>width</code>, <code>height</code>, and <code>fixedsize</code> attributes containing an image <code>&lt;img&gt;</code> with <code>src</code> and <code>scale</code> attributes. See also the Graphviz doc, but note that Filare uses default values as described above.</p>"},{"location":"agents/","title":"Agent Guide","text":"<p>This page summarizes how Filare\u2019s multi-agent workflow is configured and what each role owns. For full rules, see <code>AGENTS.md</code> and the role playbooks under <code>agents/AGENT.&lt;ROLE&gt;.md</code> in the repository root.</p>"},{"location":"agents/#configuration","title":"Configuration","text":"<ul> <li>Base rules: <code>AGENTS.md</code> defines shared constraints (uv-only commands, backward-compatible CLI/schema, docs/tests expectations, branch naming <code>&lt;role&gt;/&lt;feature&gt;</code>, MR target <code>beta</code>, and output paths for plans under <code>outputs/agents/&lt;role&gt;/plan-N</code>).</li> <li>Role rules: Each role has a strict guide in <code>agents/AGENT.&lt;ROLE&gt;.md</code>. Follow both the base guide and your role guide.</li> <li>Workflow: Ask for your role, read the guides, write a short step plan, implement/test/docs, then open a PR into <code>beta</code>. Keep changes scoped to your role (e.g., DOCUMENTATION cannot alter behavior).</li> <li>Tooling: Use <code>uv venv</code>, <code>uv sync</code>, and <code>uv run \u2026</code> for all Python commands; avoid raw <code>pip</code>/<code>python</code>. Generated outputs should live under <code>outputs/</code> or temp dirs as noted in <code>AGENTS.md</code>.</li> </ul>"},{"location":"agents/#roles-overview","title":"Roles (overview)","text":"<ul> <li>DOCUMENTATION (<code>agents/AGENT.DOCUMENTATION.md</code>): Improve user/dev docs and docstrings; may add tests only to validate doc examples; no behavior changes.</li> <li>FEATURE (<code>agents/AGENT.FEATURE.md</code>): Implement one scoped feature per branch, track progress in <code>docs/features/&lt;feature&gt;.md</code>, add tests/docs, maintain compatibility unless explicitly allowed.</li> <li>REWORK (<code>agents/AGENT.REWORK.md</code>): Refactor and improve structure/clarity without altering user-visible behavior or schema.</li> <li>COVERAGE (<code>agents/AGENT.COVERAGE.md</code>): Increase test coverage with focused pytest/YAML regressions; document dead code; no feature work.</li> <li>TOOLS (<code>agents/AGENT.TOOLS.md</code>): Maintain CI, build scripts, Docker/tooling, and docs build pipeline; never touch runtime behavior.</li> <li>UI (<code>agents/AGENT.UI.md</code>): Evaluate usability and produce reports/workflows; does not change code or docs beyond reports/issues.</li> <li>EXPLORATOR (<code>agents/AGENT.EXPLORATOR.md</code>): Conduct research only; produce reports under <code>docs/research/</code>; no code/doc changes.</li> <li>JUDGE (<code>agents/AGENT.JUDGE.md</code>): Review and approve/reject other agents\u2019 branches; outputs are reviews/issues only.</li> <li>VALIDATOR (<code>agents/AGENT.VALIDATOR.md</code>): Write acceptance/functional tests to verify behavior against specs; no code or doc changes beyond tests/issues.</li> </ul>"},{"location":"architecture/","title":"Architecture Overview","text":"<p>This page gives a high-level map of how Filare fits together. For visual cheatsheets, see the Mermaid diagrams in <code>docs/graphs/architecture.md</code>, <code>docs/graphs/data_flow.md</code>, and <code>docs/graphs/models.md</code>.</p>"},{"location":"architecture/#main-entry-points","title":"Main entry points","text":"<ul> <li>CLI: <code>src/filare/cli.py</code> (exposed as <code>filare</code> via <code>uv run --no-sync filare ...</code>).</li> <li>Example/tutorial builder: <code>src/filare/tools/build_examples.py</code> drives the CLI over the example and tutorial sets.</li> </ul>"},{"location":"architecture/#visual-map","title":"Visual map","text":"<pre><code>flowchart TD\n  subgraph Models\n    A1[models: metadata/options]\n    A2[models: connector/cable/component]\n    A3[models: bom/types]\n    A4[models: document representation]\n  end\n\n  subgraph Parser\n    P1[yaml_loader]\n    P2[harness_parser]\n  end\n\n  subgraph Flows\n    F1[build_harness]\n    F2[render_outputs]\n    F3[shared_bom]\n    F4[index_pages]\n    F5[document representation yaml]\n  end\n\n  subgraph Render\n    R1[graphviz]\n    R2[\"output (HTML/PDF/assets)\"]\n    R3[templates/html_utils]\n  end\n\n  subgraph CLI\n    C1[cli]\n  end\n\n  Parser --&gt; Flows\n  Models --&gt; Flows\n  Flows --&gt; F5\n  F5 --&gt; Render\n  Render --&gt; Outputs[\"SVG, HTML, TSV, PDF\"]\n  CLI --&gt; Parser\n  CLI --&gt; Flows\n  CLI --&gt; F5</code></pre>"},{"location":"architecture/#end-to-end-flow","title":"End-to-end flow","text":"<ol> <li>Input ingestion    YAML harness files (plus optional metadata) are loaded and merged via <code>parser/yaml_loader.py</code> and parsed into Python structures by <code>parser/harness_parser.py</code>.</li> <li>Model construction <code>flows/build_harness.py</code> turns parsed data into the core models in <code>filare.models</code> (<code>Harness</code>, <code>Connector</code>, <code>Cable</code>, <code>Component</code>, BOM entries, page options, metadata).</li> <li>Rendering <code>flows/render_outputs.py</code> hands the assembled <code>Harness</code> to renderers:</li> <li>Graph output: <code>render/graphviz.py</code> builds DOT nodes/edges (including node images) and invokes GraphViz for SVG/PNG.</li> <li>Tabular/text output: <code>render/output.py</code> writes BOM/TSV and HTML wrappers; <code>render/templates.py</code> provides the Jinja templates and HTML helpers.</li> <li>Document representation <code>flows/build_harness.py</code> now emits a pre-render <code>DocumentRepresentation</code> (YAML) capturing metadata, page stubs, notes, and BOM (if enabled). Hash tracking prevents overwriting user-edited documents.</li> <li>Aggregate artifacts</li> <li><code>flows/shared_bom.py</code> emits a combined <code>shared_bom.tsv</code>.</li> <li><code>flows/index_pages.py</code> builds title pages and PDF bundles.</li> <li>Outputs    SVG/PNG diagrams, HTML pages (diagram + title block), TSV BOMs, shared BOM, and optional PDF bundles end up under the requested output directory.</li> </ol>"},{"location":"architecture/#extendingoperating","title":"Extending/operating","text":"<ul> <li>Update metadata/templates: tweak the per-folder metadata files (e.g., <code>examples/basic/metadata.yml</code>) or the templates under <code>src/filare/templates/</code>.</li> <li>Add formats or post-processing: extend <code>render/output.py</code> and, if needed, <code>flows/render_outputs.py</code>.</li> <li>Batch generation: call <code>uv run --no-sync python src/filare/tools/build_examples.py</code> (uses the same pipeline as the CLI).</li> <li>Build document YAML only (no render): <code>uv run --no-sync filare examples/basic/basic01.yml -d examples/basic/metadata.yml -f \"\" -o outputs</code> (document YAML and hashes are emitted alongside outputs).</li> <li>Force a document YAML refresh: remove <code>*.document.yaml</code> and <code>document_hashes.yaml</code> before rerun, or edit the YAML to keep your changes (hash guard prevents overwrite).</li> <li>Page types: see <code>docs/pages.md</code> for the list of page types (title, harness, bom, cut, termination) and their roles; enable cut/termination via <code>options.include_cut_diagram</code> / <code>options.include_termination_diagram</code>.</li> </ul>"},{"location":"architecture/#document-representation-and-hash-guard","title":"Document representation and hash guard","text":"<p>Filare writes a pre-render document snapshot (<code>&lt;output_name&gt;.document.yaml</code>) before producing SVG/HTML/TSV assets. It captures:</p> <ul> <li><code>metadata</code>: merged metadata for the harness</li> <li><code>pages</code>: page definitions (title/harness/bom/cut/termination) with names and format hints</li> <li><code>notes</code> and <code>extras</code>: freeform blocks carried into the final render</li> <li><code>bom</code>: tabular data if BOM generation is enabled</li> </ul> <p>A registry file <code>document_hashes.yaml</code> sits next to the outputs and tracks SHA-256 hashes of each generated document along with an <code>allow_override</code> flag:</p> <pre><code>demo01.document.yaml:\n  hash: 123abc...\n  allow_override: true\n</code></pre> <p>Workflow:</p> <ol> <li>On each run, Filare computes a hash of the generated document representation.</li> <li>If <code>allow_override</code> is <code>false</code> and the stored hash differs, Filare warns and keeps the existing <code>*.document.yaml</code> (assumes manual edits).</li> <li>If <code>allow_override</code> is <code>true</code> (default) or the file is new, Filare overwrites the document YAML and updates the hash registry.</li> </ol> <p>To freeze a document after manual edits, set <code>allow_override: false</code> for that entry in <code>document_hashes.yaml</code>. Delete the entry (or the entire file) to allow regeneration.</p>"},{"location":"brand/","title":"Filare Brand Identity","text":""},{"location":"brand/#core-meaning","title":"Core Meaning","text":"<ul> <li>Filare speaks to twisting, threading, weaving, wiring, bundling, and assembling \u2014 a natural fit for harnesses and configuration wiring.</li> <li>Linguistic roots: Latin filum (thread); Italian/Spanish filare (to spin/thread); French fil (wire).</li> </ul>"},{"location":"brand/#positioning","title":"Positioning","text":"<ul> <li>Tagline: \u201cWhere structures come together.\u201d</li> <li>Promise: A tool ecosystem for building, weaving, generating, and validating complex harnesses \u2014 physical or digital.</li> </ul>"},{"location":"brand/#brand-pillars","title":"Brand Pillars","text":"<ul> <li>Structure \u2014 Tools for building well-bundled systems, wiring, and harnesses.</li> <li>Craftsmanship \u2014 Clean, elegant, reproducible weave.</li> <li>Precision \u2014 Everything lines up mechanically, logically, electrically.</li> <li>Weave &amp; Flow \u2014 Filare pulls threads into a coherent whole.</li> <li>Industrial + Artisanal \u2014 Technical yet handcrafted.</li> <li>Modularity \u2014 Many threads; one harness.</li> </ul>"},{"location":"brand/#visual-identity","title":"Visual Identity","text":"<ul> <li>Palette: Deep Indigo <code>#3C3C8D</code>, Electric Teal <code>#3BC9B0</code>, Soft Gray <code>#E3E3E3</code>, Dark Graphite <code>#1A1A1C</code>, optional Copper accent <code>#C57F39</code>.</li> <li>Typography: Inter, Space Grotesk, or IBM Plex Sans for UI; JetBrains Mono or Fira Code for CLI/code.</li> <li>Logo ideas: Stylized thread loop forming an \u201cF\u201d; braided cable knot; weave pattern turning into a connector; cable bent into an infinity-like loop. (SVG explorations can be generated on request.)</li> </ul>"},{"location":"brand/#cli-identity","title":"CLI Identity","text":"<ul> <li>Command namespace: <code>filare</code> (short alias <code>fil</code> if desired).</li> <li>Sample verbs: <code>filare weave</code> (generate/assemble), <code>filare forge</code> (schematics), <code>filare inspect</code> (validate), <code>filare loom</code> (routing diagrams), <code>filare render</code> (export), <code>filare bind</code> (connect layers), <code>filare link</code> (map components), <code>filare draft</code> (spec skeleton).</li> </ul>"},{"location":"brand/#ecosystem-naming","title":"Ecosystem Naming","text":"<ul> <li>Core tool: Filare Core.</li> <li>Possible submodules/plugins: Filare Loom (diagramming), Filare Forge (generator), Filare Specs (schemas), Filare Studio (GUI), Filare Graph (topology), Filare Render (export utilities), Filare Vault (secure config), Filare Mechanica (2D/3D placement).</li> <li>File naming: <code>filare.yml</code>/<code>filare.toml</code>; outputs like <code>*.fil</code>, <code>*.loom</code>, <code>*.weave.svg</code>.</li> </ul>"},{"location":"brand/#voice-tone","title":"Voice &amp; Tone","text":"<ul> <li>Calm engineering; minimalist craft; \u201ctoolmakers for toolmakers.\u201d</li> <li>Sample lines: \u201cFilare weaves your system into coherence.\u201d / \u201cFrom threads to harness.\u201d / \u201cDesign wiring with intention.\u201d / \u201cPrecision, structure, and elegant assembly.\u201d</li> </ul>"},{"location":"brand/#use-cases","title":"Use Cases","text":"<ul> <li>Wire harness generation; cable bundle design; connectors and pin mapping; routing/weaving algorithms.</li> <li>Digital twin of cable networks; ECS/infra wiring; SOPS/AGE secrets weaving; messaging/service-mesh wiring; Terraform graphing; software component dependency wiring.</li> </ul>"},{"location":"buildscript/","title":"(Re-)Building the example projects","text":""},{"location":"buildscript/#commands","title":"Commands","text":"<ul> <li><code>python build_examples.py</code> to build generated files in all groups.</li> <li><code>python build_examples.py compare</code> to compare generated files in all groups against the last commit.</li> <li><code>python build_examples.py clean</code> to delete generated files in all groups.</li> <li><code>python build_examples.py restore</code> to restore generated files in all groups from the last commit.</li> <li><code>python build_examples.py -V</code> or <code>--version</code> to display the Filare version.</li> <li><code>python build_examples.py -h</code> or <code>--help</code> to see a summary of the usage help text.</li> </ul>"},{"location":"buildscript/#options","title":"Options","text":"<ul> <li>Append <code>-b</code> or <code>--branch</code> followed by a specified branch or commit to compare with or restore from (default: The last commit in the current branch).</li> <li>Append <code>-c</code> or <code>--compare-graphviz-output</code> to the <code>compare</code> command above to also compare the Graphviz output (default: False).</li> <li>Append <code>-g</code> or <code>--groups</code> followed by space separated group names to any command above, and the set of generated files affected by the command will be limited to the selected groups.   Possible group names:</li> <li><code>examples</code> to process <code>examples/{readme.md,ex*.*}</code></li> <li><code>tutorial</code> to process<code>tutorial/{readme.md,tutorial*.*}</code></li> <li><code>demos</code> to process<code>examples/demo*.*</code></li> </ul> <p>Affected filetypes: <code>.gv</code>, <code>.tsv</code>, <code>.png</code>, <code>.svg</code>, <code>.html</code></p>"},{"location":"buildscript/#usage-hints","title":"Usage hints","text":"<ul> <li>Run <code>python build_examples.py</code> after any code changes to verify that it still is possible to process YAML-input from all groups without errors.</li> <li>Run <code>python build_examples.py compare</code> after the rebuilding above to verify that the output differences are as expected after a code change.</li> <li>Run <code>python build_examples.py restore</code> before adding and committing to avoid including changes to generated files after the rebuilding above.</li> </ul>"},{"location":"changelog/","title":"CHANGELOG","text":""},{"location":"changelog/#v101-2025-12-02","title":"v1.0.1 (2025-12-02)","text":""},{"location":"changelog/#bug-fixes","title":"Bug Fixes","text":"<ul> <li>Bom links in generated readmes   (<code>85dd788</code>)</li> </ul>"},{"location":"changelog/#build-system","title":"Build System","text":"<ul> <li>Support output dir for examples   (<code>45c98cf</code>)</li> </ul>"},{"location":"changelog/#chores","title":"Chores","text":"<ul> <li> <p>Expand release/distribution tasks   (<code>9bb2bf3</code>)</p> </li> <li> <p>Extend refactor plan   (<code>c7e6820</code>)</p> </li> <li> <p>Ignore generated docs assets and format tutorials   (<code>ece7b03</code>)</p> </li> </ul>"},{"location":"changelog/#continuous-integration","title":"Continuous Integration","text":"<ul> <li> <p>Gate releases on version tags   (<code>5fd0f96</code>)</p> </li> <li> <p>Run semantic-release on main   (<code>67a5d75</code>)</p> </li> <li> <p>Use PYPI_API_TOKEN for twine   (<code>8b385af</code>)</p> </li> </ul>"},{"location":"changelog/#documentation","title":"Documentation","text":"<ul> <li> <p>Add architecture overview and mermaid checks   (<code>7c1f70e</code>)</p> </li> <li> <p>Add container usage and Dockerfile   (<code>f9cdee6</code>)</p> </li> <li> <p>Add mermaid sanity page and nav cleanup   (<code>e63b3b1</code>)</p> </li> <li> <p>Add mkdocs config and usage guidance   (<code>671010c</code>)</p> </li> <li> <p>Refresh examples readme   (<code>3edb537</code>)</p> </li> </ul>"},{"location":"changelog/#v100","title":"v1.0.0","text":""},{"location":"changelog/#fixes","title":"Fixes","text":"<ul> <li>use default_factory for NumberAndUnit qty (3bbb010)</li> <li>restore titleblock template and skip templates in prettier (caf08c2)</li> <li>add script and lint (b50a718)</li> </ul>"},{"location":"changelog/#documentation_1","title":"Documentation","text":"<ul> <li>add lint requirement before commits (52b4d6e)</li> <li>log example build alignment (f44b280)</li> <li>note example build before commits (d2cf036)</li> <li>enforce uv usage (a59640e)</li> </ul>"},{"location":"changelog/#ci","title":"CI","text":"<ul> <li>allow gh-pages push with contents write permission (e58d74e)</li> <li>build all examples via script and stage artifacts (180b8e3)</li> <li>align example build commands and download artifacts (60ea747)</li> <li>sync dev deps without lock (fe9430c)</li> <li>install dev deps in workflows (99812a5)</li> <li>include black/pre-commit in uv dev group (81ec91f)</li> <li>update main workflow actions (037e401)</li> <li>switch to uv and python 3.11 envs (9970eda)</li> </ul>"},{"location":"changelog/#chores_1","title":"Chores","text":"<ul> <li>add bisect runner for ex08 (06d1ea0)</li> <li>add CI-aligned pre-commit script (3628bfd)</li> <li>update uv guidance and python version (dd1309e)</li> </ul>"},{"location":"changelog/#other","title":"Other","text":"<ul> <li>1.0.0 (35d56cc)</li> <li>Revert \"render: use node image attrs for graphviz\" (220cdab)</li> <li>use absolute path to image (0f8919c)</li> <li>use node image attrs for graphviz (f9d08e3)</li> <li>lint doc (3a15b22)</li> <li>updated tutorial readme and save lock (0b76cfa)</li> <li>remove the brand agent (d13f588)</li> <li>Trim whitespace on embedded image URLs (ce8a393)</li> <li>Add CI documentation (d1ef701)</li> <li>Add GitHub CI workflow for Filare (38efb00)</li> <li>Rename codebase to Filare and update package paths (474709f)</li> <li>initial-commit (44d7fa6)</li> </ul>"},{"location":"changelog/#v055","title":"v0.5.5","text":""},{"location":"changelog/#fixes_1","title":"Fixes","text":"<ul> <li>support color and proper pin when un-ordered (f100cdf)</li> </ul>"},{"location":"changelog/#v054","title":"v0.5.4","text":""},{"location":"changelog/#features","title":"Features","text":"<ul> <li>loop use object to provide more attributes (afc1405)</li> </ul>"},{"location":"changelog/#v053","title":"v0.5.3","text":""},{"location":"changelog/#other_1","title":"Other","text":"<ul> <li>bump version to v0.5.3 (0029fc1)</li> <li>titleblock: add gitstatus info (da5a83f)</li> <li>metadata: add git_status (9230ee2)</li> <li>wv_dataclasses: force cast where needed (b17df57)</li> <li>sets have a clearer string (066ffaf)</li> <li>cast dimensions to int (1cf1430)</li> <li>page_options: cast all dimensions and fix post_init (5785ed7)</li> <li>parse_yaml: parse all int as string (0a78765)</li> <li>wireviz: prettier error for connection set length mismatch (f0a81da)</li> <li>wireviz: parser more explicit when connection set doesn't match (de3571c)</li> <li>Merge pull request #10 from HerClem/patch-1 (ed58a30)</li> <li>wv_dataclasses: update belden 24AWG MPN (23e685b)</li> </ul>"},{"location":"changelog/#v052","title":"v0.5.2","text":""},{"location":"changelog/#other_2","title":"Other","text":"<ul> <li>always generate titlepage (d5e294c)</li> </ul>"},{"location":"changelog/#v051","title":"v0.5.1","text":""},{"location":"changelog/#documentation_2","title":"Documentation","text":"<ul> <li>tasks: add a list of tasks todo (964b134)</li> </ul>"},{"location":"changelog/#other_3","title":"Other","text":"<ul> <li>index_table: fix sheet indexing (e30ba97)</li> </ul>"},{"location":"changelog/#v050","title":"v0.5.0","text":""},{"location":"changelog/#documentation_3","title":"Documentation","text":"<ul> <li>syntax: autogeneration not supported for now (005172e)</li> </ul>"},{"location":"changelog/#other_4","title":"Other","text":"<ul> <li>Merge pull request #9 from laurierloi/template-cable (367c6e1)</li> <li>cleanup (3021517)</li> <li>show partnumber under cable, skip if shared (753213d)</li> <li>remove support for mate/arrows (dedd922)</li> <li>examples rename 15 to 11 (f662625)</li> <li>remove dot assignment support (06ca42a)</li> <li>remove un-needed parameters (2b06b95)</li> <li>visual: increase ranksep and use polyline (28a0980)</li> <li>wv_graphviz: major cleanup - delete unused code (7850e56)</li> <li>empty subtype doesn't show (f22c60a)</li> <li>cable: instantiate notes (085f040)</li> <li>wv_colors: html_padded is white by default (1bf3c74)</li> <li>cable show length conditionally (2c82a51)</li> <li>remove second option for color (17b1da9)</li> <li>update to support cables (3b8b1fc)</li> <li>wire top row completed (2ac4239)</li> <li>templates cable: initial commit (c850d56)</li> <li>start supporting cable template (ad76f5a)</li> </ul>"},{"location":"changelog/#v041","title":"v0.4.1","text":""},{"location":"changelog/#documentation_4","title":"Documentation","text":"<ul> <li>README: update to install laurierloi branch (dcbe87f)</li> <li>syntax: remove show_wirenumbers (a9e8ba6)</li> </ul>"},{"location":"changelog/#other_5","title":"Other","text":"<ul> <li>cleanup (f3c9992)</li> <li>page_options: show index by default (028f1ff)</li> <li>index_table: avoid adding quantity if not defined (690a597)</li> <li>wv_harness: update logic and checks of connector pin (51a0593)</li> <li>pin_name: use pin number instead of index in definition (46ae997)</li> <li>cast pin to int (442d1ee)</li> <li>support PINLABEL__PININDEX naming in connections (22c2371)</li> <li>components are sorted (0612570)</li> <li>update cli to separe prepend (1a1cb2c)</li> <li>modify import order - visual (4d9ac07)</li> <li>parse_yaml: add utility to parse and merge yaml files (92eb12d)</li> <li>whitespace cleanup (76b2bbb)</li> <li>index_table: include quantity multipliers (0946f8f)</li> <li>update with modified classes (d8d8a47)</li> <li>wv_output: update with updated bom, titlepage and metadata (b8b8e6a)</li> <li>by default titlepage is None, necessary for 1 page harnesses (f55a578)</li> <li>wv_harness changes (50e5f2a)</li> <li>constrain metadata (cfd3052)</li> <li>page_options: add ComponentDimensions and for_pdf option (97fdd79)</li> <li>add renderer class (3271693)</li> <li>add index_table (67ecb7b)</li> <li>demo: update metadata fields (7c760c3)</li> <li>output: remove debug print (39b0989)</li> <li>strict templates &amp; related fixes (f7ff1bf)</li> <li>per_harness always showed for shared_bom (428302c)</li> <li>include additional_bom_items in bom (1d33ada)</li> <li>connector support qty multiplier (efc7a3d)</li> <li>added treewide as a first-class config like Options (c6e46d4)</li> <li>warn if options defined within (2bd1598)</li> <li>dont duplicate pn in sheet name (40eef76)</li> <li>titleblock: fix row 9 classes (50b9106)</li> <li>page_options: cleanup (03a38f4)</li> <li>sort files (d882326)</li> <li>page number properly increments (c864145)</li> <li>wv_harness: warn for some common failures for clarity (bd09dd9)</li> <li>index_table: manage the no bom case properly (2f68617)</li> <li>page_options and metadata in separate files (9e94a43)</li> <li>show at maximum 2 pn in header (688a732)</li> <li>fix subtype defined as type (66f97b1)</li> <li>remove extra commented code (89b53fc)</li> <li>disable node_component, use only node_connector (0d0308f)</li> <li>connector cannot be called with gv_node_component (6dfe3e7)</li> <li>support list with its own dataclass (2402cb4)</li> <li>use component_table and simplify render parameters (cee4723)</li> <li>update dataclasses (b583f90)</li> <li>split into different modules (aec9b54)</li> <li>Merge pull request #6 from laurierloi/templates-connector (003a3d0)</li> <li>properly scaled (54f7499)</li> <li>support additional_components (f3b5092)</li> <li>support image and notes (3a3f609)</li> <li>small fixes (1b9ba0b)</li> <li>wv_graphviz: better connector template (62e0d79)</li> <li>templates: connector (f7ce022)</li> <li>add templates connector (b687a9f)</li> <li>wv_harness: comment out debug code (3c9f324)</li> <li>Merge pull request #5 from laurierloi/bom-column-format (c4456d5)</li> <li>wv_output: titlepage bom not shortened (8ea239a)</li> <li>wv_bom: fix bom columns (60abe07)</li> <li>column-format update initial (720fce3)</li> <li>fix pdf titlepage name (26b1cc8)</li> <li>cleanup (43d6d19)</li> <li>Merge pull request #4 from laurierloi/index-table (f77654f)</li> <li>build_examples: simplify the tool, no git diff supported (3ebb12c)</li> <li>add index_table to titlepage (687e99d)</li> <li>bom: show bom header (66e3258)</li> <li>add weasyprint (648872a)</li> <li>add titlepage and tempaltes depend on each-other (956e199)</li> <li>wv_cli: if multiple files, only generate shared pdf (e61c03c)</li> <li>Merge pull request #3 from laurierloi/pdf-support-weasyprint (7d61f0e)</li> <li>wv_output: support multiple-pages pdf (b013369)</li> <li>din-6771: fix dimensions (2ea9c44)</li> <li>titleblock: don't force total width or height (241225a)</li> <li>din-6771 orientation set in page (e1cf97c)</li> <li>remove calc, do all through jinja (19a6c04)</li> <li>add support using weasyprint (7777002)</li> <li>wv_cli: output combined html only if more than 1 file (275d4b5)</li> <li>underlying commands - no converter included (1ecbe6d)</li> <li>.gitignore: ignore outputs (7217667)</li> <li>shared library for methods (f5b9577)</li> <li>add placement options for din-6771 (e4a4e7d)</li> <li>wv_harness_quantity: better message if multplier not defined (b5720b2)</li> <li>titleblock: title font a little smaller to support 2 rows without overflow (391412c)</li> <li>better placement and formatting (cd695d0)</li> <li>update BOM height responsiveness (6dd9a30)</li> <li>examples,tutorial: provide default metadata (f0a6631)</li> <li>flag to restrict_printed_lengths (1ea0b9f)</li> <li>wv_harness: only add pn if not already in name (0f06b45)</li> <li>wv_cli: print out the qty_multipliers used (f20e660)</li> <li>add scaling of shared harness (5b41913)</li> <li>wv_harness_quantity: add support for harness quantity multipliers (c31ef66)</li> <li>init: update app url to fork (3d2c8c1)</li> <li>wv_dataclass: remove pdb (581f6f6)</li> <li>wv_graphviz: remove bom bubble (ff74601)</li> <li>wv_harness: add all items to bom (9a4334e)</li> <li>wv_dataclasses: improved qty_multiplier support for additional items (57ec0ea)</li> <li>wv_dataclass: partnumberinfo supports comparisons (7b201eb)</li> <li>wv_dataclass: move arrow dataclass (be17ded)</li> <li>wv_bom: simplify partnumbers2list (8506954)</li> <li>remove support (8343f62)</li> <li>wv_harness: refactor bom management (8a21201)</li> <li>wv_graphviz: improved type management (b5ca003)</li> <li>wv_dataclasses: dataclasses for BomItem and PartNumberInfo (b34db3d)</li> <li>wb_bom: only generate formatted values, no dataclasses (d909485)</li> <li>wv_colors: manage SingleColor case better (4d26519)</li> <li>add output_name to metadata (d890a68)</li> <li>titleblock: table has same class as div (4522fa2)</li> <li>bom: table has same class as div (5e868aa)</li> <li>wv_output: use bom template (dcc97b9)</li> <li>use pathlib and force path arguments (565391e)</li> <li>include subdirs (76b2c27)</li> <li>build_examples: call cli directly instead of using runner (134feb4)</li> <li>update pages with bom and remove un-needded styles (013d447)</li> <li>titleblock style defined within (920bf06)</li> <li>add bom (04f18ae)</li> <li>update readme (3b2174a)</li> <li>examples/tutorial: remove generated outputs (23eb99f)</li> <li>titleblock: all within one table (39263cb)</li> <li>add shared_bom support (bbbf3fb)</li> <li>wv_output: cleanup (b3a86f4)</li> <li>update titleblock with template (72ae647)</li> <li>jinja2: use jinja2 for html template (641b44a)</li> <li>wireviz cli entry point now named 'cli' (fc500b6)</li> <li>wireviz: suport belden wires mpn (2cef8ac)</li> <li>wireviz: wv_bom: limit bom table width (5f271bc)</li> <li>ignore examples/tutorial tsv files (cae4173)</li> <li>templates: din-6771: alternate BOM row color (efabc80)</li> <li>wireviz: support sheet count (a9329a4)</li> <li>wireviz: support extra metadata (55da28d)</li> <li>include templates in package (85a141b)</li> </ul>"},{"location":"changelog/#v04","title":"v0.4","text":""},{"location":"changelog/#other_6","title":"Other","text":"<ul> <li>set version 0.4 (6d82c88)</li> <li>Merge pull request #1 from laurierloi/refactor/big-refactor (6a00e81)</li> <li>modified by cleanup (fcbfa09)</li> <li>don't depend on zsh (6f3b586)</li> <li>wireviz: log if adding additional bom item failed (13d3488)</li> <li>Add suggestions from #186 (1faaff0)</li> <li>Add suggestions from #246 (b075e06)</li> <li>Disable CLI BOM output (3122d06)</li> <li>Fix additional component BOM table layout (1eeae1d)</li> <li>Improve conductor table rendering (93f0605)</li> <li>Implement bundle part number rendering (38f8147)</li> <li>Add TODOs (df914da)</li> <li>Add bundles' wires' part number info to BOM (b0b80d7)</li> <li>Fix BOM output in TSV and HTML (0bdda48)</li> <li>Include part number info in BOM table (682e45f)</li> <li>Resume work on BOM (c89c8db)</li> <li>Comment out BOM modes (WIP) and BOM bubbles (bf3c7c9)</li> <li>Apply #261 (f88981c)</li> <li>Add TODO for empty connector pin tables (7aef7f7)</li> <li>BOM modes (d8f38c5)</li> <li>Add test file for node and title bgcolors (524f8e6)</li> <li>Fix node background color rendering (e73c1ff)</li> <li>Fix color cell implementation (d93e76a)</li> <li>Implement multiple colors for components, improve multicolor table rendering (277537a)</li> <li>Allow multiple colors for components (9317bb9)</li> <li>Update test files (b8fa662)</li> <li>Add some test files to <code>tests/</code> directory (4be7956)</li> <li>Implement pin color output (2e47299)</li> <li>Optimize BOM bubble geometry (331c340)</li> <li>Fix line breaks in code (58259a0)</li> <li>Fix gauge conversion (2ab46a9)</li> <li>Add BOM bubble to additional component list (WIP) (865cd22)</li> <li>Stop recursive nesting of additional components (d3a9d8a)</li> <li>Implement BOM bubbles (22762d8)</li> <li>Change BOM output file extension from <code>.bom.tsv</code> to <code>.tsv</code> (0198a0f)</li> <li>Rename <code>Options.color_mode</code> to <code>.color_output_mod</code> for consistency (c43701b)</li> <li>Sort BOM by category, assign BOM IDs (0cca117)</li> <li>Add <code>tabulate</code> to dependency list (might remove later if not needed) (58e9a5f)</li> <li>Adapt <code>tutorial08.yml</code> (remove <code>unit</code> field) (4e87706)</li> <li>Add qty test file (1bef55e)</li> <li>Compute qty's of additional components (WIP) (c501151)</li> <li>Make <code>pin_objects</code> and <code>wire_objects</code> dictionaries (b61a52e)</li> <li>Implement BOM population (missing: qty multipliers) (e7b1a97)</li> <li>Clarify <code>wireviz.parse()</code> input types (8828ce1)</li> <li>Restructure and update <code>.gitignore</code> (97d8756)</li> <li>Add <code>pyan</code> to <code>devtools.txt</code> (0a4b266)</li> <li>Rename modules, adjust imports, move <code>build_examples.py</code> (10cf62e)</li> <li>Deprecate Python 3.7, add Python 3.10 (56e37b6)</li> <li>Define CLI epilog str in single statement (38f92e7)</li> <li>Change <code>description</code> to <code>type</code> in additional BOM item YAML (aa134fb)</li> <li>Prepare <code>harness.populate_bom()</code> (cb07d51)</li> <li>Improve BOM generation (TODO: wires from a bundle) (1cba27f)</li> <li>do not add autogenerated designators to BOM (a59149b)</li> <li>Include nested additional components in BOM (d9f0c3f)</li> <li>Clean up (7294bf1)</li> <li>Improve subclassing of components, prepare for BOM refactoring (9e1e97b)</li> <li>Remove unused line (4e12f3d)</li> <li>Apply dot tweaks last (a1db161)</li> <li>Make variable name more expressive (b7f49b0)</li> <li>Break longer lines not caught by <code>black</code> (dcc750c)</li> <li>Make green color darker (1a1478f)</li> <li>Re-sort <code>wv_colors.py</code> (8aa03c4)</li> <li>Use color objects in WireViz (c2fb59f)</li> <li>Implement color objects (c23430e)</li> <li>Add <code>cleanup.sh</code> (maybe move/delete later? or add commit hook?) (8adf8b0)</li> <li>Streamline assignment of ports to simple connectors (7f29c0a)</li> <li>Add sample use to <code>devtools.txt</code> (194f134)</li> <li>Run <code>autoflake -i --remove-all-unused-imports</code> (d4fc174)</li> <li>Run <code>autoflake -i</code> (539e9e3)</li> <li>Add <code>devtools.txt</code> (585db0e)</li> <li>Make mates object-oriented (974e9a4)</li> <li>Alphabetize HTML tags, improve bgcolor rendering (1227586)</li> <li>Make connecting things more object-oriented (efda8fa)</li> <li>Outsource <code>gv_edge_wire()</code> (6353a79)</li> <li>Reactivate cable edge generation (95631a4)</li> <li>Fix and simplify bgcolor logic (fce56bc)</li> <li>Make setting HTML tag attributes easier through <code>kwargs</code> (a4a73f1)</li> <li>Outsource <code>set_dot_basics()</code> and <code>apply_dot_tweaks()</code> (2999878)</li> <li>Add TODOs (05ad6b0)</li> <li>Outsource <code>gv_pin_table()</code>, simplify padding (7c0e75f)</li> <li>Remove old stuff, slightly simplify code (75ad23a)</li> <li>More WIP (d993f58)</li> <li>WIP (c8690a9)</li> <li>Implement HTML indentation (0f6ed3a)</li> <li>refactor cable node generation (bb9b43c)</li> <li>Generate gauge string inside Cable object (4eff1de)</li> <li>Rebuild demos (f4da47f)</li> <li>Further refactor connector node generation (7380129)</li> <li>Refactor connector node generation (77080c9)</li> <li>WIP (e769be3)</li> <li>Add temporary loop to <code>demo01</code> (3937509)</li> <li>Add <code>metadata.title</code> to <code>demo01.yml</code> (21d6e03)</li> <li>Rebuild all examples before refactoring (ab183f6)</li> <li>Make prefix for autogenerated component names configurable (81b0dba)</li> <li>Simplify Enum (abd53ec)</li> <li>Embed images into SVG output (28aa7f0)</li> <li>Auto-assign missing harness title if reading from file (81f9554)</li> <li>Simplify file access operations (c38305b)</li> <li>Make template separator character user-configurable (fbc90c0)</li> <li>Add support for multiple prepended files (8796709)</li> <li>Automatically include input file directory in list to resolve image paths (c1f195f)</li> <li>Update <code>build_examples.py</code> (36641bb)</li> <li>Write docstring for <code>parse()</code> function (76da525)</li> <li>Add leading underscore to local helper functions (22c3e18)</li> <li>Allow specifying output directory and file name separately (73dfe74)</li> <li>Consolidate <code>wireviz.parse()</code> to handle <code>Path</code>, <code>str</code> and <code>Dict</code> as input (1c9a1d8)</li> <li>Add 'black' badge to <code>README.md</code> (63b7124)</li> <li>Mention <code>isort</code> and <code>black</code> in contribution guidelines (daff23c)</li> <li>Apply some manual fixes, reapply <code>black</code> (a255596)</li> <li>Apply <code>black</code> (343cd29)</li> <li>Apply <code>isort</code> (e6f76f9)</li> <li>Add <code>black</code> profile for <code>isort</code> (3a18989)</li> <li>Create cache of graph to avoid generating it more than once (a9eb4f6)</li> <li>Split file output logic and object return logic (23db602)</li> <li>Improve <code>REAME.md</code> (8e31768)</li> <li>Output help string if no arguments are received (b8d74ba)</li> <li>Update README for new CLI commands (f87d9ef)</li> <li>Sort <code>--format</code> flags alphabetically (0044997)</li> <li>Add encoding info to <code>wv_cli.py</code> (884b982)</li> <li>Add <code>main()</code> to <code>wireviz.py</code> as fallback (63be33e)</li> <li>Remove obsolete comments (7638425)</li> <li>Fix smart file resolver for images (97207e6)</li> <li>Do not output <code>.gv</code> files by default (b9527a8)</li> <li>Implement image path resolver (a4a89eb)</li> <li>Split the YAML loading and parsing functions (471a6c3)</li> <li>Fix entry point (f325b69)</li> <li>Only output requested file types (closes #60) (a98e17b)</li> <li>Add CLI help strings (0764a8d)</li> <li>Remove unneeded code from <code>wireviz.py</code> (d0909d4)</li> <li>Implement working proof of concept (7121a3e)</li> <li>Add <code>wv_cli.py</code>, add Click requirement, change entry point (ef6af32)</li> <li>Simplify and clean up <code>setup.py</code> (628c80f)</li> <li>Simplify <code>main()</code> (095a2a0)</li> <li>Add explanatory comment (f78f83c)</li> <li>Replace <code>os.path</code> with <code>pathlib.Path</code> where used (0192f6d)</li> <li>Equalize line weights and simplify CSS (c1494db)</li> <li>Apply suggestions from code review (fd8749b)</li> <li>Apply suggestions from code review (e2f1a4e)</li> <li>Update <code>smart_file_resolve()</code> (359cd8d)</li> <li>Use regex-based replacement (ef69d7e)</li> <li>Implement <code>fontname</code> and <code>bgcolor</code>(WIP) replacement (a80192b)</li> <li>Consolidate code for replacing HTML placeholders (928f607)</li> <li>Apply <code>fontname</code> and <code>bgcolor</code> to output HTML (cf5315d)</li> <li>Add type hint (ea89dd4)</li> <li>Add template metadata to demo02.yml (a9c1724)</li> <li>Implement template-based HTML output (a839a47)</li> <li>Refactor functions for harness building (d44b649)</li> <li>Simplify code (37cd08d)</li> <li>Fix bug of arrows using the wrong port IDs (bc5ef2e)</li> <li>Fix duplicates in <code>syntax.md</code> after rebase (22e75f9)</li> <li>Move selected test files to examples directory (5cc133c)</li> <li>Update syntax description (autogeneration, arrows) (aa81c18)</li> <li>Resolve component level mate not revealing connection count (def03d1)</li> <li>Resolve edge case of empty HTML tables (f20f313)</li> <li>Squash <code>feature/mate+autogenerate</code> branch (e3fbc91)</li> <li>Bump version in generated files (211ded0)</li> <li>Bump version to 0.4-dev (4c97195)</li> </ul>"},{"location":"changelog/#v032","title":"v0.3.2","text":""},{"location":"changelog/#other_7","title":"Other","text":"<ul> <li>Bump version to 0.3.2 (b0d0070)</li> <li>Fix graphviz file header (9af0cb8)</li> </ul>"},{"location":"changelog/#v031","title":"v0.3.1","text":""},{"location":"changelog/#other_8","title":"Other","text":"<ul> <li>Bump version to 0.3.1 (7f33517)</li> <li>Improve gracefulness when invoking <code>wireviz.parse()</code> without <code>file_out</code> (80b7a54)</li> </ul>"},{"location":"changelog/#v03","title":"v0.3","text":""},{"location":"changelog/#other_9","title":"Other","text":"<ul> <li>Merge branch 'dev' (be1ecd4)</li> <li>Rebuild examples (eb7be15)</li> <li>Bump version to 0.3 (2629e1c)</li> <li>Update changelog (36dfaea)</li> <li>Harmonize shebangs and encoding info (3cc36e1)</li> <li>Add syntax documentation for cable length units (255569a)</li> <li>Rearrange syntax description (869ad6b)</li> <li>Add <code>temp/</code> to .gitignore (48d2e7b)</li> <li>Move color type aliases into wv_colors.py to avoid circular imports (7125f28)</li> <li>Support specifying hex colors for any color attributes (c349461)</li> <li>Support specifying hex colors where no color name is needed (b3fdd48)</li> <li>Support bgcolor of additional components (166ab2f)</li> <li>Support image.bgcolor to enable adapting to image colors (324508a)</li> <li>Support both bgcolor and bgcolor_title attributes (45d7d03)</li> <li>Add bgcolor attribute to connectors and cables (dbccb77)</li> <li>Implement suppliers and supplier part numbers (#241) (a3eefe6)</li> <li>Add optional tweaking of the .gv output (#215) (db05514)</li> <li>Add basic options and metadata (#214) (92354e6)</li> <li>Use unique index for connector pin ports (#229) (e212fc9)</li> <li>Update changelog for #197 (a368072)</li> <li>Simplify BOM code (#197) (31d55ff)</li> <li>Update contribution guidelines (cf91977)</li> <li>Update changelog and syntax documentation (cbc30b7)</li> <li>Remove <code>.</code> from requirements.txt (71a1c52)</li> <li>Remove duplicate contribution guidelines (bdc405a)</li> <li>Show connector pins even when all are unconnected (7546991)</li> <li>Correctly check for default of None (c0a885a)</li> <li>Assign the default cable length unit when not present (#206) (da56841)</li> <li>Detect and assign unit within cable length attribute (#198) (606ddbf)</li> <li>Add support for wire length units (dec64ab)</li> <li>Create separate modules for BOM and HTML functions (96bd121)</li> <li>Show pin labels of adjacent connectors in cable node (#70) (eebf932)</li> <li>Update example 08 to reference wires using colors (3bf448c)</li> <li>Allow referencing wires by color/label (#169,#193) (03e6077)</li> <li>Add option to add colors to connector pins (#141) (feff47f)</li> <li>Add type aliases that reflect their semantics (64bd34a)</li> <li>Update the types of dataclass attributes according to usage (3f091bb)</li> <li>Remove input text hyperlinks except in the HTML BOM (e2e8bbf)</li> <li>Allow addittional BOM items within components (#115) (e85ee5d)</li> <li>Bump version to 0.3-dev (4e4dac8)</li> </ul>"},{"location":"changelog/#v02","title":"v0.2","text":""},{"location":"changelog/#refactor","title":"Refactor","text":"<ul> <li>rename 'input' -&gt; 'yaml_data' (1f06c60)</li> </ul>"},{"location":"changelog/#other_10","title":"Other","text":"<ul> <li>Release v0.2 (55dfc28)</li> <li>Rebuild all examples with v0.2 (b2d1a29)</li> <li>Bump version to 0.2 (3e570d6)</li> <li>Improve documentation (6db1fcf)</li> <li>Avoid errors from HTML validator (fb17eae)</li> <li>Define application name and URL only once (7dcd1a7)</li> <li>Add version number to output files with meta info (b00040c)</li> <li>Simplify colorbar using the same technique as html_image() (1809f73)</li> <li>Add optional image to connectors and cables (#153) (4782da4)</li> <li>Add command line options to show version number (7df8a4b)</li> <li>Comment out unimplemented command line option (c4957f1)</li> <li>Add diff as an alias to the compare command (83a467a)</li> <li>Add -b BRANCH argument to the compare and restore commands (b14f5cb)</li> <li>Add .gitattributes for GitHub Linguist (#154) (df90d83)</li> <li>Add whitespace to GraphViz HTML for readability (e3fb39f)</li> <li>Rebuild GV HTML generation using lists (94faec5)</li> <li>Improve line break handling (af196df)</li> <li>Simplify code and rename variables (102c7d6)</li> <li>Add color attribute to cables (43f85ae)</li> <li>Refactor cable GraphViz HTML generation (2639c77)</li> <li>Remove obsolete code (79e751d)</li> <li>fix #149 introduced in #147 (19b82e9)</li> <li>Extend unknown color error message (#147) (84edda6)</li> <li>Improve handling of strings with '-' in wv_helper.expand() (4802705)</li> <li>Add 25-pair comments and split lines according to coloring pattern (9a3b8bc)</li> <li>Replace 20 YW color codes with YE to avoid Unknown color specified (113a731)</li> <li>Change wire padding behavior (23c17e6)</li> <li>Fix change requests from owner as descibed in PR #118 (99ca185)</li> <li>Add CLI option -c that allows comparing Graphviz output also (21db0d5)</li> <li>Move group loop into build_generated() for consistency (378e13b)</li> <li>Restructure the group dict initialization (94ca9cc)</li> <li>Make all actions honor the optional argument -g or --group (476f85b)</li> <li>Add actions to compare against and restore from the latest commit (4eedd94)</li> <li>Refactor build_examples.py (3fa015c)</li> <li>Make each shield wire uniform and allow cable.shield color (1815a13)</li> <li>Shorten BOM field names (#121) (b9a4783)</li> <li>Update README.md (f2f6548)</li> <li>Rebuild examples (a69fc76)</li> <li>Update example input files (2a963bf)</li> <li>Rename connector attributes (#77) (a1881eb)</li> <li>Change code for silver and gold (6468c0e)</li> <li>Fix HTML color code appearing in wire node (a632dc6)</li> <li>Fix node rendering for cables with hidden name and/or no visible attributes (#104) (b028e7a)</li> <li>Fix superscript 2 in HTML output (#95) (a418005)</li> <li>Add new colors (olive green, light blue, beige, ivory) (a8b2dc3)</li> <li>Rebuild examples (8f833d9)</li> <li>Update example input files (afbd11c)</li> <li>Eliminate ferrule category, unify connectors (#78) (831b423)</li> <li>Build examples in the correct order (cae16bf)</li> <li>Rebuild examples (0da4441)</li> <li>Update changelog (601532b)</li> <li>Disable color padding for cables with no multicolor wires (8cba793)</li> <li>Fine-tune multicolor wire PR (3732597)</li> <li>Add example outputs to GH Actions (c94d3ee)</li> <li>Update .gitignore (0637899)</li> <li>Change colors as per #17 review (ea948a2)</li> <li>Update readme and requirements (318b6c6)</li> <li>Fix unicode issue for windows (force an encoding) (fecf271)</li> <li>Finish adding multicolor support (b147aa0)</li> <li>Add new color definitions (07bb3f6)</li> <li>Add DOCTYPE declaration in HTML output (1c0c13b)</li> <li>Remove XML and DOCTYPE declarations from embedded SVG (b5ac632)</li> <li>Update build_examples (861380d)</li> <li>Add initial contribution guidelines (d1b4886)</li> <li>Add initial contribution guidelines (8f6b8a7)</li> <li>Move part number info directly below designator (11baf0f)</li> <li>Remove obsolete nesting function, fine-tune table generating behavior (6c7d700)</li> <li>Refactor connector GraphViz code generation (#66) (7e54c7a)</li> <li>Add type hinting (#92) (12d3002)</li> <li>Make multi-line connector attributes centered for consistency (ba8b83f)</li> <li>Match parse() return tuple order to input tuple order (#89) (34cd9c2)</li> <li>Add ability for <code>parse()</code> to return the <code>Harness</code> instance (#87) (c8dc697)</li> <li>Make file output more consistently behaved. (9de33b4)</li> <li>Add ability to include aditional BOM lines (#80) (8b69e9a)</li> <li>Remove unused parameter, fix default parameter (#76) (3eed968)</li> <li>Add changelog (0cef5e3)</li> <li>Simplify connector loop code (9e11051)</li> <li>Ensure items in a connection set alternate between connectors and cables (cf6d367)</li> <li>Update example YAML files (b988e9b)</li> <li>Make connecting components together easier and more flexible (b479190)</li> <li>Allow using connector pin names to define connections (8f5b1aa)</li> <li>Check for duplicate pin numbers and raise an exception (6a2924f)</li> <li>Outsource nested HTML table creation to helper function (e1e6655)</li> <li>Fix bug in bundle wire BOM generation (0252476)</li> <li>Implement line break parsing for ferrules (501303c)</li> <li>Merge changes to ferrule code generation (c2fa1d0)</li> <li>Fine-tune examples including ferrules (981b585)</li> <li>Refactor ferrule GraphViz code generation (54f114e)</li> <li>Remove any newlines in fields for BOM generation (46ed241)</li> <li>Implement line break parsing for some fields (d4ac4da)</li> <li>Simplify BOM code (#62) (4e9933f)</li> <li>Fix bug in refactoring of #55, add SVG output option (de1e45f)</li> <li>Refactor #55 (144c99e)</li> <li>Add ability to export PNG data directly to other programs. (#55) (ebf1e5a)</li> <li>Update requirements.txt (#58) (8b067e5)</li> <li>Make parts of BOM code more pythonic (b238737)</li> <li>Clean up code (84c10e2)</li> <li>Simplify and fix bug in BOM generation (407a923)</li> <li>Fix bug of non-bundle wires appearing in BOM (4796c7c)</li> <li>Rebuild examples (21b3c9e)</li> <li>Fine-tune cable appearance (1692968)</li> <li>Update example+tutorial input files (65a4d6b)</li> <li>Fix post-merge bugs (94731cd)</li> <li>Merge branch 'feature/part-number' into dev (5fbe3e6)</li> <li>Add cable type in a couple of examples (77bf398)</li> <li>Support named type of cables (or wires in a bundle) (6f91b65)</li> <li>Move the cable category filtering before BOM grouping (c9895bd)</li> <li>Use lambdas for BOM grouping, and rename group variables (dd1372c)</li> <li>Added rendered output for new tutorial (39ad070)</li> <li>Added part number tutorial (4d2cb63)</li> <li>Merged in refactoring changes from upstream (c200f66)</li> <li>Added spaces after MPN: and IPN: (9c5ea06)</li> <li>Added diagram support for part numbers on ferrules (f67235e)</li> <li>Improved part number support (1ec9ca4)</li> <li>Merge branch 'dev' (fffb354)</li> <li>Fix demo 01 (49322fc)</li> <li>Update .gitignore to include venv/ directory (b163b7a)</li> <li>Reorder readme (23e22f5)</li> <li>Merge branch 'dev' (8b09fac)</li> <li>Update example 08 to hide pincount on 3.5mm jack (9d2c193)</li> <li>Update readme to reflect changes from #41 (e047f06)</li> <li>Rebuild example 02 after fixes from #41 (52a8af2)</li> <li>bidirectional AWG/mm2 unit conversion (#41) (08e53bc)</li> <li>Fix URL in setup.py (fixes #42) (c7014a2)</li> <li>Merge branch 'dev' (7458118)</li> <li>Address FIXMEs and fine-tune merge of #39 (c42b33b)</li> <li>Refactor and clean up code (#39) (82b173f)</li> <li>Added ability to set part numbers (92b6b21)</li> <li>Merge branch 'dev' (8326ddd)</li> <li>Fix for Designators apearing across all colours of wires of a guage. (#37) (a3728f5)</li> <li>Update readme (0a42b35)</li> <li>Merge branch 'dev' (4aac32b)</li> <li>[ci] Setup Github actions to run 'build_examples.py' as a test on each pull/pull request. (#34) (6cf7178)</li> <li>Merge pull request #35 from flopp/typos (a7419c4)</li> <li>Fix some typos: budnle, conector, separetely (eb65be3)</li> <li>Remove TODO file, move to-do's to GitHub Projects (69bc20a)</li> <li>Merge branch 'dev' (37d5ebd)</li> <li>Add parse_file() function and use it in build_examples.py (7060c38)</li> <li>Update gitignore (5d84bb8)</li> <li>Change gen_bom to generate_bom (154e28f)</li> <li>add --prepend-file option (f14a07f)</li> <li>fix install notes (a1f5117)</li> <li>Fix typo (668667d)</li> <li>update build_examples script (cdb2cf2)</li> <li>add install instructions to readme (60cd069)</li> <li>clean up imports, cmdline handling (9af391f)</li> <li>refactor dependencies and installation (5514fd4)</li> <li>Move source from src/ to src/wireviz/ (dfb184c)</li> <li>Merge branch 'dev' (5c582cb)</li> <li>Fine-tune wire BOM output if no gauge is specified (4661992)</li> <li>Update demos and examples (790e9c9)</li> <li>Auto-assign pincount = 1 for ferrules at initialization (da80d4b)</li> <li>Make custom pin numbers and hidden unused pins work nicely together (d0023c1)</li> <li>Merge branch 'hide_unconnected' into dev (304152f)</li> <li>Merge pull request #5 from elliotmr/master (0c6326b)</li> <li>Merge branch 'dev' (a5ca5be)</li> <li>Auto-generate pin numbers if only pincount is specified (8bf296b)</li> <li>Merge pull request #10 from kimmoli/custom-pinnumbers (b4ddbae)</li> <li>Merge branch 'dev' (2cfd239)</li> <li>Merge pull request #1 from Supern00dle/master (ffcdba4)</li> <li>Add optional custom pinnumbers to connector (955cf83)</li> <li>implemented functionality to hide pins that are not connected (c362149)</li> <li>Update wv_helper.py (2dfdbd5)</li> <li>Merge branch 'dev' (66a4716)</li> <li>Update readme (c1e6cf1)</li> <li>Merge branch 'dev' (6406e28)</li> <li>Add usage info to readme (644bcd7)</li> <li>Merge branch 'dev' (aba1478)</li> <li>Fine-tune tutorial, add tutorial BOMs (4384ca5)</li> <li>Update to-do and readme (1c57138)</li> <li>Fine-tune tutorials (9aea158)</li> <li>Add syntax highlighting to readme's (37f0f8b)</li> <li>Fine-tune tutorials (07fa0e2)</li> <li>Add batch tutorial generation (f09a81c)</li> <li>Add tutorial source files and readme (75990d8)</li> <li>Add tutorial folder to batch script (17a6e43)</li> <li>Improve ferrule handling, BOM creation (f858287)</li> <li>Make wires white by default if no color is specified (a7be096)</li> <li>Merge branch 'dev' (d14e017)</li> <li>Include BOM in example gallery (4fa700e)</li> <li>Update examples and readme (ccf4db5)</li> <li>Implement HTML output (a6cfa53)</li> <li>Implement sorting of BOM sections (6785417)</li> <li>Move color stuff and helper functions into separate modules (5a601f7)</li> <li>Remove unused code (22cc494)</li> <li>Improve BOM item names (653937f)</li> <li>Implement handling of wire bundles during BOM creation (aeccc2e)</li> <li>Change type: bundle to category: bundle (d535626)</li> <li>Restructure and simplify BOM creation (d97d1e1)</li> <li>Change wire lengths on demo 02 (93be0cb)</li> <li>Implement proof-of-concept HTML output (2eb6f1c)</li> <li>Fine-tune some details (a503545)</li> <li>Change 'gender' to 'subtype' for more flexibility (a43d770)</li> <li>Update readme (567e65f)</li> <li>Make BOM output optional (d2abf5f)</li> <li>Streamline BOM creation, implement cutlist (db31336)</li> <li>Add shield parameter to BOM generation (a8b9fc0)</li> <li>Improve handling of mm\u00b2 and AWG gauges (19f0a82)</li> <li>Rename nodes and wires to connectors and cables (3eaabc3)</li> <li>Rename num_wires to wirecount (2687afc)</li> <li>Rename num_pins to pincount (5bff36d)</li> <li>Add list of designators to BOM (75e1c11)</li> <li>Implement proof-of-concept BOM output (c0f72bc)</li> <li>Fine tune line breaks (5f55b65)</li> <li>Add notes field for nodes and wires (e204258)</li> <li>Fix AWG display (666de76)</li> <li>Remove obsolete functions (3c566b6)</li> <li>Update sample code in readme (6ee3b3c)</li> <li>Merge branch 'dev' (4eb313c)</li> <li>Update examples and to-do list (fdf5694)</li> <li>Make PNG background white by default (88967a3)</li> <li>Fine tune ferrule rendering (14c4c96)</li> <li>Implement cable nodes as HTML tables for better visualization (7ee78b7)</li> <li>Improve handling and customize rendering of ferrules (da0d0c8)</li> <li>Add daisy chain examples (7151346)</li> <li>Remove idea directory (e7c95e4)</li> <li>Merge branch 'dev' (4cceac0)</li> <li>Auto-generate example gallery (d86ec0a)</li> <li>Update and automate examples and demos (8aeabd0)</li> <li>Merge yaml2wireviz into wireviz module (d99952c)</li> <li>Add command line argument parsing (input/output file) (50e3441)</li> </ul>"},{"location":"changelog/#v01","title":"v0.1","text":""},{"location":"changelog/#other_11","title":"Other","text":"<ul> <li>Merge branch 'dev' (27362de)</li> <li>Update to-do list (f04441f)</li> <li>Make connection definition more readable, Pt. II: Create connection dataclass (c93fb74)</li> <li>Make connection definition more readable, Pt. I (9ff48ee)</li> <li>Show from/to designators on wire bundle (fcf6714)</li> <li>Fine-tune examples (12b4746)</li> <li>Add support for wire bundles (3becef7)</li> <li>Restructure to-do list (df6df75)</li> <li>Change some default parameter values (2dd21ae)</li> <li>Merge branch 'dev' (3ae3fff)</li> <li>Simplify ferrule creation (5461cb0)</li> <li>Clean up wire color assignment logic (5867bd5)</li> <li>Simplify init functions, Pt. III: use dataclasses (516d8c3)</li> <li>Simplify init functions, Pt. II (aeda312)</li> <li>Simplify processing input file sections (77a69d2)</li> <li>Simplify init functions, Pt. I (ab92292)</li> <li>Clean up code (07567be)</li> <li>Fine-tune wire colors (71641df)</li> <li>Add unnamed connector ('ferrule') support proof of concept (591829b)</li> <li>Merge branch 'dev' (2f42bb4)</li> <li>Update readme + todo (c58cda0)</li> <li>Move examples (c38d2b1)</li> <li>Add to-do list (346dd72)</li> <li>Add example 2 as YAML file (e829294)</li> <li>Re-format code (eaf57a8)</li> <li>Change order of arguments in wire..connect() (544e009)</li> <li>Implement YAML to WireViz converter (517cba4)</li> <li>Implement first proof of concept (e0286b2)</li> <li>Add pyyaml module (6b2da96)</li> <li>Add .txt exension to LICENSE file (841dd6e)</li> <li>Improve handling of single connections in Cable.connect() (a2971e7)</li> <li>Merge branch 'dev' (09af846)</li> <li>Add minimalist example 4 (06a9188)</li> <li>Add option to hide pin/wire counts (09bc282)</li> <li>Improve handling of empty lists when nesting (542aea2)</li> <li>Auto-decide connector pin side based on wiring (f0724ed)</li> <li>Merge branch 'dev' (5b0134f)</li> <li>Add wire color to loops (2b955fa)</li> <li>Add WireViz info to output file (9b745b6)</li> <li>Update examples, change output file extension from .dot to .gv (492710b)</li> <li>Move examples (30fe715)</li> <li>Improve output function (e3d78f3)</li> <li>Remove unused files (ae959f6)</li> <li>Merge branch 'dev' (2e7fc92)</li> <li>Delete old rendering functions (1e076b5)</li> <li>Re-implement rendering using graphviz module (85eab22)</li> <li>Add German color short codes (1dde27b)</li> <li>Add GraphViz Python module (e6cfc3b)</li> <li>Merge branch 'dev' (7fbaad6)</li> <li>Update readme (5278904)</li> <li>Make output background color transparent (ff94b47)</li> <li>Expand DIN 47100 colors (up to 20 wires) (db73fa5)</li> <li>Fix UTF encoding for \u00b2 character (504399c)</li> <li>Merge branch 'dev' (9a085c7)</li> <li>Remove old debug code (c0d8017)</li> <li>Improve color looping (049d439)</li> <li>Loop color codes (81b2cb5)</li> <li>Improve color code handling (5fc93a8)</li> <li>Change GraphVIz output from digraph to graph (5a2f3d7)</li> <li>Update readme (f649702)</li> <li>Add option to show equivalent AWG (e63dfc0)</li> <li>Merge branch 'dev' (a5c6a46)</li> <li>Update readme (685adde)</li> <li>Add Harness class, simplify harness creation (548adcd)</li> <li>Move to-do list into Readme (a51da37)</li> <li>Merge branch 'dev' (f11dce9)</li> <li>Split examples into separate files (542c4e6)</li> <li>Add output functionality to module (aee4ec1)</li> <li>Merge branch 'dev' (24be1bb)</li> <li>Update to-do list (af5d260)</li> <li>Update example 1 (802c10e)</li> <li>Update idea examples (1b3fdb1)</li> <li>Add different color printing modes (719ddd1)</li> <li>Update example output (c27f8dc)</li> <li>Enhance parameter support (140966f)</li> <li>Allow wires to hide pinout (485f7af)</li> <li>Add basic parameter support for connectors and wires (abba76b)</li> <li>Change double quotes to single quotes for strings (ee7d1ef)</li> <li>Add to-do list (1254ff2)</li> <li>Allow hiding connector name (7e1b238)</li> <li>Add info to header (b897231)</li> <li>Merge branch 'dev' (4030252)</li> <li>Update readme, add GNU GPL v3 license (d7a6deb)</li> <li>Improve shield wiring, fix and expand example 1 (d42b12f)</li> <li>Tweak brown color (a198d27)</li> <li>Add example 3 (5097f54)</li> <li>Add simple auto-wiring (da258ce)</li> <li>Update gitignore (c63da45)</li> <li>Add example 2 (0ae5814)</li> <li>Add example output (429d958)</li> <li>Make cable name hidden by default (006fdba)</li> <li>Add ability to define loops on connectors (075d9ed)</li> <li>Optimize file output (59816cf)</li> <li>Add wire colors (e084da0)</li> <li>Add GraphViz output functionality (48e744a)</li> <li>Create first draft of wireviz Python module (072958d)</li> <li>Update example2 (6b25817)</li> <li>Update readme (c6c7fbd)</li> <li>Update readme (bbed022)</li> <li>Update example1 (afcecbc)</li> <li>Update readme (45cc18c)</li> <li>Update example2 (7d763d0)</li> <li>Add example2 (7406617)</li> <li>Add wire color to example1 (f59b133)</li> <li>Update readme (c9402cb)</li> <li>Add gitignore (dbc1ccd)</li> <li>Update readme (6c9d415)</li> <li>Initial commit (bbb38e7)</li> </ul>"},{"location":"ci/","title":"Filare CI Pipeline","text":"<p>This repository uses:</p> <ul> <li>A main CI workflow (<code>.github/workflows/ci.yml</code>, named \u201cFilare Main CI (release path)\u201d) that runs on pushes to <code>main</code>/<code>beta</code> and on pull requests targeting <code>main</code> (release/publish path).</li> <li>A beta PR CI workflow (<code>.github/workflows/pr-beta-ci.yml</code>) that runs on pull requests targeting <code>beta</code> (lint \u2192 tests only).</li> <li>A lightweight guard workflow (<code>.github/workflows/pr-target-beta.yml</code>) that enforces the beta-first flow by blocking PRs that bypass <code>beta</code> or attempt to merge into <code>main</code> without prior validation.</li> </ul>"},{"location":"ci/#branch-validation-flow","title":"Branch &amp; validation flow","text":"<ul> <li>Default PR base is <code>beta</code>; set the repository\u2019s default branch to <code>beta</code> in GitHub settings so the GitHub UI/<code>gh pr create</code> offer <code>beta</code> by default.</li> <li>Beta PRs run <code>.github/workflows/pr-beta-ci.yml</code> (lint, then tests).</li> <li>A PR targeting <code>main</code> is allowed only when the head branch is this repository\u2019s <code>beta</code> branch and the PR carries the <code>validated</code> label (added by the validation agent); it runs the full <code>.github/workflows/ci.yml</code>.</li> <li>All other PR targets will fail the <code>Enforce beta as default base</code> check and must be retargeted to <code>beta</code>.</li> <li>Ensure the repository has a <code>validated</code> label so the validation agent can tag the <code>beta</code> \u2192 <code>main</code> promotion PR.</li> </ul>"},{"location":"ci/#jobs-stages","title":"Jobs / Stages","text":"<ol> <li>Lint</li> <li>Runs <code>black --check</code> on <code>src/</code> and <code>tests/</code>.</li> <li>Runs <code>prettier --check</code> on docs and templates.</li> <li> <p>Requires Python (3.11) and Node (for prettier).</p> </li> <li> <p>Tests</p> </li> <li>Installs graphviz and project + dev deps.</li> <li>Runs unit suite only: <code>pytest -m unit</code> (functional/documentation tests are opt-in).</li> <li> <p>Uses the same Python version as lint.</p> </li> <li> <p>Build examples/templates</p> </li> <li>Installs graphviz + project.</li> <li>Runs <code>filare</code> to generate outputs from examples/tutorials.</li> <li> <p>Uploads <code>outputs/</code> as an artifact for later stages.</p> </li> <li> <p>Text overlap check (pushes only)</p> </li> <li>Uses Playwright/Chromium (container image) to detect overlapping text across generated HTML outputs.</li> <li> <p>Runs only on pushes (not PRs); uses <code>filare-check-overlap</code> with warning/error thresholds and optional ignores.</p> </li> <li> <p>Docs / gh-pages (main only)</p> </li> <li>Copies <code>docs/</code> into <code>site/</code> and includes built example artifacts if present.</li> <li> <p>Publishes <code>site/</code> to GitHub Pages via <code>peaceiris/actions-gh-pages</code>.</p> </li> <li> <p>Document representation build (planned)</p> </li> <li>Build up to <code>DocumentRepresentation</code> YAML (with hashes) without rendering final assets, to validate graph/document assembly.</li> <li> <p>Useful for faster CI checks before full render/publish steps.</p> </li> <li> <p>Release (semantic-release, main only)</p> </li> <li>Uses <code>python-semantic-release</code> to bump the version, update <code>VERSION</code>, and publish release assets.</li> <li>Gating: downstream publish/verify/container steps run only if either the <code>VERSION</code> file changed or a new tag was created during the run (prevents double-publishing).</li> <li>Generates/updates <code>CHANGELOG.md</code> automatically and commits it with the release bump.</li> <li> <p>Needs <code>GH_TOKEN</code> (GitHub token) and <code>PYPI_TOKEN</code> (if publishing to PyPI through semantic-release).</p> </li> <li> <p>Publish to PyPI (main only)</p> </li> <li>Builds the distribution (<code>python -m build</code>).</li> <li> <p>Uploads via <code>twine</code> using <code>PYPI_TOKEN</code>.</p> </li> <li> <p>Verify PyPI</p> </li> <li> <p>Installs <code>filare</code> from PyPI and checks <code>filare --help</code>.</p> </li> <li> <p>Container (GHCR)</p> </li> <li> <p>Builds a Docker image and pushes to <code>ghcr.io/${{ github.repository }}:latest</code>.</p> </li> <li>Uses <code>GITHUB_TOKEN</code> for registry auth.</li> </ol>"},{"location":"ci/#required-secrets","title":"Required Secrets","text":"<ul> <li><code>PYPI_TOKEN</code>: PyPI API token for publishing.</li> <li><code>GH_TOKEN</code>: (optional) used by semantic-release for tagging; <code>GITHUB_TOKEN</code> provided by Actions is usually sufficient.</li> <li>GitHub Pages and GHCR steps use the built-in <code>GITHUB_TOKEN</code>.</li> <li>Tag-triggered release workflow (<code>release-on-tag.yml</code>) relies on <code>PYPI_TOKEN</code> and <code>GITHUB_TOKEN</code>; ensure <code>VERSION</code> matches the tag when releasing manually.</li> </ul>"},{"location":"ci/#local-reproduction","title":"Local Reproduction","text":"<ul> <li>Lint: <code>black --check src tests</code> and <code>prettier --check \"docs/**/*.{md,html}\" \"src/filare/templates/**/*.html\"</code>.</li> <li>Tests: <code>pytest -m unit</code> (use <code>pytest -m \"unit or functional\" --include-functional</code> to add slow documentation/functional tests; ensure <code>graphviz</code> is installed).</li> <li>Examples: <code>filare -f hs -o outputs/examples examples/demo01.yml</code>.</li> <li>Build dist: <code>python -m build</code>.</li> <li>Docker: <code>docker build -t filare-local .</code>.</li> </ul>"},{"location":"ci/#creatingupdating-the-pipeline","title":"Creating/Updating the Pipeline","text":"<ol> <li>Edit <code>.github/workflows/ci.yml</code> to adjust stages, Python/Node versions, or paths.</li> <li>Ensure secrets (<code>PYPI_TOKEN</code>) are set in the repo settings.</li> <li>Push to <code>beta</code> or <code>main</code> to exercise lint/tests/examples and text-overlap checks; push to <code>main</code> to run docs/publish/release. PRs to <code>beta</code> run the dedicated beta PR lint/test workflow; PRs to <code>main</code> run the full CI.</li> <li>For gh-pages, confirm Pages is enabled for the <code>gh-pages</code> branch.</li> </ol>"},{"location":"docs_improvement/","title":"Documentation Improvements (tracker)","text":"<p>Use this page to track Filare documentation gaps discovered in code or workflows. Each entry lists the target doc location and the source of truth in code/tests.</p>"},{"location":"docs_improvement/#open-gaps","title":"Open gaps","text":"<ul> <li>Quantity multipliers syntax reference</li> <li>Add a short subsection to <code>docs/syntax.md</code> under options explaining <code>--use-qty-multipliers</code>/<code>--multiplier-file-name</code>, expected <code>quantity_multipliers.txt</code> shape, and when to run <code>filare-qty</code>. Source: <code>src/filare/models/harness_quantity.py</code>, <code>src/filare/cli.py</code>.</li> <li>Cut/termination regression example</li> <li>Add a small YAML in <code>tests/rendering/</code> that exercises <code>include_cut_diagram</code> and <code>include_termination_diagram</code>, then cross-link from <code>docs/pages.md</code> once stabilized.</li> <li>Agent system upkeep (docs/agents.md)</li> <li>Keep the agent overview aligned with changes to <code>AGENTS.md</code> and <code>agents/AGENT.*.md</code> (e.g., new roles or workflow adjustments).</li> </ul>"},{"location":"docs_improvement/#completed-this-round","title":"Completed this round","text":"<ul> <li>Document representation and hash guard behavior (added to <code>docs/architecture.md</code>).</li> <li>Quantity multiplier workflow walkthrough (updated <code>docs/workflows/basic-output-generation.md</code>).</li> <li>Cut/termination page usage example (added to <code>docs/pages.md</code>).</li> <li>Agent system overview scaffold (added <code>docs/agents.md</code>).</li> </ul>"},{"location":"mermaid/","title":"Mermaid Sanity Check","text":"<p>This page exists to verify that Mermaid diagrams render correctly in the published docs and to exercise the <code>scripts/check-mermaid.sh</code> test.</p> <pre><code>flowchart LR\n  Input[YAML + metadata] --&gt; Parser[parser/yaml_loader]\n  Parser --&gt; Flows[flows/build_harness]\n  Flows --&gt; Render[render/graphviz + render/output]\n  Render --&gt; Outputs[SVG + HTML + TSV + PDF]</code></pre>"},{"location":"mkdocs/","title":"MkDocs","text":""},{"location":"mkdocs/#building-docs-locally-mkdocs","title":"Building docs locally (MkDocs)","text":"<p>The repo includes an <code>mkdocs.yml</code> that reuses the markdown files under <code>docs/</code>. To preview:</p> <pre><code>uv venv\nuv sync --group dev\nuv run --no-sync mkdocs serve -a 0.0.0.0:8000\n</code></pre> <p>To build static site into <code>site/</code>:</p> <pre><code>uv run --no-sync mkdocs build\n</code></pre>"},{"location":"mkdocs/#sphinx-api-docs-optional","title":"Sphinx API docs (optional)","text":"<p>Sphinx can be used to document the code (not wired yet). Suggested minimal setup:</p> <pre><code>uv add --group dev sphinx myst-parser sphinx-autodoc-typehints\nuv run --no-sync sphinx-quickstart docs/api\n</code></pre> <p>Then add a simple <code>conf.py</code> pointing to <code>src/</code> and enable <code>autodoc</code> + <code>myst_parser</code> to mix Markdown with API docs.</p>"},{"location":"pages/","title":"Document Pages","text":"<p>Filare assembles engineering documents as a set of page types. Each page carries its own purpose and data; the document representation (<code>*.document.yaml</code>) lists the pages to render.</p>"},{"location":"pages/#page-types","title":"Page types","text":"<ul> <li>title: Title page/front matter. Carries project metadata (part number, revision, company, authors, etc.).</li> <li>harness: The primary harness diagram page (GraphViz-rendered connector/cable graph embedded in HTML/PDF).</li> <li>bom: Bill of Materials page. Tabular listing of parts, quantities, and per-harness data. By default included and rendered to TSV/HTML.</li> <li>cut: Wire cut table/diagram. Intended to list wire IDs, gauges, lengths, and colors. Optional; disabled by default.</li> <li>termination: Termination table/diagram. Intended to list per-wire ends, splices/crimps, connector pins, and lengths. Optional; disabled by default.</li> </ul>"},{"location":"pages/#defaults","title":"Defaults","text":"<ul> <li>The default document includes: <code>title</code>, <code>harness</code>, and <code>bom</code> pages.</li> <li><code>cut</code> and <code>termination</code> pages are opt-in; enable via <code>options.include_cut_diagram</code> / <code>options.include_termination_diagram</code>.</li> <li>BOM inclusion can be turned off with <code>options.include_bom</code>.</li> <li>The index table is generated only on the title page. When split output is requested, the title page excludes the index content and writes <code>titlepage.index.html</code> instead.</li> </ul>"},{"location":"pages/#pagination-and-split-tables","title":"Pagination and split tables","text":"<ul> <li>Set <code>options.split_bom_page: true</code> and <code>options.bom_rows_per_page</code> to paginate the BOM into multiple HTML pages. The first page writes to <code>&lt;harness&gt;.bom.html</code>; subsequent pages use lettered suffixes (<code>&lt;harness&gt;.bom.b.html</code>, <code>&lt;harness&gt;.bom.c.html</code>, \u2026). <code>options.bom_force_single_page</code> keeps everything on one page even if <code>bom_rows_per_page</code> is set.</li> <li>Cut and termination tables also paginate when <code>cut_rows_per_page</code> / <code>termination_rows_per_page</code> are set alongside their respective <code>include_*_diagram</code> toggles. Additional pages use the same lettered suffix scheme.</li> <li>When pagination is active and <code>options.table_page_suffix_letters</code> is true (default), the index table lists lettered page names (e.g., <code>h.bom.a</code>, <code>h.cut.b</code>) and cut/termination title blocks display the letter suffix next to the sheet number.</li> </ul>"},{"location":"pages/#data-provided","title":"Data provided","text":"<ul> <li>Title: Metadata (PN, revision, company, address, authors, revisions, git status).</li> <li>Harness: Connector/cable graph, notes, title block, embedded images.</li> <li>BOM: Part numbers, quantities, per-harness quantities, designators, optional distributor fields; TSV + HTML render.</li> <li>Cut: Wire IDs, gauges, lengths, colors (planned); useful for shop-floor cutting.</li> <li>Termination: Wire ends with connector/pin, splices/crimps, lengths, notes (planned); useful for assembly steps.</li> </ul>"},{"location":"pages/#document-representation","title":"Document representation","text":"<p><code>*.document.yaml</code> lists pages with their types and names. Example snippet:</p> <pre><code>pages:\n  - type: title\n    name: titlepage\n  - type: harness\n    name: MAIN\n    formats: [svg]\n  - type: bom\n    name: bom\n  - type: cut\n    name: cut\n  - type: termination\n    name: term\n</code></pre> <p>User edits to the document YAML are preserved (hash-guarded). Delete <code>*.document.yaml</code> and <code>document_hashes.yaml</code> to regenerate from the harness if needed.</p>"},{"location":"pages/#minimal-cuttermination-example","title":"Minimal cut/termination example","text":"<p>Enable optional cut/termination pages via harness options:</p> <pre><code>metadata:\n  title: Example with cut/termination\noptions:\n  include_cut_diagram: true\n  include_termination_diagram: true\nconnectors:\n  X1:\n    type: D-Sub\n    pincount: 3\n  X2:\n    type: D-Sub\n    pincount: 3\ncables:\n  W1:\n    wirecount: 3\nconnections:\n  - - X1: [1-3]\n    - W1: [1-3]\n    - X2: [1-3]\n</code></pre> <p>Run <code>uv run filare example.yml -o outputs</code> to emit <code>example.document.yaml</code> and page stubs for cut/termination alongside the regular title/harness/BOM. The cut/termination tables are currently minimal; use them to list lengths, colors, and pin ends until richer layouts arrive.</p>"},{"location":"pages/#using-an-existing-document-representation","title":"Using an existing document representation","text":"<p>If a <code>*.document.yaml</code> already exists for the harness (same stem as the harness file, located in the output directory), Filare will load it and drive generation from it:</p> <ul> <li>Options in <code>extras.options</code> are applied before rendering (e.g., <code>include_cut_diagram</code>, <code>include_termination_diagram</code>, <code>split_bom_page</code>, <code>split_notes_page</code>, <code>split_index_page</code>).</li> <li>Page entries define which pages render; BOM/TSV output is skipped when the document omits a BOM page.</li> <li>Document-requested formats on each page are merged with CLI formats.</li> <li>Locked documents (<code>document_hashes.yaml</code> with <code>allow_override: false</code>) are respected and not overwritten.</li> </ul>"},{"location":"pages/#quick-demo","title":"Quick demo","text":"<ol> <li>Copy <code>examples/demo01.document.yaml</code> alongside the demo harness outputs (e.g., <code>cp examples/demo01.document.yaml outputs/</code>).</li> <li>Run <code>uv run filare examples/demo01.yml -f hpst -o outputs</code> to build SVG/PNG/TSV and the document YAML; split pages and index links follow the document.</li> <li>Edit <code>outputs/demo01.document.yaml</code> and rerun to see document-driven rendering; locked files (via <code>document_hashes.yaml</code>) are left untouched.</li> </ol>"},{"location":"refactor/","title":"Refactor Follow-ups","text":"<p>Tracked opportunities gathered from docs and in-code TODOs. Keep scope internal-only (no behavior changes).</p> <ol> <li>Rendering flow cleanups</li> <li><code>src/filare/render/html.py</code>: introduce a small data container for replacements to avoid ad-hoc dict assembly; add a PageOption to toggle SVG embedding; move template rendering into class-level methods to consolidate logic.</li> <li> <p><code>src/filare/render/graphviz.py</code>: extend connector/cable style support and add multicolor cable handling; make <code>ranksep</code> conditional on diagram density.</p> </li> <li> <p>Pydantic migration (tooling task from <code>docs/tasks.md</code>)</p> </li> <li> <p>Migrate remaining dataclasses toward Pydantic BaseModels stepwise, keeping compatibility shims until callers are updated.</p> </li> <li> <p>Output modularity (task queue in <code>RefactorPlan.txt</code>)</p> </li> <li>Finish splitting render/output responsibilities (HTML/PDF/assets) and audit template-vs-code string generation paths for clarity and testability.</li> </ol>"},{"location":"syntax/","title":"Filare Syntax","text":""},{"location":"syntax/#main-sections","title":"Main sections","text":"<pre><code>connectors:  # dictionary of all used connectors\n  &lt;str&gt;   :    # unique connector designator/name\n    ...          # connector attributes (see below)\n  &lt;str&gt;   :\n    ...\n  ...\n\ncables:      # dictionary of all used cables and wires\n  &lt;str&gt;   :    # unique cable designator/name\n    ...          # cable attributes (see below)\n  &lt;str&gt;   :\n    ...\n  ...\n\nconnections:  # list of all connections to be made\n              # between cables and connectors\n  -\n    ...         # connection set (see below)\n  -\n    ...\n  ...\n\nadditional_bom_items:  # custom items to add to BOM\n  - &lt;bom-item&gt;           # BOM item (see below)\n  ...\n\nmetadata:  # dictionary of meta-information describing the harness\n  &lt;key&gt;   : &lt;value&gt;  # any number of key value pairs (see below)\n  ...\n\noptions:  # dictionary of common attributes for the whole harness\n  &lt;str&gt;   : &lt;value&gt;  # optional harness attributes (see below)\n  ...\n</code></pre>"},{"location":"syntax/#connector-attributes","title":"Connector attributes","text":"<pre><code>&lt;str&gt;: # unique connector designator/name\n  # general information about a connector (all optional)\n  type: &lt;str&gt;\n  subtype: &lt;str&gt;\n  color: &lt;color&gt; # see below\n  image: &lt;image&gt; # see below\n  notes: &lt;str&gt;\n\n  # product information (all optional)\n  ignore_in_bom: &lt;bool&gt; # if set to true the connector is not added to the BOM\n  pn: &lt;str&gt; # [internal] part number\n  manufacturer: &lt;str&gt; # manufacturer name\n  mpn: &lt;str&gt; # manufacturer part number\n  supplier: &lt;str&gt; # supplier name\n  spn: &lt;str&gt; # supplier part number\n  additional_components: # additional components\n    - &lt;additional-component&gt; # additional component (see below)\n\n  # pinout information\n  # at least one of the following must be specified\n  pincount: &lt;int&gt; # if omitted, is set to length of specified list(s)\n  pins: &lt;List&gt; # if omitted, is autofilled with [1, 2, ..., pincount]\n  pinlabels: &lt;List&gt; # if omitted, is autofilled with blanks\n\n  # pin color marks (optional)\n  pincolors:\n    &lt;List&gt; # list of colors to be assigned to the respective pins;\n    # if list length is lower than connector pinout,\n    # no color marks will be added to remaining pins\n\n  # rendering information (all optional)\n  bgcolor: &lt;color&gt; # Background color of diagram connector box\n  bgcolor_title: &lt;color&gt; # Background color of title in diagram connector box\n  style: &lt;style&gt; # may be set to simple for single pin connectors\n  show_name:\n    &lt;bool&gt; # defaults to true for regular connectors,\n    # false for simple connectors\n  show_pincount:\n    &lt;bool&gt; # defaults to true for regular connectors\n    # false for simple connectors\n  hide_disconnected_pins: &lt;bool&gt; # defaults to false\n\n  # loops\n  loops: # each item shorts two pins on the connector\n    - first: &lt;pin&gt; # pin number or pin label\n      second: &lt;pin&gt; # pin number or pin label\n      side: &lt;LEFT|RIGHT|null&gt; # optional; anchor the loop to a side\n      show_label: &lt;bool&gt; # defaults to true; hide the label when false\n      color: &lt;color&gt; # optional stroke color\n    # shorthand tuple/list form is also allowed:\n    # - [&lt;pin&gt;, &lt;pin&gt;]  # treated as {first: &lt;pin&gt;, second: &lt;pin&gt;}\n\n  # example:\n  # loops:\n  #   - first: 1\n  #     second: 2\n  #     side: LEFT\n  #   - [3, 4]  # uses default side/label/color\n</code></pre> <p>Loops mark both pins as connected and render a short jumper on the chosen side (when provided). If <code>side</code> is omitted, Filare chooses a side based on the connector layout. Set <code>show_label: false</code> to hide the loop label for purely visual jumpers, and use <code>color</code> to highlight the jumper trace.</p>"},{"location":"syntax/#cable-attributes","title":"Cable attributes","text":"<pre><code>&lt;str&gt;: # unique cable designator/name\n  # general information about a connector (all optional)\n  category:\n    &lt;category&gt; # may be set to bundle;\n    # generates one BOM item for every wire in the bundle\n    # instead of a single item for the entire cable;\n    # renders with a dashed outline\n  type: &lt;str&gt;\n  gauge:\n    &lt;int/float/str&gt; # allowed formats:\n    # &lt;int/float&gt; mm2  is understood\n    # &lt;int&gt; AWG        is understood\n    # &lt;int/float&gt;      is assumed to be mm2\n    # &lt;str&gt;            custom units and formats are allowed\n    #                  but unavailable for auto-conversion\n  show_equiv:\n    &lt;bool&gt; # defaults to false; can auto-convert between mm2 and AWG\n    # and display the result when set to true\n  length:\n    &lt;int/float&gt;[ &lt;unit&gt;] # &lt;int/float&gt; is assumed to be in meters unless &lt;unit&gt; is specified\n    # e.g. length: 2.5 -&gt; assumed to be 2.5 m\n    # or   length: 2.5 ft -&gt; \"ft\" is used as the unit\n    # Units are not converted during BOM generation;\n    # different units result in separate BOM entries.\n  shield:\n    &lt;bool/color&gt; # defaults to false\n    # setting to true will display the shield as a thin black line\n    # using a color (see below) will render the shield in that color\n    # A shield can be accessed by using 's' as the wire ID\n  color: &lt;color&gt; # see below\n  image: &lt;image&gt; # see below\n  notes: &lt;str&gt;\n\n  # product information (all optional)\n  ignore_in_bom: &lt;bool&gt; # if set to true the cable or wires are not added to the BOM\n  pn: &lt;str&gt; # [internal] part number\n  manufacturer: &lt;str&gt; # manufacturer name\n  mpn: &lt;str&gt; # manufacturer part number\n  supplier: &lt;str&gt; # supplier name\n  spn: &lt;str&gt; # supplier part number\n  additional_components: # additional components\n    - &lt;additional-component&gt; # additional component (see below)\n\n  # conductor information\n  # the following combinations are permitted:\n  # wirecount only          no color information is specified\n  # colors only             wirecount is inferred from list length\n  # wirecount + color_code  colors are auto-generated based on the specified\n  #                         color code (see below) to match the wirecount\n  # wirecount + colors      colors list is trimmed or repeated to match the wirecount\n  wirecount: &lt;int&gt;\n  colors: &lt;List&gt; # list of colors (see below)\n  color_code: &lt;str&gt; # one of the supported cable color codes (see below)\n\n  wirelabels: &lt;List&gt; # optional; one label for each wire\n\n  # rendering information (all optional)\n  bgcolor: &lt;color&gt; # Background color of diagram cable box\n  bgcolor_title: &lt;color&gt; # Background color of title in diagram cable box\n  show_name: &lt;bool&gt; # defaults to true\n  show_wirecount: &lt;bool&gt; # defaults to true\n</code></pre>"},{"location":"syntax/#connection-sets","title":"Connection sets","text":"<p>A connection set is used to connect multiple components together. Multiple connections can be easily created in parallel within one connection set, by specifying a list of individual pins (for <code>connectors</code>) or wires (for <code>cables</code>) for every component along the way.</p> <pre><code>connections:\n  -                # Each list entry is a connection set\n    - &lt;component&gt;    # Each connection set is itself a list of items\n    - &lt;component&gt;    # Items must alternatingly belong to the connectors and cables sections\n    -...\n\n  - # example (single connection)\n    - &lt;connector&gt;: &lt;pin&gt;   # attach one pin of the connector\n    - &lt;cable&gt;:     &lt;wire&gt;  # attach one wire of the cable\n    - &lt;connector&gt;          # for simple connectors, pin 1 is implicit\n    - &lt;cable&gt;:     s       # for shielded wires, s attaches to the shield\n\n  - # example (multiple parallel connections)\n    - &lt;connector&gt;: [&lt;pin&gt;,  ..., &lt;pin&gt; ]  # attach multiple pins in parallel\n    - &lt;cable&gt;:     [&lt;wire&gt;, ..., &lt;wire&gt;]  # attach multiple wires in parallel\n    - &lt;connector&gt;                         # auto-generate a new connector for every parallel connection\n    - &lt;cable&gt;:     [&lt;wire&gt;-&lt;wire&gt;]        # specify a range of wires to attach in parallel\n    - [&lt;connector&gt;, ..., &lt;connector&gt;]     # specify multiple simple connectors to attach in parallel\n                                          # these may be unique, auto-generated, or a mix of both\n</code></pre> <ul> <li>Each connection set is a list of components.</li> <li>The minimum number of items is two.</li> <li>The maximum number of items is unlimited.</li> <li>Items must alternatingly belong to the <code>connectors</code> and the <code>cables</code> sections.</li> <li>When a connection set defines multiple parallel connections, the number of specified <code>&lt;pin&gt;</code>s and <code>&lt;wire&gt;</code>s for each component in the set must match. When specifying only one designator, one is auto-generated for each connection of the set.</li> <li><code>&lt;pin&gt;</code> may reference a pin's unique ID (as per the connector's <code>pins</code> attribute, auto-numbered from 1 by default) or its label (as per <code>pinlabels</code>).</li> <li><code>&lt;wire&gt;</code> may reference a wire's number within a cable/bundle, its label (as per <code>wirelabels</code>) or, if unambiguous, its color.</li> </ul>"},{"location":"syntax/#single-connections","title":"Single connections","text":""},{"location":"syntax/#connectors","title":"Connectors","text":"<ul> <li> <p><code>- &lt;designator&gt;: &lt;int/str&gt;, &lt;str&gt;__&lt;int&gt;</code> attaches a pin of the connector, referring to a pin number (from the connector's <code>pins</code> attribute) or a pin label (from its <code>pinlabels</code> attribute), provided the label is unique.</p> </li> <li> <p><code>- &lt;designator&gt;</code> is allowed for simple connectors, since they have only one pin to connect.   For connectors with <code>autogenerate: true</code>, a new instance, with auto-generated designator, is created.</p> </li> </ul>"},{"location":"syntax/#cables","title":"Cables","text":"<ul> <li><code>&lt;designator&gt;: &lt;wire&gt;</code> attaches a specific wire of a cable, using its number.</li> </ul>"},{"location":"syntax/#multiple-parallel-connections","title":"Multiple parallel connections","text":""},{"location":"syntax/#connectors_1","title":"Connectors","text":"<ul> <li><code>- &lt;designator&gt;: [&lt;pin&gt;, ..., &lt;pin&gt;]</code></li> </ul> <p>Each <code>&lt;pin&gt;</code> may be:   - <code>&lt;int/str&gt;</code> to refer to a specific pin, using its number (from its <code>pins</code> attribute) or its label (from its <code>pinlabels</code> attribute, provided the label is unique for this connector)</p> <ul> <li><code>&lt;int&gt;-&lt;int&gt;</code> auto-expands to a range, e.g. <code>1-4</code> auto-expands to <code>1,2,3,4</code>; <code>9-7</code> will auto-expand to <code>9,8,7</code>.</li> <li> <p>__ where str is the name of the pin and int is it's number. This can be used to     differentiate pins which have the same label (i.e. GND) <li> <p>Mixing types is allowed, e.g. <code>[&lt;pin&gt;, &lt;pinlabel&gt;, &lt;pin&gt;-&lt;pin&gt;, &lt;pin&gt;]</code></p> </li> <li> <p><code>- [&lt;designator&gt;, ..., &lt;designator&gt;]</code></p> </li> <p>Attaches multiple different single pin connectors, one per connection in the set.   For connectors with <code>autogenerate: true</code>, a new instance, with auto-generated designator, is created with every mention.   Auto-generated and non-autogenerated connectors may be mixed.</p> <ul> <li><code>- &lt;designator&gt;</code></li> </ul> <p>Attaches multiple instances of the same single pin connector, one per connectioin in the set.   For connectors with <code>autogenerate: true</code>, a new instance, with auto-generated designator, is created for every connection in the set.   Since only connectors with <code>pincount: 1</code> can be auto-generated, pin number 1 is implicit.</p>"},{"location":"syntax/#cables_1","title":"Cables","text":"<ul> <li><code>&lt;designator&gt;: [&lt;wire&gt;, ..., &lt;wire&gt;]</code></li> </ul> <p>Each <code>&lt;wire&gt;</code> may be:   - <code>&lt;int&gt;</code> to refer to a specific wire, using its number.   - <code>&lt;int&gt;-&lt;int&gt;</code> auto-expands to a range.   - <code>&lt;str&gt;</code> to refer to a wire's label or color, if unambiguous.</p> <pre><code>## Metadata entries\n\n```yaml\n  # Meta-information describing the harness\n\n  # Valus supported can be found in src/filare/metadata.py\n</code></pre>"},{"location":"syntax/#options","title":"Options","text":"<pre><code># Common attributes for the whole harness.\n# All entries are optional and have default values.\n\n# Background color of diagram and HTML output\nbgcolor: &lt;color&gt; # Default = 'WH'\n\n# Background color of other diagram elements\nbgcolor_node: &lt;color&gt; # Default = 'WH'\nbgcolor_connector: &lt;color&gt; # Default = bgcolor_node\nbgcolor_cable: &lt;color&gt; # Default = bgcolor_node\nbgcolor_bundle: &lt;color&gt; # Default = bgcolor_cable\n\n# How to display colors as text in the diagram\n# 'full' : Lowercase full color name\n# 'FULL' : Uppercase full color name\n# 'hex'  : Lowercase hexadecimal values\n# 'HEX'  : Uppercase hexadecimal values\n# 'short': Lowercase short color name\n# 'SHORT': Uppercase short color name\n# 'ger'  : Lowercase short German color name\n# 'GER'  : Uppercase short German color name\ncolor_mode: &lt;str&gt; # Default = 'SHORT'\n\n# Fontname to use in diagram and HTML output\nfontname: &lt;str&gt; # Default = 'arial'\n\n# If True, show only a BOM entry reference together with basic info\n# about additional components inside the diagram node (connector/cable box).\n# If False, show all info about additional components inside the diagram node.\nmini_bom_mode: &lt;bool&gt; # Default = True\n\n# BOM rendering and pagination\ninclude_bom: &lt;bool&gt; # Default = True\nsplit_bom_page: &lt;bool&gt; # Default = False; when true, BOM renders to &lt;name&gt;.bom.html\nbom_rows_per_page: &lt;int&gt; # Optional; when set with split_bom_page, paginate BOM rows with lettered suffixes\nbom_force_single_page: &lt;bool&gt; # Default = False; keep BOM on a single page even if bom_rows_per_page is set\n\n# Split tables and index\nsplit_notes_page: &lt;bool&gt; # Default = False; split notes into &lt;name&gt;.notes.html\nsplit_index_page: &lt;bool&gt; # Default = False; split index table into &lt;name&gt;.index.html\ntable_page_suffix_letters: &lt;bool&gt; # Default = True; use a/b/c suffixes when pagination produces multiple pages\n\n# Cut and termination diagrams\ninclude_cut_diagram: &lt;bool&gt; # Default = False\ninclude_termination_diagram: &lt;bool&gt; # Default = False\ncut_rows_per_page: &lt;int&gt; # Optional; paginate cut tables when set\ntermination_rows_per_page: &lt;int&gt; # Optional; paginate termination tables when set\n</code></pre>"},{"location":"syntax/#importing-external-svg-diagrams-drawio","title":"Importing external SVG diagrams (DrawIO)","text":"<p>You can replace the auto-generated diagram with a DrawIO-exported SVG and control how it is placed on the page:</p> <pre><code>options:\n  diagram_svg:\n    src: diagrams/power-page.svg # path to the DrawIO-exported SVG\n    width: 90% # optional; defaults to 95% max width\n    height: 180mm # optional max/fixed height\n    align: left # left, center (default), or right\n    offset_x: 5mm # optional translation on the page\n    offset_y: 0\n    preserve_aspect_ratio: true # set to false to allow stretching\n</code></pre> <p>Relative <code>src</code> paths are resolved from the harness YAML file location (and any <code>options.image_paths</code>). The SVG is inlined (including linked images) and used for both HTML and SVG outputs; PDFs generated from HTML will include the imported diagram as well. When <code>diagram_svg</code> is set, PNG output is skipped to avoid mixing Graphviz and DrawIO renders.</p>"},{"location":"syntax/#bom-items-and-additional-components","title":"BOM items and additional components","text":"<p>Connectors (both regular, and auto-generated), cables, and wires of a bundle are automatically added to the BOM, unless the <code>ignore_in_bom</code> attribute is set to <code>true</code>. Additional items can be added to the BOM as either part of a connector or cable or on their own.</p> <p>Parts can be added to a connector or cable in the section <code>&lt;additional-component&gt;</code> which will also list them in the graph.</p> <pre><code>- type: &lt;str&gt; # type of additional component\n  # all the following are optional:\n  subtype: &lt;str&gt; # additional description (only shown in bom)\n  qty: &lt;int/float&gt; # qty to add to the bom (defaults to 1)\n  qty_multiplier:\n    &lt;str&gt; # multiplies qty by a feature of the parent component\n    # when used in a connector:\n    # pincount         number of pins of connector\n    # populated        number of populated positions in a connector\n    # when used in a cable:\n    # wirecount        number of wires of cable/bundle\n    # terminations     number of terminations on a cable/bundle\n    # length           length of cable/bundle\n    # total_length     sum of lengths of each wire in the bundle\n  unit: &lt;str&gt;\n  pn: &lt;str&gt; # [internal] part number\n  manufacturer: &lt;str&gt; # manufacturer name\n  mpn: &lt;str&gt; # manufacturer part number\n  supplier: &lt;str&gt; # supplier name\n  spn: &lt;str&gt; # supplier part number\n  bgcolor: &lt;color&gt; # Background color of entry in diagram component box\n</code></pre> <p>Alternatively items can be added to just the BOM by putting them in the section <code>&lt;bom-item&gt;</code> above.</p> <pre><code>- description: &lt;str&gt;\n  # all the following are optional:\n  qty: &lt;int/float&gt; # qty to add to the bom (defaults to 1)\n  unit: &lt;str&gt;\n  designators: &lt;List&gt;\n  pn: &lt;str&gt; # [internal] part number\n  manufacturer: &lt;str&gt; # manufacturer name\n  mpn: &lt;str&gt; # manufacturer part number\n  supplier: &lt;str&gt; # supplier name\n  spn: &lt;str&gt; # supplier part number\n</code></pre>"},{"location":"syntax/#colors","title":"Colors","text":"<p>Colors are defined via uppercase, two character strings. Striped/banded wires can be specified by simply concatenating multiple colors, with no space inbetween, eg. <code>GNYE</code> for green-yellow.</p> <p>The following colors are understood:</p> <ul> <li><code>BK</code>  (black)</li> <li><code>WH</code>  (white)</li> <li><code>GY</code>  (grey)</li> <li><code>PK</code>  (pink)</li> <li><code>RD</code>  (red)</li> <li><code>OG</code>  (orange)</li> <li><code>YE</code>  (yellow)</li> <li><code>OL</code>  (olive green)</li> <li><code>GN</code>  (green)</li> <li><code>TQ</code>  (turquoise)</li> <li><code>LB</code>  (light blue)</li> <li><code>BU</code>  (blue)</li> <li><code>VT</code>  (violet)</li> <li><code>BN</code>  (brown)</li> <li><code>BG</code>  (beige)</li> <li><code>IV</code>  (ivory)</li> <li><code>SL</code>  (slate)</li> <li><code>CU</code>  (copper)</li> <li><code>SN</code>  (tin)</li> <li><code>SR</code>  (silver)</li> <li><code>GD</code>  (gold)</li> </ul> <p>It is also possible to specify colors as hexadecimal RGB values, e.g. <code>#112233</code> or <code>#FFFF00:#009900</code>. Remember quoting strings containing a <code>#</code> in the YAML file.</p>"},{"location":"syntax/#cable-color-codes","title":"Cable color codes","text":"<p>Supported color codes:</p> <ul> <li><code>DIN</code> for DIN 47100</li> </ul> <p>  ...</p> <ul> <li><code>IEC</code> for IEC 60757 (\"ROY G BIV\")</li> </ul> <p>  ...</p> <ul> <li><code>TEL</code> and <code>TELALT</code> for 25-pair color code</li> <li><code>T568A</code> and <code>T568B</code> for TIA/EIA-568 (e.g. Ethernet)</li> <li><code>BW</code> for alternating black and white</li> </ul>"},{"location":"syntax/#images","title":"Images","text":"<p>Both connectors and cables accept including an image with a caption within their respective nodes.</p> <pre><code>image:\n  src: &lt;path&gt; # path to the image file\n  # optional parameters:\n  caption: &lt;str&gt; # text to display below the image\n  bgcolor: &lt;color&gt; # Background color of entry in diagram component box\n  width: &lt;int&gt; # range: 1~65535; unit: points\n  height: &lt;int&gt; # range: 1~65535; unit: points\n  # if only one dimension (width/height) is specified, the image is scaled proportionally.\n  # if both width and height are specified, the image is stretched to fit.\n</code></pre> <p>For more fine grained control over the image parameters, please see <code>advanced_image_usage.md</code>.</p>"},{"location":"syntax/#quantity-multipliers-shared-bom-scaling","title":"Quantity multipliers (shared BOM scaling)","text":"<p>When generating a shared BOM across multiple harnesses, you can scale quantities with a multiplier file:</p> <ol> <li>Run <code>uv run filare-qty &lt;harness.yml&gt; [--multiplier-file-name &lt;path&gt;] [--force-new]</code> to create or update a JSON file (default <code>quantity_multipliers.txt</code>) with <code>{&lt;harness_name&gt;: &lt;int&gt;}</code> entries.</li> <li>Run <code>uv run filare &lt;harness.yml&gt; --use-qty-multipliers [--multiplier-file-name &lt;path&gt;] ...</code> to apply those multipliers while building <code>shared_bom.tsv</code>.</li> </ol> <p>If the multiplier file is missing, <code>filare-qty</code> prompts for integer values. To protect an existing file, omit <code>--force-new</code>. Place the multiplier file alongside your harnesses or point <code>--multiplier-file-name</code> to a shared location (e.g., <code>outputs/quantity_multipliers.txt</code>).</p>"},{"location":"syntax/#multiline-strings","title":"Multiline strings","text":"<p>The following attributes accept multiline strings:</p> <ul> <li><code>type</code></li> <li><code>subtype</code> (connectors only)</li> <li><code>notes</code></li> <li><code>manufacturer</code></li> <li><code>mpn</code></li> <li><code>supplier</code></li> <li><code>spn</code></li> <li><code>image.caption</code></li> </ul>"},{"location":"syntax/#method-1","title":"Method 1","text":"<p>By using <code>|</code>, every following indented line is treated as a new line.</p> <pre><code>attribute: |\n  This is line 1.\n  This is line 2.\n</code></pre>"},{"location":"syntax/#method-2","title":"Method 2","text":"<p>By using double quoted strings, <code>\\n</code> within the string is converted to a new line.</p> <pre><code>attribute: \"This is line 1.\\nThis is line 2.\"\n</code></pre> <p>Plain (no quotes) or single quoted strings do not convert <code>\\n</code>.</p> <p>See yaml-multiline.info for more information.</p>"},{"location":"syntax/#inheritance","title":"Inheritance","text":"<p>YAML anchors and references are useful for defining and referencing information that is used more than once in a file, e.g. when using defining multiple connectors of the same type or family. See Demo 02 for an example.</p>"},{"location":"collisions/summary/","title":"Detected text overlaps (current outputs)","text":"<p>This summarizes text-overlap findings from <code>uv run --no-sync filare-check-overlap \"outputs/**/*.html\" --viewport 1280x720 --warn-threshold 1 --error-threshold 2</code> after running <code>build_examples.py</code>.</p>"},{"location":"collisions/summary/#files-with-errors","title":"Files with errors","text":"<ul> <li><code>outputs/examples/titlepage.html</code></li> <li>Collisions: long note \u201cCover all cables with 1/2\"\u2026\u201d overlaps metadata table cells and index links; header blocks (BOM/INDEX TABLE/Designators/Content/Date/Name) collide with links and table entries.</li> <li>Likely cause: very long note on a single line plus dense title page table with minimal spacing.</li> <li>Fix ideas: wrap long notes, cap note width or use <code>word-break: break-word</code>, add vertical spacing/margins between note and metadata table, widen header cells or add row padding in title page template.</li> <li><code>outputs/tutorial/titlepage.html</code></li> <li>Collisions: \u201cNotes:\u201d heading and tutorial rows overlap table cells; BOM description cells collide with Date/Name headers.</li> <li>Likely cause: compact table + headings stacked with little margin.</li> <li>Fix ideas: increase row height/padding in tutorial title table, add margins before \u201cNotes:\u201d section, or reduce font size for headers on the title page.</li> <li><code>outputs/demos/titlepage.html</code></li> <li>Collisions: same long note as above overlapping Date/Name/created cells and headers.</li> <li>Likely cause: identical title page structure to examples; long note without wrapping.</li> <li>Fix ideas: same as examples title page\u2014wrap note, add spacing, or constrain note column width.</li> <li><code>outputs/demos/demo01.html</code></li> <li>Collisions: long note overlaps Date/Name/reviewed and BOM/Designators headers.</li> <li>Likely cause: note placed near metadata/BOM headers with limited spacing.</li> <li>Fix ideas: add margin above/below notes, allow multi-line wrapping with constrained width, increase header cell padding.</li> <li><code>outputs/demos/demo02.html</code></li> <li>Collisions: \u201cCrimp ferrule\u201d text overlaps \u201cNO BOM by config! WOW!\u201d header; \u201c0.25 mm\u00b2\u201d overlaps list note.</li> <li>Likely cause: header row crowded with nearby annotations and BOM text.</li> <li>Fix ideas: add spacing around BOM header block, allow header text wrap, or reduce font size for the special header.</li> </ul>"},{"location":"collisions/summary/#notes","title":"Notes","text":"<ul> <li>No other generated pages reported overlaps at the configured thresholds.</li> <li>Ignore handling is available via <code>.filare-overlap-ignore.yml</code> if some collisions are acceptable, but prefer layout fixes first.</li> </ul>"},{"location":"dev/codex-container/","title":"Codex container","text":"<p>The Codex image (<code>docker/Dockerfile.codex</code>) is a ready-to-use environment for Filare agents with uv, GitHub CLI, Graphviz, ripgrep/fd/jq/yq/just, Node/npm, mermaid-cli, <code>@openai/codex</code>, Playwright/Chromium, tmux, neovim, fonts, and git-lfs.</p>"},{"location":"dev/codex-container/#build-the-image","title":"Build the image","text":"<ul> <li><code>source scripts/agent-setup.sh &gt;/dev/null &amp;&amp; just codex-container-build</code> builds <code>filare-codex</code> locally.</li> <li>Equivalent raw Docker: <code>docker build -f docker/Dockerfile.codex -t filare-codex .</code></li> </ul>"},{"location":"dev/codex-container/#open-an-interactive-shell","title":"Open an interactive shell","text":"<ul> <li><code>source scripts/agent-setup.sh &gt;/dev/null &amp;&amp; just codex-container-sh</code></li> <li>Binds the current repo to <code>/home/agent/workspace</code>, mounts host <code>~/.codex</code>, and runs as your UID/GID so file ownership stays correct.</li> </ul>"},{"location":"dev/codex-container/#run-with-ssh-key-and-env-file","title":"Run with SSH key and env file","text":"<ul> <li><code>SSH_KEY=/path/to/id_rsa ENV_FILE=/path/to/.env [WORKSPACE=/path/to/workspace] source scripts/agent-setup.sh &gt;/dev/null &amp;&amp; just codex-container-run</code></li> <li>Wraps <code>scripts/run_codex_container.sh</code>, which:</li> <li>Seeds an empty <code>WORKSPACE</code> from the current repo.</li> <li>Mounts host <code>~/.codex</code> to <code>/home/agent/.codex</code>.</li> <li>Mounts a temporary <code>.ssh</code> containing only the provided key (read-only); manage <code>known_hosts</code> inside the container as needed.</li> <li>Runs as your UID/GID with <code>HOME=/home/agent</code>.</li> </ul>"},{"location":"dev/codex-container/#notes","title":"Notes","text":"<ul> <li>The container default command is <code>bash</code>; override with <code>docker run ... filare-codex &lt;command&gt;</code> if needed.</li> <li>Keep secrets out of the image\u2014use the mounted <code>.env</code>/<code>.codex</code> files instead.</li> </ul>"},{"location":"dev/github/","title":"GitHub CLI for Filare","text":"<p>Use the GitHub CLI (<code>gh</code>) to keep day-to-day tasks repeatable: opening PRs against <code>beta</code>, applying labels, inspecting CI runs, and scripting repo settings.</p>"},{"location":"dev/github/#install-gh","title":"Install <code>gh</code>","text":"<ul> <li>macOS (Homebrew): <code>brew update &amp;&amp; brew install gh</code> (or <code>brew upgrade gh</code>).</li> <li>Ubuntu/Debian:   <pre><code>type -p curl &gt;/dev/null || sudo apt-get install curl -y\ncurl -fsSL https://cli.github.com/packages/githubcli-archive-keyring.gpg | sudo dd of=/usr/share/keyrings/githubcli-archive-keyring.gpg\nsudo chmod go+r /usr/share/keyrings/githubcli-archive-keyring.gpg\necho \"deb [arch=$(dpkg --print-architecture) signed-by=/usr/share/keyrings/githubcli-archive-keyring.gpg] https://cli.github.com/packages stable main\" | sudo tee /etc/apt/sources.list.d/github-cli.list &gt; /dev/null\nsudo apt-get update\nsudo apt-get install gh\n</code></pre></li> <li>Fedora/RHEL/CentOS:   <pre><code>sudo dnf config-manager --add-repo https://cli.github.com/packages/rpm/gh-cli.repo\nsudo dnf install gh\n</code></pre></li> <li>Windows (winget): <code>winget install --id GitHub.cli -e</code></li> </ul> <p>Verify with <code>gh version</code>. Authenticate once with <code>gh auth login</code> (choose HTTPS, browser flow or paste a PAT).</p>"},{"location":"dev/github/#common-commands","title":"Common commands","text":"<ul> <li>Clone: <code>gh repo clone laurierloi/filare</code></li> <li>Create PR to <code>beta</code>: <code>gh pr create --base beta --title \"feat: ...\" --body \"...\"</code> (ensure your branch follows <code>&lt;role&gt;/&lt;desc&gt;</code>).</li> <li>List PRs: <code>gh pr list --base beta</code></li> <li>Check CI runs: <code>gh run list</code> and <code>gh run view &lt;id&gt;</code></li> </ul>"},{"location":"dev/github/#managing-labels-for-the-beta-main-gate","title":"Managing labels (for the beta \u2192 main gate)","text":"<p>If your <code>gh</code> build supports label commands:</p> <ul> <li>Create: <code>gh label create validated --color 0E8A16 --description \"Approved for beta\u2192main promotion\"</code></li> <li>List: <code>gh label list</code></li> </ul> <p>If label subcommands are unavailable, use the REST API helper (requires <code>gh auth login</code>):</p> <pre><code>OWNER=laurierloi\nREPO=filare\ngh api --method POST repos/$OWNER/$REPO/labels \\\n  -f name=validated \\\n  -f color=0E8A16 \\\n  -f description=\"Approved for beta\u2192main promotion\"\n</code></pre> <p>To label a PR: <code>gh pr edit &lt;number&gt; --add-label validated</code> (or <code>gh api repos/$OWNER/$REPO/issues/&lt;number&gt;/labels -f labels='[\"validated\"]'</code>).</p>"},{"location":"dev/github/#default-branch-tip","title":"Default branch tip","text":"<p>Set the repository default branch to <code>beta</code> in the GitHub web UI (Settings \u2192 Branches) so new PRs target <code>beta</code> by default. The <code>pr-target-beta</code> workflow enforces this policy on every PR.</p>"},{"location":"dev/logging-sources/","title":"Filare Logging Sources and Guidance","text":"<p>This note documents where Filare emits logs and when to add new ones. It focuses on log sources, not log handling or configuration.</p>"},{"location":"dev/logging-sources/#current-log-sources","title":"Current log sources","text":"<ul> <li>Flow fallbacks: <code>flows/build_harness.py</code> logs warnings when document options contain invalid color overrides so users can fix the input document.</li> <li>Option normalization: <code>models/options.py</code> warns when non-numeric pagination values are provided, indicating automatic pagination will be used instead.</li> <li>Render imports: <code>render/imported_svg.py</code> logs info when SVG dimensions are non-numeric and viewBox injection is skipped; suggests providing numeric sizes.</li> <li>Example build tooling: <code>tools/build_examples.py</code> warns when a <code>.document.yaml</code> file cannot be parsed and the manifest omits its metadata.</li> </ul>"},{"location":"dev/logging-sources/#when-to-add-logs","title":"When to add logs","text":"<ul> <li>Prefer <code>warning</code> when a user-provided configuration or input can be corrected to avoid the fallback behavior.</li> <li>Prefer <code>info</code> when Filare transparently chooses a safe default and user action is optional.</li> <li>Do not log inside tight loops or per-item validation unless the message is actionable and deduplicated.</li> </ul>"},{"location":"dev/logging-sources/#what-to-include","title":"What to include","text":"<ul> <li>The offending input value and its source (file/path/field).</li> <li>The fallback behavior and any user-visible consequence.</li> <li>A short hint on how the user can correct the input.</li> </ul>"},{"location":"dev/metadata_guide/","title":"Metadata Development Guide","text":""},{"location":"dev/metadata_guide/#role-of-metadata","title":"Role of metadata","text":"<ul> <li>Defines document-level information (title, PN, company/address).</li> <li>Controls template selection and sheet info (sheet_total/current/name, output_names, titlepage).</li> <li>Feeds titleblock and titlepage rendering; parts of metadata propagate into file names (<code>pn-output_name</code>).</li> <li>Authors/revisions are rendered in titleblocks; template config (sheetsize/orientation) affects layout direction and BOM ordering.</li> </ul>"},{"location":"dev/metadata_guide/#adding-a-new-metadata-field","title":"Adding a new metadata field","text":"<ol> <li>Update <code>src/filare/models/metadata.py</code> to include the field in the <code>Metadata</code> dataclass (and any supporting enums/structures).</li> <li>If the field is user-facing in HTML, add it to the appropriate template:</li> <li>Titleblock: <code>src/filare/templates/titleblock.html</code></li> <li>Titlepage: <code>src/filare/templates/titlepage.html</code></li> <li>BOM/index table if relevant: <code>src/filare/templates/bom.html</code> or <code>src/filare/templates/index_table.html</code></li> <li>Wire the field into the rendering context if not already propagated:</li> <li><code>render/output.py</code> prepares <code>metadata</code> for template rendering; ensure the new field is accessible (usually automatic via <code>Metadata</code>).</li> <li>Add or update documentation describing the field (e.g., docs/README.md metadata section).</li> <li>Add tests:</li> <li>Unit test in <code>tests/models</code> for <code>Metadata</code> to ensure parsing and defaults.</li> <li>Rendering test in <code>tests/render</code> if the field appears in output (assert substring in generated HTML).</li> </ol>"},{"location":"dev/metadata_guide/#where-metadata-is-rendered","title":"Where metadata is rendered","text":"<ul> <li>Titleblock (<code>templates/titleblock.html</code>): company, address, pn, revision, authors, sheet info.</li> <li>Titlepage (<code>templates/titlepage.html</code>): project/title info, index table, shared BOM summary.</li> <li>File naming: <code>Metadata.name</code> combines <code>pn</code> and <code>output_name</code> to form output file stems.</li> </ul>"},{"location":"dev/metadata_guide/#other-development-guide-topics-to-create","title":"Other development guide topics (to create)","text":"<ul> <li>Adding a new component or connector attribute and surfacing it in Graphviz/HTML.</li> <li>Extending parser to support new YAML schema keys (with validation).</li> <li>Adding a new output format (e.g., CSV) to flows/render and CLI.</li> <li>Improving quantity multiplier handling (fil_harness_quantity) with tests.</li> </ul>"},{"location":"dev/pyright/","title":"Pyright type checking","text":"<p>Filare ships a lightweight Pyright setup to spot typing regressions without blocking development.</p>"},{"location":"dev/pyright/#configuration","title":"Configuration","text":"<ul> <li>Location: <code>[tool.pyright]</code> in <code>pyproject.toml</code>.</li> <li>Defaults: Python 3.9, typeCheckingMode <code>basic</code>, include <code>src/</code>, exclude build/temp dirs (<code>report</code>, <code>outputs</code>, <code>.uv-cache</code>, <code>.venv</code>), <code>reportMissingImports: warning</code>.</li> <li>Uses project virtualenv <code>.venv</code> (set via <code>venvPath</code>/<code>venv</code>).</li> </ul>"},{"location":"dev/pyright/#installing-tools","title":"Installing tools","text":"<pre><code>uv venv\nuv sync --group dev\n</code></pre>"},{"location":"dev/pyright/#running-pyright","title":"Running Pyright","text":"<pre><code>./scripts/pyright.sh [pyright args...]\n</code></pre> <ul> <li>Uses <code>UV_CACHE_DIR</code> (defaults to <code>.uv-cache</code>) and project pyproject config.</li> <li>Pass additional flags to focus on paths or enable stricter checks if needed.</li> </ul>"},{"location":"dev/pyright/#workflow-tips","title":"Workflow tips","text":"<ul> <li>Run Pyright before submitting refactors to catch type drift early.</li> <li>For now, fixing warnings is optional; the goal is to surface issues. Treat new warnings as follow-ups in your PR description if you defer fixes.</li> </ul>"},{"location":"dev/text_overlap_checker/","title":"Text Overlap Checker","text":"<p>Detects overlapping text in generated HTML using Playwright/Chromium.</p>"},{"location":"dev/text_overlap_checker/#usage","title":"Usage","text":"<ul> <li>Generate outputs first (examples/tutorials/demos): <code>uv run --no-sync python src/filare/tools/build_examples.py --output-dir outputs</code></li> <li>Run checker: <code>uv run --no-sync filare-check-overlap \"outputs/**/*.html\" --viewport 1280x720 --warn-threshold 1 --error-threshold 2 --json outputs/overlap-report.json</code></li> <li>Exit codes: 0 when clean; non-zero if errors. Warnings are reported but do not change exit code unless errors exist.</li> <li>Ignore rules (selectors/text regex) via <code>.filare-overlap-ignore.yml</code> in repo root; per-page globs supported under <code>pages:</code>. CLI flags <code>--ignore-selector</code>, <code>--ignore-text</code> augment config.</li> <li>Thresholds: warn when depth &gt;1px; error when &gt;2px (both configurable).</li> </ul>"},{"location":"dev/text_overlap_checker/#ci-behavior","title":"CI behavior","text":"<ul> <li>Main CI (<code>.github/workflows/ci.yml</code>) runs the checker on pushes to <code>beta</code>/<code>main</code> after examples are built; it is skipped on PRs.</li> <li>Uses the Playwright Python container; no host browser setup needed in CI.</li> </ul>"},{"location":"dev/text_overlap_checker/#docker","title":"Docker","text":"<ul> <li><code>docker/overlap-check.Dockerfile</code> builds a Playwright-ready image with <code>filare-check-overlap</code> installed via <code>uv</code>.</li> <li>Example: <code>docker build -f docker/overlap-check.Dockerfile -t filare-overlap .</code> then <code>docker run --rm -v \"$PWD:/workspace\" filare-overlap \"outputs/**/*.html\"</code>.</li> </ul>"},{"location":"dev/text_overlap_checker/#ignoring-known-cases","title":"Ignoring known cases","text":"<p>Place <code>.filare-overlap-ignore.yml</code> in repo root:</p> <pre><code>selectors:\n  - \".legend\"\ntext_patterns:\n  - \"^Draft$\"\npages:\n  \"outputs/examples/*\":  # glob on file path\n    selectors: [\".watermark\"]\n    text_patterns: [\"^Sample$\"]\n</code></pre> <p>CLI flags override/add to these lists when running locally.</p>"},{"location":"examples/readme/","title":"Example Gallery","text":"<p>Filare examples are grouped by scenario. Each folder includes its own <code>metadata.yml</code> and harness YAMLs:</p> <ul> <li><code>basic/</code> \u2014 Single harness diagram (<code>basic01.yml</code>).</li> <li><code>minimal-document/</code> \u2014 Two-harness DIN A4 document (<code>minimal-h1.yml</code>, <code>minimal-h2.yml</code>, <code>minimal.document.yaml</code>).</li> <li><code>document-cut/</code> \u2014 Three-harness document with cut diagrams enabled.</li> <li><code>document-termination/</code> \u2014 Three-harness document with termination diagrams enabled.</li> <li><code>multi-page/</code> \u2014 Multi-page harness collection with split BOM/title pages.</li> <li><code>all-document/</code> \u2014 Two complex harnesses with all outputs enabled.</li> </ul>"},{"location":"examples/all-document/readme/","title":"Full Output Document","text":""},{"location":"examples/all-document/readme/#example-1","title":"Example 1","text":"<p>Source - Bill of Materials</p>"},{"location":"examples/all-document/readme/#example-2","title":"Example 2","text":"<p>Source - Bill of Materials</p>"},{"location":"examples/basic/readme/","title":"Basic Example","text":""},{"location":"examples/basic/readme/#example-01","title":"Example 01","text":"<p>Source - Bill of Materials</p>"},{"location":"examples/demos/readme/","title":"Filare Demos","text":""},{"location":"examples/demos/readme/#example-01","title":"Example 01","text":"<p>Source - Bill of Materials</p>"},{"location":"examples/demos/readme/#example-02","title":"Example 02","text":"<p>Source - Bill of Materials</p>"},{"location":"examples/document-cut/readme/","title":"Cut Diagram Document","text":""},{"location":"examples/document-cut/readme/#example-1","title":"Example 1","text":"<p>Source - Bill of Materials</p>"},{"location":"examples/document-cut/readme/#example-2","title":"Example 2","text":"<p>Source - Bill of Materials</p>"},{"location":"examples/document-cut/readme/#example-3","title":"Example 3","text":"<p>Source - Bill of Materials</p>"},{"location":"examples/document-termination/readme/","title":"Termination Diagram Document","text":""},{"location":"examples/document-termination/readme/#example-1","title":"Example 1","text":"<p>Source - Bill of Materials</p>"},{"location":"examples/document-termination/readme/#example-2","title":"Example 2","text":"<p>Source - Bill of Materials</p>"},{"location":"examples/document-termination/readme/#example-3","title":"Example 3","text":"<p>Source - Bill of Materials</p>"},{"location":"examples/minimal-document/readme/","title":"Minimal DIN A4 Document","text":""},{"location":"examples/minimal-document/readme/#example-1","title":"Example 1","text":"<p>Source - Bill of Materials</p>"},{"location":"examples/minimal-document/readme/#example-2","title":"Example 2","text":"<p>Source - Bill of Materials</p>"},{"location":"examples/multi-page/readme/","title":"Multi-page Examples","text":""},{"location":"examples/multi-page/readme/#example-01","title":"Example 01","text":"<p>Source - Bill of Materials</p>"},{"location":"examples/multi-page/readme/#example-02","title":"Example 02","text":"<p>Source - Bill of Materials</p>"},{"location":"examples/multi-page/readme/#example-03","title":"Example 03","text":"<p>Source - Bill of Materials</p>"},{"location":"examples/multi-page/readme/#example-04","title":"Example 04","text":"<p>Source - Bill of Materials</p>"},{"location":"features/","title":"Features Index","text":"<p>uid: FEAT-DOCS-0004 status: BACKLOG priority: medium owner_role: FEATURE estimate: TBD dependencies: [] risk: medium milestone: backlog</p> <p>This section collects feature design notes, drafts, and specs. Subfolders group topics such as CLI work (<code>cli/</code>), graph/model behaviors (<code>graph/</code>), mechanical outputs (<code>mechanical*</code>), performance tooling, and parts/ingestion pipelines.</p> <p>Use these pages to understand planned or in-progress capabilities, edge cases under evaluation, and templates for new feature docs. Each file should describe the goal, current behavior, and any gaps or next steps needed before implementation or release.</p>"},{"location":"features/#quick-links","title":"Quick links","text":"<ul> <li>Document model: Document representation and filare model graph base</li> <li>CLI features and tooling: CLI command overview plus detailed specs under <code>cli/</code> (e.g., code command, Typer migration)</li> <li>Graph and rendering behavior: Graph overview, termination diagram flow, bundle/parts links</li> <li>Mechanical outputs: Base schema and paths, labels/dimensions, splices/shielding</li> <li>Parts and ingestion: Octopart ingestion</li> <li>Performance and profiling: Performance tooling platform and related tools under <code>performance-tools/</code></li> </ul>"},{"location":"features/bom-excel-export/","title":"BOM Excel export","text":"<p>uid: FEAT-BOM-0100 status: BACKLOG priority: low owner_role: FEATURE estimate: TBD dependencies: [] risk: medium milestone: backlog</p>"},{"location":"features/bom-excel-export/#summary","title":"Summary","text":"<p>Provide a BOM export to Excel (XLSX) in addition to current TSV/HTML outputs, as requested by legacy task <code>230329GTW2_bom_class_generate_excel_see_MR</code>.</p>"},{"location":"features/bom-excel-export/#requirements","title":"Requirements","text":"<ul> <li>Add an Excel/XLSX BOM export option (CLI flag/config) that mirrors TSV content and formatting expectations.</li> <li>Ensure BOM pagination/quantity data matches existing outputs.</li> <li>Document usage and include a regression example/test for XLSX export.</li> </ul>"},{"location":"features/bom-excel-export/#related-items","title":"Related Items","text":"<ul> <li>BOM pagination: <code>docs/features/bom_pagination.md</code> (existing).</li> </ul>"},{"location":"features/bom_pagination/","title":"BOM Pagination and Derivative Diagrams","text":"<p>uid: FEAT-BOM-0001 status: DONE priority: medium owner_role: FEATURE estimate: TBD dependencies: [] risk: medium milestone: backlog</p>"},{"location":"features/bom_pagination/#status","title":"Status","text":"<p>DONE</p>"},{"location":"features/bom_pagination/#summary","title":"Summary","text":"<p>Add BOM pagination controls and new derivative diagrams (wire cut and termination tables) with shared table modeling, configurable page splits, and documentation/examples that surface the new outputs.</p>"},{"location":"features/bom_pagination/#requirements","title":"Requirements","text":"<ul> <li>Add option to force the BOM onto a single page; support optional multi-page BOM splitting with configurable rows per page and lettered page suffixes (a, b, c, \u2026).</li> <li>Introduce a reusable table model shared by BOM, wire cut diagram, and termination diagram, and integrate it into rendering.</li> <li>Add per-harness wire cut diagram (HTML table) with optional multi-page splitting and lettered suffixes in page numbering.</li> <li>Add per-harness termination diagram (HTML table) capturing splices/crimps and lengths; support multi-page splitting and lettered suffixes.</li> <li>Add a BaseModel for termination details, allowing per-wire-end/connection definitions into connectors.</li> <li>Extend examples/tutorials to generate the new schematics and document usage, including example outputs of the new diagrams.</li> <li>Add configuration knobs so users can choose whether to include the new schematics in the engineering document.</li> </ul>"},{"location":"features/bom_pagination/#steps","title":"Steps","text":"<ul> <li>[x] Design pagination/table model approach and config knobs for BOM and derivative diagrams.</li> <li>[x] Implement BOM pagination options and integrate shared table model.</li> <li>[x] Implement wire cut diagram generation with pagination.</li> <li>[x] Implement termination diagram generation with pagination and termination BaseModel.</li> <li>[x] Update tests, examples/tutorials, and docs to cover the new outputs and configuration.</li> <li>[x] Validate renders/regressions and finalize feature documentation.</li> </ul>"},{"location":"features/bom_pagination/#progress-log","title":"Progress Log","text":"<p>2025-12-04: Created feature file from RefactorPlan step 11 and marked IN_PROGRESS with requirements and steps. 2025-12-04: Added shared table pagination helpers, BOM/cut/termination pagination with lettered suffix handling, and sheet suffix support. 2025-12-04: Added pagination regression tests and documented new pagination options. 2025-12-04: Ran pagination regressions (<code>tests/features/bom_pagination</code>, <code>tests/flows/test_examples_and_tutorial.py</code>, <code>tests/render/test_split_sections.py</code>) and marked feature DONE.</p>"},{"location":"features/bom_pagination/#sub-features","title":"Sub-Features","text":"<ul> <li>None</li> </ul>"},{"location":"features/bom_pagination/#related-issues","title":"Related Issues","text":"<ul> <li>RefactorPlan step 11</li> </ul>"},{"location":"features/cavities-terminal-seal-support/","title":"Cavities terminal seal support","text":"<p>uid: FEAT-GENERAL-0001 status: BACKLOG priority: medium owner_role: FEATURE estimate: TBD dependencies: [] risk: medium milestone: backlog</p>"},{"location":"features/cavities-terminal-seal-support/#cavities-terminals-and-seals-support","title":"Cavities, Terminals, and Seals Support","text":""},{"location":"features/cavities-terminal-seal-support/#status","title":"Status","text":"<p>PROPOSED</p>"},{"location":"features/cavities-terminal-seal-support/#priority","title":"Priority","text":"<p>High</p>"},{"location":"features/cavities-terminal-seal-support/#summary","title":"Summary","text":"<p>Add explicit connector cavity definitions with occupancy/population, and attach terminal, seal, and plug part numbers per cavity so BOM and diagrams reflect manufacturing reality instead of generic connectors.</p>"},{"location":"features/cavities-terminal-seal-support/#motivation","title":"Motivation","text":"<ul> <li>Automotive and aerospace harness builds require cavity-level part traceability (housing + terminal + seal/plug).</li> <li>QC and suppliers validate cavity population against pin tables; missing seals/terminals cause rework and leaks/EMI issues.</li> </ul>"},{"location":"features/cavities-terminal-seal-support/#affected-users-fields","title":"Affected Users / Fields","text":"<ul> <li>Automotive harness engineers and suppliers</li> <li>Aerospace/defense wiring teams</li> <li>Harness manufacturing/QA</li> </ul>"},{"location":"features/cavities-terminal-seal-support/#scope","title":"Scope","text":"<ul> <li>New connector fields to define cavities, occupancy, and per-cavity parts (terminal, seal, plug; optional crimp spec).</li> <li>Render cavity tables/metadata in diagrams/HTML; list parts in BOM with correct qty multipliers.</li> <li>Backward compatible with existing connectors.</li> </ul>"},{"location":"features/cavities-terminal-seal-support/#out-of-scope","title":"Out of Scope","text":"<ul> <li>Electrical rule checks beyond presence/absence.</li> <li>CAD/PLM import/export.</li> </ul>"},{"location":"features/cavities-terminal-seal-support/#requirements","title":"Requirements","text":"<ul> <li>Optional <code>cavities</code> block on connectors with per-cavity metadata (id/label, populated flag, terminal/seal/plug part refs, notes).</li> <li>BOM qty multiplier support for terminals/seals/plugs tied to population count.</li> <li>Diagram/HTML display for cavity table (population and part references).</li> <li>Ignore-safe: existing connector YAMLs unaffected when fields are absent.</li> </ul>"},{"location":"features/cavities-terminal-seal-support/#steps","title":"Steps","text":"<ul> <li>[ ] Design schema additions for connector <code>cavities</code> (ids/labels, population, terminal/seal/plug refs, notes).</li> <li>[ ] Wire BOM generation to count populated cavities and include terminal/seal/plug parts.</li> <li>[ ] Add rendering support for cavity tables with population indicators.</li> <li>[ ] Add syntax/docs and examples; regression YAML to cover populated vs unpopulated cavities.</li> <li>[ ] Validate BOM/diagram outputs.</li> </ul>"},{"location":"features/cavities-terminal-seal-support/#progress-log","title":"Progress Log","text":"<ul> <li>PROPOSED \u2014 sub-feature extracted from standard harness component support.</li> </ul>"},{"location":"features/cavities-terminal-seal-support/#validation","title":"Validation","text":"<ul> <li>Regression YAML with a multi-pin connector showing populated/unpopulated cavities, terminal/seal/plug parts in BOM, and cavity table rendering.</li> </ul>"},{"location":"features/cavities-terminal-seal-support/#dependencies-risks","title":"Dependencies / Risks","text":"<ul> <li>Symbol/table layout must fit existing connector rendering style.</li> <li>Need clear defaults for population when unspecified (assume populated vs explicit flag).</li> </ul>"},{"location":"features/cli-document-commands/","title":"CLI Commands: document domain","text":"<p>uid: FEAT-CLI-0001 status: BACKLOG priority: medium owner_role: FEATURE estimate: TBD dependencies: [] risk: medium milestone: backlog</p>"},{"location":"features/cli-document-commands/#summary","title":"Summary","text":"<p>Add <code>filare document &lt;command&gt;</code> to manage full-document outputs (HTML/PDF bundles, title pages) and inspect render configuration.</p>"},{"location":"features/cli-document-commands/#commands","title":"Commands","text":"<ul> <li><code>filare document render &lt;files...&gt;</code> \u2014 render full documents (multi-page) with optional title page and PDF bundle.</li> <li>Input: harness YAML files; optional metadata/components.</li> <li>Flags: <code>-f, --formats &lt;codes&gt;</code> (e.g., hpstP), <code>-c, --components &lt;file...&gt;</code>, <code>-d, --metadata &lt;file...&gt;</code>, <code>-o, --output-dir</code>, <code>-O, --output-name</code>, <code>--no-titlepage</code>, <code>--pdf-bundle</code>, <code>--use-qty-multipliers</code>, <code>-m, --multiplier-file-name</code>.</li> <li>Output: HTML/PNG/SVG/TSV/PDF artifacts; console summary of outputs.</li> <li><code>filare document inspect &lt;file&gt;</code> \u2014 show document-level options (page sizes, fonts, metadata applied).</li> <li>Input: single harness file (or merged metadata file).</li> <li>Flags: <code>--format {table,json}</code>, <code>--include-defaults</code>.</li> <li>Output: structured summary to stdout.</li> <li><code>filare document bundle &lt;files...&gt;</code> \u2014 bundle existing rendered pages into a PDF.</li> <li>Input: paths to rendered page files.</li> <li>Flags: <code>-o, --output &lt;path&gt;</code>, <code>--order &lt;file...&gt;</code> (explicit ordering).</li> <li>Output: combined PDF and ordering report.</li> </ul>"},{"location":"features/cli-document-commands/#inputs-formats","title":"Inputs &amp; Formats","text":"<ul> <li>Harness YAML files plus optional metadata/component YAMLs.</li> <li>Format codes mirror existing ones; defaults surfaced inline.</li> </ul>"},{"location":"features/cli-document-commands/#outputs","title":"Outputs","text":"<ul> <li>Rendered artifacts in chosen formats; bundle outputs; inspection summaries.</li> </ul>"},{"location":"features/cli-document-commands/#rationale","title":"Rationale","text":"<ul> <li>Persona A/D: clear, task-scoped render command with explicit defaults.</li> <li>Persona B: deterministic ordering and bundling controls.</li> <li>Persona C: predictable exit codes and machine-readable inspection outputs.</li> </ul>"},{"location":"features/cli-document-commands/#dependencies-notes","title":"Dependencies / Notes","text":"<ul> <li>Works with hierarchical CLI and Typer migration.</li> <li>Share format code table across domains to avoid conflicts.</li> </ul>"},{"location":"features/cli-document-commands/#ui-notes","title":"UI Notes","text":"<ul> <li>Show default format codes and expand them inline (<code>hpstP</code>) plus an example per common task (HTML+PDF, custom output name).</li> <li>Clarify output locations (default input dir vs <code>-o</code>) and bundling order rules.</li> <li>Provide machine-readable inspection output (<code>--format json</code>) while keeping table output concise for technicians.</li> </ul>"},{"location":"features/cli-drawio-commands/","title":"CLI Commands: drawio domain","text":"<p>uid: FEAT-CLI-0002 status: IN_PROGRESS priority: medium owner_role: FEATURE estimate: TBD dependencies: [] risk: medium milestone: backlog</p>"},{"location":"features/cli-drawio-commands/#summary","title":"Summary","text":"<p>Add <code>filare drawio &lt;command&gt;</code> to manage Draw.io integrations, keeping diagram assets in sync with Filare harness data.</p>"},{"location":"features/cli-drawio-commands/#requirements","title":"Requirements","text":"<ul> <li>Provide <code>filare drawio</code> group with <code>import</code>, <code>export</code>, <code>sync</code>, <code>validate</code>, <code>edit</code>, and <code>review</code> subcommands and listed flags/options.</li> <li>Support Draw.io (.drawio/.xml) inputs plus YAML/JSON mapping/rules; harness YAML for export/sync.</li> <li>Emit human-readable and JSON outputs for validation/sync reports; keep backward compatibility with existing harness rendering.</li> <li>Honor CLI &gt; ENV &gt; CONFIG &gt; DEFAULT precedence where settings apply; use <code>pathlib</code> for all paths.</li> <li>Ensure non-interactive-friendly behaviors (backups, dry-run) for CI workflows.</li> </ul>"},{"location":"features/cli-drawio-commands/#commands","title":"Commands","text":"<ul> <li><code>filare drawio import &lt;file&gt;</code> \u2014 import a Draw.io diagram and map nodes to Filare components.</li> <li>Input: Draw.io file (.drawio or .xml); optional mapping YAML.</li> <li>Flags: <code>--mapping &lt;path&gt;</code> (component pin mapping), <code>--output &lt;path&gt;</code> (save mapped YAML), <code>--dry-run</code>.</li> <li>Output: mapped YAML/components to file/stdout; report of matched/unmatched nodes.</li> <li><code>filare drawio export &lt;harness.yml&gt;</code> \u2014 generate a Draw.io diagram from a harness.</li> <li>Input: harness YAML.</li> <li>Flags: <code>--template &lt;drawio file&gt;</code>, <code>--output &lt;path&gt;</code>, <code>--style &lt;json|yaml&gt;</code> (styling rules).</li> <li>Output: Draw.io file; console summary of elements generated.</li> <li><code>filare drawio sync &lt;harness.yml&gt; &lt;diagram.drawio&gt;</code> \u2014 bidirectional sync to update labels/pins.</li> <li>Input: harness YAML and existing Draw.io file.</li> <li>Flags: <code>--direction {to-drawio,to-harness,bidirectional}</code>, <code>--backup &lt;path&gt;</code>, <code>--report &lt;path&gt;</code> (JSON summary).</li> <li>Output: updated file(s); sync report (JSON/text); backups when requested.</li> <li><code>filare drawio validate &lt;diagram.drawio&gt;</code> \u2014 check Draw.io file for required shapes/labels.</li> <li>Input: Draw.io file.</li> <li>Flags: <code>--rules &lt;path&gt;</code> (validation rules), <code>--format {table,json}</code>.</li> <li>Output: validation summary; exit code for CI.</li> <li><code>filare drawio edit &lt;diagram.drawio&gt;</code> \u2014 open Draw.io for interactive editing.</li> <li>Input: Draw.io file.</li> <li>Flags: <code>--editor &lt;cmd&gt;</code> (override drawio binary), <code>--no-validate</code> (skip post-edit validation), <code>--rules &lt;path&gt;</code> (optional validation rules).</li> <li>Output: exit code based on optional validation.</li> <li><code>filare drawio review &lt;diagram.drawio&gt;</code> \u2014 open Draw.io read-only, collect CLI comments, and save to a file.</li> <li>Input: Draw.io file.</li> <li>Flags: <code>--comments-path &lt;path&gt;</code> (required output), <code>--rules &lt;path&gt;</code> (optional validation), <code>--format {table,json}</code> for the validation summary.</li> <li>Output: validation report (if run), saved comments file, exit code.</li> </ul>"},{"location":"features/cli-drawio-commands/#inputs-formats","title":"Inputs &amp; Formats","text":"<ul> <li>Draw.io files plus optional mapping/rules in YAML/JSON.</li> <li>Harness YAML for export/sync.</li> </ul>"},{"location":"features/cli-drawio-commands/#outputs","title":"Outputs","text":"<ul> <li>Generated/updated Draw.io files; mapping YAML; validation and sync reports (text/JSON).</li> </ul>"},{"location":"features/cli-drawio-commands/#rationale","title":"Rationale","text":"<ul> <li>Persona A/D: easier to bring existing diagrams into Filare or export visuals.</li> <li>Persona B: validation and sync reports improve traceability.</li> <li>Persona C: JSON reports enable CI checks for diagram consistency.</li> </ul>"},{"location":"features/cli-drawio-commands/#dependencies-notes","title":"Dependencies / Notes","text":"<ul> <li>Built on Typer hierarchical CLI.</li> <li>Requires defined mapping/validation rule schemas and Draw.io parsing utilities.</li> </ul>"},{"location":"features/cli-drawio-commands/#ui-notes","title":"UI Notes","text":"<ul> <li>Provide before/after and direction (<code>to-drawio</code>, <code>to-harness</code>) examples, plus default file locations.</li> <li>Keep reports available as both tables and JSON; highlight backup/restore flags prominently.</li> <li>Surface mapping/rules schema references to reduce trial-and-error.</li> </ul>"},{"location":"features/cli-drawio-commands/#steps","title":"Steps","text":"<ul> <li>[x] Map existing drawio tooling (if any) and define schema/IO helpers needed for import/export/sync/validate/edit/review.</li> <li>[x] Implement reusable Draw.io parsing/mapping utilities (load, merge mappings/rules, apply direction flags, backups/dry-run, editor invocation, comment capture).</li> <li>[x] Add Typer <code>drawio</code> subcommands with required flags, outputs (table/JSON), and exit codes; ensure pathlib usage.</li> <li>[x] Add tests covering import/export/sync/validate behaviors, edit (editor stub + optional validation), review (read-only + comment capture), dry-run/backup, and JSON report outputs.</li> <li>[x] Update docs/help/examples to reflect new drawio commands, flags, and default paths.</li> </ul>"},{"location":"features/cli-drawio-commands/#progress-log","title":"Progress Log","text":"<p>2025-12-10: Drafted plan, set status to IN_PROGRESS; awaiting operator review before implementation. 2025-12-10: Implemented placeholder Draw.io CLI commands (import/export/sync/validate/edit/review) with tests; docs updates pending. 2025-12-10: Resolved rebase conflicts and wired metadata/drawio CLIs; tests passing. 2025-12-10: Documented drawio CLI usage and examples; marked docs step complete.</p>"},{"location":"features/cli-drawio-commands/#implementation","title":"Implementation","text":"<ul> <li>[ ] Audit current Draw.io support and identify reuse vs new helpers (file loading, mapping/rules schema, direction handling).</li> <li>[ ] Design data flow for import/export/sync/validate/edit/review (IO formats, backups, dry-run, JSON reports, editor invocation, comment capture) with pathlib paths.</li> <li>[ ] Implement helper layer plus Typer <code>drawio</code> subcommands wired to these helpers.</li> <li>[ ] Add focused tests for each subcommand including report formats, safety flags, and edit/review flows.</li> <li>[ ] Refresh docs/help examples to match new CLI behaviors.</li> </ul>"},{"location":"features/cli-harness-commands/","title":"CLI Commands: harness domain","text":"<p>uid: FEAT-CLI-0003 status: BACKLOG priority: medium owner_role: FEATURE estimate: TBD dependencies: [] risk: medium milestone: backlog</p>"},{"location":"features/cli-harness-commands/#summary","title":"Summary","text":"<p>Add <code>filare harness &lt;command&gt;</code> to build harness artifacts and shared BOM slices, separate from document bundling. This scopes BOM/multiplier tasks and harness-level outputs.</p>"},{"location":"features/cli-harness-commands/#commands","title":"Commands","text":"<ul> <li><code>filare harness render &lt;files...&gt;</code> \u2014 render harness outputs (SVG/PNG/TSV/GV/CSV) without document/title pages.</li> <li>Input: one or more harness YAML files; optional metadata/components.</li> <li>Flags: <code>-f, --formats &lt;codes&gt;</code>, <code>-c, --components &lt;file...&gt;</code>, <code>-d, --metadata &lt;file...&gt;</code>, <code>-o, --output-dir</code>, <code>--use-qty-multipliers</code>, <code>-m, --multiplier-file-name</code>.</li> <li>Output: harness artifacts per file; console summary.</li> <li><code>filare harness bom &lt;files...&gt;</code> \u2014 generate harness-level BOMs (with optional shared BOM scaling).</li> <li>Input: harness YAML files.</li> <li>Flags: <code>--use-qty-multipliers</code>, <code>-m, --multiplier-file-name</code>, <code>-o, --output-dir</code>, <code>--format {tsv,csv,json}</code>.</li> <li>Output: BOM files per harness; optional JSON summary for automation.</li> <li><code>filare harness stats &lt;files...&gt;</code> \u2014 compute counts/lengths per harness.</li> <li>Input: harness YAML files.</li> <li>Flags: <code>--format {table,json}</code>, <code>--totals</code> (aggregate across files).</li> <li>Output: stats to stdout/JSON.</li> </ul>"},{"location":"features/cli-harness-commands/#inputs-formats","title":"Inputs &amp; Formats","text":"<ul> <li>Harness YAML files plus optional metadata/component overlays.</li> <li>Format codes consistent with other domains.</li> </ul>"},{"location":"features/cli-harness-commands/#outputs","title":"Outputs","text":"<ul> <li>Harness renders, BOM files, stats summaries; machine-readable options for CI.</li> </ul>"},{"location":"features/cli-harness-commands/#rationale","title":"Rationale","text":"<ul> <li>Persona A/D: clearer harness-only tasks without document noise.</li> <li>Persona B: explicit BOM generation with multipliers; deterministic outputs.</li> <li>Persona C: JSON stats/BOM for pipeline checks.</li> </ul>"},{"location":"features/cli-harness-commands/#dependencies-notes","title":"Dependencies / Notes","text":"<ul> <li>Integrates with shared BOM logic; reuses multiplier handling.</li> <li>Built on Typer hierarchical CLI.</li> </ul>"},{"location":"features/cli-harness-commands/#ui-notes","title":"UI Notes","text":"<ul> <li>Document default multiplier filename/path and provide examples for harness-only vs BOM-only runs.</li> <li>Offer JSON outputs for stats/BOM alongside technician-friendly tables.</li> <li>Keep format letters aligned with document/page commands to avoid confusion.</li> </ul>"},{"location":"features/cli-hierarchical-commands/","title":"Hierarchical CLI for Filare (metadata/document/page/harness/settings/drawio)","text":"<p>uid: FEAT-CLI-0004 status: BACKLOG priority: medium owner_role: FEATURE estimate: TBD dependencies: [] risk: medium milestone: backlog</p>"},{"location":"features/cli-hierarchical-commands/#summary","title":"Summary","text":"<p>Introduce a unified, multi-level CLI (<code>filare &lt;domain&gt; &lt;command&gt;</code>) so users can target specific parts of the flow (metadata, documents, pages, harnesses, settings, drawio). This improves discoverability, enables segmented validation, and reduces cognitive load compared to separate executables.</p>"},{"location":"features/cli-hierarchical-commands/#motivation-personas","title":"Motivation (Personas)","text":"<ul> <li>Persona A/D: Need clear, task-focused commands (e.g., \u201crender one page\u201d or \u201cupdate metadata\u201d) without guessing flags or separate tools.</li> <li>Persona B: Wants deterministic, segmented flows to validate each stage (metadata \u2192 harness \u2192 document \u2192 bundle).</li> <li>Persona C: Needs stable, scriptable subcommands with predictable names and options for CI.</li> </ul>"},{"location":"features/cli-hierarchical-commands/#proposal","title":"Proposal","text":"<ul> <li>Restructure CLI into domains:</li> <li><code>filare metadata &lt;cmd&gt;</code> \u2014 inspect/merge/validate metadata files.</li> <li><code>filare document &lt;cmd&gt;</code> \u2014 configure or render full document bundles (HTML/PDF, title page).</li> <li><code>filare page &lt;cmd&gt;</code> \u2014 operate on a single page/sheet (render, export formats).</li> <li><code>filare harness &lt;cmd&gt;</code> \u2014 build harness outputs and shared BOM slices.</li> <li><code>filare settings &lt;cmd&gt;</code> \u2014 read/update/write Filare settings (paths, defaults).</li> <li><code>filare drawio &lt;cmd&gt;</code> \u2014 manage Draw.io integrations (import/export/sync).</li> <li>Provide a top-level <code>filare help</code> that lists domains and key commands with one-line descriptions and examples.</li> <li>Keep format/output options scoped to relevant domains; avoid cross-domain flag meaning conflicts.</li> <li>Support segmented execution for verification (e.g., <code>metadata validate</code>, then <code>harness render</code>, then <code>document bundle</code>), surfacing clear outputs and exit codes per step.</li> <li>Maintain backward-compatible aliases (<code>filare</code> existing default render, <code>filare-qty</code>) for a deprecation window with help text pointing to new subcommands.</li> </ul>"},{"location":"features/cli-hierarchical-commands/#user-impact","title":"User Impact","text":"<ul> <li>Faster onboarding: users see available domains instead of guessing extra executables.</li> <li>Better correctness: each stage can be run and verified separately in pipelines.</li> <li>Reduced flag confusion: domain-scoped options and consistent naming.</li> </ul>"},{"location":"features/cli-hierarchical-commands/#dependencies-considerations","title":"Dependencies / Considerations","text":"<ul> <li>Requires CLI restructuring (see related Typer migration feature).</li> <li>Documentation updates: help text, examples, workflows, and tutorials must mirror new command tree.</li> <li>Backward compatibility strategy for existing scripts (<code>filare</code>, <code>filare-qty</code>).</li> </ul>"},{"location":"features/cli-hierarchical-commands/#related","title":"Related","text":"<ul> <li>docs/features/cli-typer-migration.md</li> <li>docs/issues/cli-subcommand-discovery.md</li> </ul>"},{"location":"features/cli-hierarchical-commands/#ui-notes","title":"UI Notes","text":"<ul> <li>Add <code>filare help</code> command map showing all domains and top tasks, with copy/paste examples.</li> <li>Keep short flags consistent across domains; avoid reusing <code>-f</code> for different meanings.</li> <li>Provide per-domain default paths and outputs inline in help (e.g., output dir, multiplier file).</li> </ul>"},{"location":"features/cli-metadata-commands/","title":"CLI Commands: metadata domain","text":"<p>uid: FEAT-CLI-0005 status: BACKLOG priority: medium owner_role: FEATURE estimate: TBD dependencies: [] risk: medium milestone: backlog</p>"},{"location":"features/cli-metadata-commands/#summary","title":"Summary","text":"<p>Add <code>filare metadata &lt;command&gt;</code> subcommands to inspect, validate, merge, and normalize metadata files. This lets users verify metadata before rendering and reuse merged outputs in pipelines.</p>"},{"location":"features/cli-metadata-commands/#commands","title":"Commands","text":"<ul> <li><code>filare metadata validate &lt;files...&gt;</code> \u2014 validates metadata YAML files against schema.</li> <li>Input: one or more YAML metadata files.</li> <li>Flags: <code>--schema &lt;path&gt;</code> (optional schema override), <code>--strict</code> (fail on warnings).</li> <li>Output: exit code, validation report to stdout; optional JSON report with <code>--json</code>.</li> <li><code>filare metadata merge &lt;files...&gt;</code> \u2014 merges multiple metadata files in order.</li> <li>Input: ordered YAML metadata files.</li> <li>Flags: <code>-o, --output &lt;path&gt;</code> (write merged YAML), <code>--format {yaml,json}</code> (output format), <code>--show-source</code> (annotate keys with source file).</li> <li>Output: merged metadata written to file/stdout; summary of overrides.</li> <li><code>filare metadata describe &lt;file&gt;</code> \u2014 prints key fields and defaults for quick inspection.</li> <li>Input: single metadata file.</li> <li>Flags: <code>--format {table,json,yaml}</code>.</li> <li>Output: human-readable summary to stdout.</li> </ul>"},{"location":"features/cli-metadata-commands/#inputs-formats","title":"Inputs &amp; Formats","text":"<ul> <li>YAML files following Filare metadata schema; allow multiple files for merge/validate.</li> <li>Optional schema path for validation; defaults to built-in schema.</li> </ul>"},{"location":"features/cli-metadata-commands/#outputs","title":"Outputs","text":"<ul> <li>Validation: success/failure exit code; human summary; optional machine-readable JSON report.</li> <li>Merge: merged metadata file (YAML/JSON) and override summary.</li> <li>Describe: tabular or JSON summary to stdout.</li> </ul>"},{"location":"features/cli-metadata-commands/#rationale","title":"Rationale","text":"<ul> <li>Persona A/D: quick feedback on metadata correctness without rendering.</li> <li>Persona B: deterministic merging order and override visibility.</li> <li>Persona C: machine-readable reports for CI gating.</li> </ul>"},{"location":"features/cli-metadata-commands/#dependencies-notes","title":"Dependencies / Notes","text":"<ul> <li>Build on Typer hierarchical CLI (docs/features/cli-typer-migration.md).</li> <li>Align defaults and schema references with existing docs/tutorials.</li> </ul>"},{"location":"features/cli-metadata-commands/#ui-notes","title":"UI Notes","text":"<ul> <li>Provide examples for validate/merge/describe with multiple files and ordering.</li> <li>Surface default schema path and show how to emit JSON reports for CI alongside table output.</li> <li>Clarify how conflicts are reported (source file/line when available).</li> </ul>"},{"location":"features/cli-page-commands/","title":"CLI Commands: page domain","text":"<p>uid: FEAT-CLI-0006 status: BACKLOG priority: medium owner_role: FEATURE estimate: TBD dependencies: [] risk: medium milestone: backlog</p>"},{"location":"features/cli-page-commands/#summary","title":"Summary","text":"<p>Add <code>filare page &lt;command&gt;</code> to operate on a single page/sheet without full-document context, enabling faster iteration and targeted validation.</p>"},{"location":"features/cli-page-commands/#commands","title":"Commands","text":"<ul> <li><code>filare page render &lt;file&gt;</code> \u2014 render one harness page to selected formats.</li> <li>Input: single harness YAML file; optional metadata/components.</li> <li>Flags: <code>-f, --formats &lt;codes&gt;</code>, <code>-c, --components &lt;file...&gt;</code>, <code>-d, --metadata &lt;file...&gt;</code>, <code>-o, --output-dir</code>, <code>-O, --output-name</code>, <code>--use-qty-multipliers</code>, <code>-m, --multiplier-file-name</code>.</li> <li>Output: page-level artifacts (HTML/PNG/SVG/TSV/PDF as requested).</li> <li><code>filare page preview &lt;file&gt;</code> \u2014 quick render to a temp location for visual check.</li> <li>Input: single harness file.</li> <li>Flags: <code>--format {html,png,svg}</code>, <code>--open</code> (attempt to open), <code>--keep</code> (retain temp output).</li> <li>Output: temp render path; optional viewer open.</li> <li><code>filare page info &lt;file&gt;</code> \u2014 summarize page metadata (sheet name, counts, cables/connectors).</li> <li>Input: single harness file.</li> <li>Flags: <code>--format {table,json}</code>, <code>--stats</code> (include counts/lengths).</li> <li>Output: summary to stdout; JSON for automation.</li> </ul>"},{"location":"features/cli-page-commands/#inputs-formats","title":"Inputs &amp; Formats","text":"<ul> <li>Single harness YAML plus optional metadata/component overlays.</li> <li>Format codes consistent with document domain.</li> </ul>"},{"location":"features/cli-page-commands/#outputs","title":"Outputs","text":"<ul> <li>Rendered single-page artifacts; temp previews; info summaries.</li> </ul>"},{"location":"features/cli-page-commands/#rationale","title":"Rationale","text":"<ul> <li>Persona A/D: rapid feedback loop for one page without bundling.</li> <li>Persona B: isolate issues per sheet; validate stats.</li> <li>Persona C: automation-friendly info command with JSON.</li> </ul>"},{"location":"features/cli-page-commands/#dependencies-notes","title":"Dependencies / Notes","text":"<ul> <li>Built on Typer hierarchical CLI.</li> <li>Shares rendering pipeline with document commands; avoid duplicated logic.</li> </ul>"},{"location":"features/cli-page-commands/#ui-notes","title":"UI Notes","text":"<ul> <li>Include quick-start examples for preview vs render, highlighting temp output location.</li> <li>Keep format letter meanings consistent with document commands and surface defaults.</li> <li>Provide <code>--format json</code> for <code>info</code> to support automation, while retaining readable tables.</li> </ul>"},{"location":"features/cli-settings-commands/","title":"CLI Commands: settings domain","text":"<p>uid: FEAT-CLI-0007 status: DONE priority: medium owner_role: FEATURE estimate: TBD dependencies: [] risk: medium milestone: backlog</p>"},{"location":"features/cli-settings-commands/#status","title":"Status","text":"<p>DONE</p>"},{"location":"features/cli-settings-commands/#summary","title":"Summary","text":"<p>Add <code>filare settings &lt;command&gt;</code> to read, update, and persist Filare settings (paths, defaults, format preferences), improving transparency and reproducibility.</p>"},{"location":"features/cli-settings-commands/#requirements","title":"Requirements","text":"<ul> <li>Provide a <code>filare settings</code> command group with <code>show</code>, <code>set</code>, <code>reset</code>, and <code>path</code> subcommands plus listed flags.</li> <li>Support per-user and per-project scopes with clear precedence and explicit config file locations.</li> <li>Default config directory is <code>$XDG_CONFIG_HOME/filare</code>, overridable via <code>FIL_CONFIG_PATH</code>; settings stored as YAML files named per scope (e.g., <code>&lt;name_of_settings&gt;.yaml</code>).</li> <li>Offer YAML output and human-readable table formatting (no JSON option for now).</li> <li>Settings resolution priority: CLI args override env vars, which override config file values, which override defaults.</li> <li>Maintain backward compatibility with existing defaults and environment-variable overrides; use <code>pathlib</code> for all path handling.</li> </ul>"},{"location":"features/cli-settings-commands/#steps","title":"Steps","text":"<ul> <li>[x] Map current settings loading (env + defaults) and decide config storage locations/schema for user/project scopes.</li> <li>[x] Implement settings persistence and resolution (defaults, env, user, project) plus helpers to read/write and validate values.</li> <li>[x] Add Typer <code>settings</code> command group with <code>show</code>, <code>set</code>, <code>reset</code>, and <code>path</code> behaviors and formatting flags.</li> <li>[x] Add tests covering settings loading, precedence, mutations, and CLI outputs.</li> <li>[x] Update docs/help text and examples as needed.</li> </ul>"},{"location":"features/cli-settings-commands/#progress-log","title":"Progress Log","text":"<p>2025-12-10: Created feature plan and initial status. 2025-12-10: Implemented YAML-backed settings store (FIL_CONFIG_PATH/XDG paths), Typer commands, and tests for precedence and mutations. 2025-12-10: Updated feature doc; marked feature DONE pending operator review. 2025-12-10: Added <code>just filare-settings-get</code> helper to show resolved settings. 2025-12-10: Added <code>config_dir</code> read-only setting surfaced in <code>settings show</code>.</p>"},{"location":"features/cli-settings-commands/#sub-features","title":"Sub-Features","text":"<ul> <li>None</li> </ul>"},{"location":"features/cli-settings-commands/#related-issues","title":"Related Issues","text":"<ul> <li>None</li> </ul>"},{"location":"features/cli-settings-commands/#commands","title":"Commands","text":"<ul> <li><code>filare settings show</code> \u2014 display current settings and defaults.</li> <li>Input: none (reads from config file/environment).</li> <li>Flags: <code>--format {table,yaml}</code>, <code>--include-defaults</code>.</li> <li>Output: settings to stdout.</li> <li><code>filare settings set &lt;key&gt; &lt;value&gt;</code> \u2014 update a setting (e.g., default formats, output dir).</li> <li>Input: key/value.</li> <li>Flags: <code>--scope {user,project}</code>, <code>--type {string,bool,int,list}</code> (optional for parsing), <code>--append</code> (for list types).</li> <li>Output: confirmation and new value.</li> <li><code>filare settings reset [&lt;key&gt;]</code> \u2014 reset one or all settings to defaults.</li> <li>Input: optional key.</li> <li>Flags: <code>--scope {user,project}</code>, <code>--yes</code> (non-interactive).</li> <li>Output: confirmation summary.</li> <li><code>filare settings path</code> \u2014 print config file path(s).</li> <li>Input: none.</li> <li>Flags: <code>--create</code> (create if missing).</li> <li>Output: path to stdout.</li> </ul>"},{"location":"features/cli-settings-commands/#inputs-formats","title":"Inputs &amp; Formats","text":"<ul> <li>operates on config files/env/yaml.</li> <li>Supports YAML output for automation.</li> </ul>"},{"location":"features/cli-settings-commands/#outputs","title":"Outputs","text":"<ul> <li>Human-readable or machine-readable settings summaries; confirmation messages; exit codes for CI.</li> </ul>"},{"location":"features/cli-settings-commands/#rationale","title":"Rationale","text":"<ul> <li>Persona A/D: clear defaults and easy tweaks without editing files manually.</li> <li>Persona B/C: reproducible, scoped settings with machine-readable output for pipelines.</li> </ul>"},{"location":"features/cli-settings-commands/#dependencies-notes","title":"Dependencies / Notes","text":"<ul> <li>Requires defined settings storage format (per-user/project) and schema.</li> <li>Built on Typer hierarchical CLI; ensure backward compatibility for existing defaults.</li> </ul>"},{"location":"features/cli-settings-commands/#ui-notes","title":"UI Notes","text":"<ul> <li>Show config file locations and scopes in help (<code>user</code> vs <code>project</code>) with examples.</li> <li>Ensure outputs support both table and YAML for automation.</li> <li>Provide non-interactive flags (<code>--yes</code>) and clear error messages when scope/key is invalid.</li> </ul>"},{"location":"features/cli-settings-commands/#implementation","title":"Implementation","text":"<ul> <li>[x] Analyze existing <code>filare.settings</code> usage to decide new storage schema (keys, types, defaults) and confirm env override strategy (<code>FIL_CONFIG_PATH</code> vs <code>$XDG_CONFIG_HOME/filare</code>).</li> <li>[x] Define config path resolution for <code>user</code> vs <code>project</code> scopes using <code>pathlib</code>, including creation behavior for <code>settings path --create</code> and file naming (<code>&lt;name_of_settings&gt;.yaml</code>).</li> <li>[x] Implement YAML-only settings persistence/merging helpers (load/write, type parsing, append semantics) to back the CLI.</li> <li>[x] Wire Typer <code>settings</code> subcommands (<code>show</code>, <code>set</code>, <code>reset</code>, <code>path</code>) to the persistence layer with format/scoping flags (table/YAML) and exit codes.</li> <li>[x] Add tests for settings resolution and CLI commands; refresh docs/help to reflect new behaviors.</li> </ul>"},{"location":"features/cli-typer-migration/","title":"Migrate Filare CLI to Typer","text":"<p>uid: FEAT-CLI-0008 status: BACKLOG priority: medium owner_role: FEATURE estimate: TBD dependencies: [] risk: medium milestone: backlog</p>"},{"location":"features/cli-typer-migration/#summary","title":"Summary","text":"<p>Adopt Typer for the Filare CLI to enable hierarchical subcommands, richer help/auto-completion, and consistent flag handling. The hierarchical command redesign depends on this migration for clean subcommand UX.</p>"},{"location":"features/cli-typer-migration/#motivation-personas","title":"Motivation (Personas)","text":"<ul> <li>Persona A/D: Need clearer help, examples, and auto-completion to discover commands without reading source.</li> <li>Persona B: Wants structured, deterministic commands for segmented validation (metadata \u2192 harness \u2192 document).</li> <li>Persona C: Requires predictable parsing and exit codes for CI; Typer\u2019s Click-based foundation offers type safety and better error messages.</li> </ul>"},{"location":"features/cli-typer-migration/#proposal","title":"Proposal","text":"<ul> <li>Replace the current Click entrypoints with a Typer-based app that supports nested subcommands (see hierarchical CLI feature).</li> <li>Provide shell completion scripts for common shells.</li> <li>Improve help output: show defaults inline, examples per subcommand, and consistent option casing/semantics.</li> <li>Preserve backward-compatible shims (<code>filare</code>, <code>filare-qty</code>) that route to the new Typer app, with deprecation messaging.</li> <li>Standardize short flags across subcommands to avoid conflicts (e.g., avoid reusing <code>-f</code> for unrelated meanings).</li> </ul>"},{"location":"features/cli-typer-migration/#user-impact","title":"User Impact","text":"<ul> <li>Discoverable command tree with clearer help and examples.</li> <li>Consistent behavior and error formatting across all subcommands, improving scripting reliability.</li> <li>Easier onboarding via completions and structured help pages.</li> </ul>"},{"location":"features/cli-typer-migration/#dependencies-considerations","title":"Dependencies / Considerations","text":"<ul> <li>Must coordinate with hierarchical CLI redesign (docs/features/cli-hierarchical-commands.md).</li> <li>Update docs, workflows, and tutorials to the new command tree and completions.</li> <li>Validate downstream harness scripts for compatibility; provide migration guidance.</li> <li>Ensure packaging/entrypoints (<code>filare</code>, <code>filare-qty</code>) point to the Typer app.</li> </ul>"},{"location":"features/cli-typer-migration/#ui-notes","title":"UI Notes","text":"<ul> <li>Generate shell completions and document how to enable them for bash/zsh/fish.</li> <li>Ensure help text shows defaults inline and provides examples per subcommand.</li> <li>Keep error messages structured (table/JSON) for CI while readable for technicians.</li> </ul>"},{"location":"features/data-structures-roadmap/","title":"Data structures and parts library roadmap","text":"<p>uid: FEAT-DATA-0001 status: BACKLOG priority: medium owner_role: FEATURE estimate: TBD dependencies: [] risk: medium milestone: backlog</p>"},{"location":"features/data-structures-roadmap/#summary","title":"Summary","text":"<p>Track data-structure tasks including networkx exploration, BOM/notes structures, and part library/bundle modeling.</p>"},{"location":"features/data-structures-roadmap/#scope","title":"Scope","text":"<ul> <li>Networkx graph exploration: <code>230404GTW1_networkx_all_familly_info_within_a_graph</code>, <code>230327GTW1_try_networkx_to_represent_harness_connections</code>, <code>230327GTW2_try_networkx_to_represent_harnesses_connections</code></li> <li>BOM content/IDs: <code>230531GTW1_use_BomContent_class_in_xsc_harness_and_for_shared_bom</code>, <code>230329GTW4_BOM_class_has_unique_id_per_part_from_instantiation</code></li> <li>Notes as class within components: <code>230629GTW1_use_notes_class_within_components</code></li> <li>Parts library: <code>230327GTW4_part_independently_defined</code>, <code>230327GTW5_connector_from_a_part_library</code>, <code>230327GTW6_cable_from_a_part_library</code></li> <li>Recursive/bundled cables: <code>230330GTW4_cable_are_recursive_aka_a_group_of_cable_or_wire</code>, <code>230330GTW6_outer_cable_is_just_a_bundle_of_bundle/cable/wire</code></li> </ul>"},{"location":"features/data-structures-roadmap/#proposed-next-steps","title":"Proposed Next Steps","text":"<ol> <li>Map overlaps with current config/model work; decide integration points.</li> <li>Prioritize BOM/notes structure changes and part library groundwork.</li> <li>Add designs/experiments (networkx) and document outcomes; add regressions as features land.</li> </ol>"},{"location":"features/data-structures-roadmap/#related-items","title":"Related Items","text":"<ul> <li>Other model/config migration efforts.</li> </ul>"},{"location":"features/document-representation/","title":"Document Representation and Change Tracking","text":"<p>uid: FEAT-DOCS-0001 status: DONE priority: medium owner_role: FEATURE estimate: TBD dependencies: [] risk: medium milestone: backlog</p>"},{"location":"features/document-representation/#status","title":"Status","text":"<p>DONE</p>"},{"location":"features/document-representation/#summary","title":"Summary","text":"<p>Support authoring and consuming <code>*.document.yaml</code> inputs for document generation, add dedicated templates for cut and termination diagrams, and ensure split outputs are linked and rendered correctly across combined pages and the index table.</p>"},{"location":"features/document-representation/#requirements","title":"Requirements","text":"<ul> <li>Accept <code>*.document.yaml</code> as an input to drive document generation (not only emit), with tests ensuring the YAML input path is honored and user edits are preserved per hash rules.</li> <li>Update page generation templates so split components (BOM/notes/index) are excluded from the combined page when split output is configured.</li> <li>Update the index table to link to all generated HTML documents; when splits exist, render three columns: page name, content type (harness/cut/BOM/termination/index), and page link.</li> <li>Add a template for the termination diagram page and integrate it into rendering.</li> <li>Add a template for the cut diagram page and integrate it into rendering.</li> <li>Ensure the index is generated only for the title page, not for every document.</li> <li>Implement in branch <code>FEATURE/document-reporesentation</code> after operator approves this feature document.</li> </ul>"},{"location":"features/document-representation/#steps","title":"Steps","text":"<ul> <li>[x] Confirm existing document generation flow and current handling of <code>.document.yaml</code> outputs/inputs.</li> <li>[ ] Design and document <code>*.document.yaml</code> input handling, including hash preservation and path resolution rules.</li> <li>[x] Implement consumption of <code>*.document.yaml</code> inputs in rendering flows with tests covering round-trip and edit preservation.</li> <li>[x] Add cut diagram and termination diagram templates and wire them into rendering and output selection.</li> <li>[x] Adjust page generation to omit split components from the combined page when splits are requested.</li> <li>[x] Expand the index table to list all generated documents with page name, content type, and link; include split outputs.</li> <li>[x] Add regression tests and example YAMLs demonstrating split outputs, cut/termination templates, and document input acceptance.</li> <li>[x] Update relevant docs (syntax/guides) to describe new inputs, templates, and index table behavior.</li> <li>[x] Run lint/tests and prepare implementation on branch <code>FEATURE/document-reporesentation</code>.</li> </ul>"},{"location":"features/document-representation/#progress-log","title":"Progress Log","text":"<p>2025-12-04: Drafted feature plan for RefactorPlan task 12; awaiting operator review before implementation. 2025-12-04: Reviewed existing document representation flow, rendering hooks, templates, and index table behavior to scope changes. 2025-12-04: Wired document input into harness/options, gated index generation to the title page, filtered split sections from combined pages, and added regression tests; <code>uv run pytest</code> blocked by network (PyPI fetch). 2025-12-04: Expanded index table to surface split/aux pages (BOM/notes/index/cut/termination) with content labels and links; added coverage for title-page-only index generation. 2025-12-04: Enabled cut/termination page generation when requested and added regression to ensure aux pages render. 2025-12-04: Added option coercion for document inputs, hardened revision handling, and reran <code>uv run pytest tests/flows/test_document_representation_flow.py</code> successfully. 2025-12-04: Added example <code>examples/demo01.document.yaml</code>, documented loading existing documents as inputs, and updated document flow notes; targeted test suite still passing. 2025-12-04: Lint/docs complete; feature marked DONE.</p>"},{"location":"features/document-representation/#sub-features","title":"Sub-Features","text":"<ul> <li>None.</li> </ul>"},{"location":"features/document-representation/#related-issues","title":"Related Issues","text":"<ul> <li>RefactorPlan task 12 (Document representation and change tracking).</li> </ul>"},{"location":"features/drawio-integration/","title":"Drawio integration","text":"<p>uid: FEAT-DOCS-0002 status: BACKLOG priority: medium owner_role: FEATURE estimate: TBD dependencies: [] risk: medium milestone: backlog</p>"},{"location":"features/drawio-integration/#drawio-authoring-integration","title":"DrawIO Authoring Integration","text":""},{"location":"features/drawio-integration/#status","title":"Status","text":"<p>WAITING_FOR_OPERATOR</p>"},{"location":"features/drawio-integration/#summary","title":"Summary","text":"<p>Provide tighter DrawIO integration so Filare can generate SVGs directly from DrawIO source files, create new DrawIO files from harness metadata, and optionally open DrawIO on demand for a given harness.</p>"},{"location":"features/drawio-integration/#requirements","title":"Requirements","text":"<ul> <li>Support generating output SVGs directly from DrawIO (<code>.drawio</code> or <code>.dio</code>) sources without manual export steps.</li> <li>Offer a command or workflow to create a starter DrawIO file from a Filare harness name/metadata, including basic layout scaffolding.</li> <li>Provide an option to launch DrawIO with the generated or existing file for interactive editing from the Filare tooling.</li> <li>Preserve compatibility with existing SVG import flows and avoid forcing DrawIO usage when not needed.</li> <li>Document the end-to-end flow for using DrawIO with Filare, including generation, editing, and embedding.</li> </ul>"},{"location":"features/drawio-integration/#steps","title":"Steps","text":"<ul> <li>[ ] Define workflow and CLI/API surface for generating SVGs from DrawIO files and for creating starter DrawIO files from harness metadata.</li> <li>[ ] Implement DrawIO invocation/automation to produce SVGs and to open files on demand, with safe defaults and fallbacks.</li> <li>[ ] Add docs and regression examples demonstrating the DrawIO-integrated workflow end to end.</li> </ul>"},{"location":"features/drawio-integration/#progress-log","title":"Progress Log","text":"<p>2025-12-04: Created follow-up feature request for deeper DrawIO integration; pending operator review.</p>"},{"location":"features/drawio-integration/#sub-features","title":"Sub-Features","text":"<ul> <li>None.</li> </ul>"},{"location":"features/drawio-integration/#related-issues","title":"Related Issues","text":"<ul> <li>None.</li> </ul>"},{"location":"features/drawio-svg-import/","title":"DrawIO SVG Import","text":"<p>uid: FEAT-DOCS-0003 status: DONE priority: medium owner_role: FEATURE estimate: TBD dependencies: [] risk: medium milestone: backlog</p>"},{"location":"features/drawio-svg-import/#status","title":"Status","text":"<p>DONE</p>"},{"location":"features/drawio-svg-import/#summary","title":"Summary","text":"<p>Allow Filare to import an arbitrary SVG exported from DrawIO and embed it into rendered pages so DrawIO diagrams can appear alongside generated wiring outputs.</p>"},{"location":"features/drawio-svg-import/#requirements","title":"Requirements","text":"<ul> <li>Accept user-supplied SVG files exported from DrawIO without requiring manual edits.</li> <li>Provide configuration to place the SVG on a page with controllable size/position so it aligns with other Filare content.</li> <li>Preserve original DrawIO styling (fonts, colors, layers) while allowing optional scaling to fit Filare page bounds.</li> <li>Work across HTML and SVG outputs (and PDF if generated via the SVG/HTML pipeline) without breaking existing render flows.</li> <li>Document how to supply the SVG and specify its placement.</li> </ul>"},{"location":"features/drawio-svg-import/#steps","title":"Steps","text":"<ul> <li>[x] Define YAML schema additions for referencing external DrawIO-exported SVG assets at the page level.</li> <li>[x] Implement renderer support to load, scale, and position the imported SVG within Filare page outputs while retaining styling.</li> <li>[x] Add regression coverage and docs/examples showing a DrawIO SVG embedded in a page.</li> </ul>"},{"location":"features/drawio-svg-import/#progress-log","title":"Progress Log","text":"<p>2025-12-04: Created feature request, captured requirements, and waiting for operator review before implementation. 2025-12-04: Added follow-up sub-feature request for deeper DrawIO authoring integration. 2025-12-04: Status set to IN_PROGRESS after operator approval; starting implementation planning. 2025-12-04: Added diagram_svg schema, rendering pipeline support, tests, and docs for embedding DrawIO-exported SVGs; ran uv run pytest tests/features/drawio-svg-import tests/render/test_assets.py tests/render/test_html_generation.py. 2025-12-04: Improved PNG handling (skip when importing SVG), added DrawIO demo example, expanded path resolution, added viewBox/root checks, ensured templates work, and added tests for coverage.</p>"},{"location":"features/drawio-svg-import/#sub-features","title":"Sub-Features","text":"<ul> <li>drawio-integration</li> </ul>"},{"location":"features/drawio-svg-import/#related-issues","title":"Related Issues","text":"<ul> <li>None.</li> </ul>"},{"location":"features/filare-model-graph-base/","title":"FilareModel Graph Base","text":"<p>uid: FEAT-GRAPH-0001 status: IN_PROGRESS priority: medium owner_role: FEATURE estimate: TBD dependencies: [] risk: medium milestone: backlog</p>"},{"location":"features/filare-model-graph-base/#status","title":"Status","text":"<p>IN_PROGRESS</p>"},{"location":"features/filare-model-graph-base/#summary","title":"Summary","text":"<p>Introduce a shared FilareModel base for all models under <code>src/filare/models</code>, ensuring each instance carries a UUID4 identifier and participates in a graph of node/link relationships.</p>"},{"location":"features/filare-model-graph-base/#requirements","title":"Requirements","text":"<ul> <li>Add a FilareModel base with a required unique <code>id</code> generated as a random UUID4; IDs remain internal (not user-supplied) but must persist across in-memory structures and intermediate serialization.</li> <li>Keep objects free of link bookkeeping; objects only carry their UUID. A separate graph structure manages connectivity so objects do not need updates when links change.</li> <li>Maintain a separate UUID\u2192object map to resolve node/link IDs to concrete model instances.</li> <li>Represent links via a dedicated <code>FilareLink</code> base model (and subclasses) with <code>(link_uuid, src_uuid, target_uuid)</code>; link instances live in the UUID\u2192object map.</li> <li>Provide an exportable <code>graph</code> block (for debug/export) holding only IDs, with minimal shape: <code>graph: { nodes: [{id}], links: [{id, src, tgt, type?, data?}] }</code>. Default is internal-only; not required in user-authored YAML.</li> <li>Migrate existing models in <code>src/filare/models</code> to derive from or embed FilareModel so they participate in the graph.</li> <li>Keep YAML schema and rendered outputs backward compatible; any new identifiers or links must be optional/derived so existing inputs remain valid.</li> <li>Document how nodes/links are generated and consumed, and add tests/examples that exercise the graph behavior once implemented.</li> </ul>"},{"location":"features/filare-model-graph-base/#open-questions","title":"Open Questions","text":"<ul> <li>None (serialization is internal; <code>graph</code> export is optional and minimal).</li> </ul>"},{"location":"features/filare-model-graph-base/#graph-examples-debugexport","title":"Graph Examples (debug/export)","text":"<p>Minimal export view (IDs only; objects resolved via UUID\u2192object map):</p> <pre><code>graph:\n  nodes:\n    - id: \"c2f7...d2\"\n    - id: \"7b8a...41\"\n  links:\n    - id: \"e91a...9c\"\n      src: \"c2f7...d2\"\n      tgt: \"7b8a...41\"\n      type: connection # FilareLink subclass discriminator (optional)\n      data: {} # optional link parameters\n</code></pre> <p>Notes:</p> <ul> <li>The graph block is generated for internal/export/debug flows; users do not author it.</li> <li>Objects keep only their UUID; the graph owns connectivity.</li> <li>UUID\u2192object map remains internal and is the lookup for both nodes and links.</li> </ul>"},{"location":"features/filare-model-graph-base/#steps","title":"Steps","text":"<ul> <li>[ ] Finalize FilareModel/graph design: internal UUID4s on models, linkless objects, UUID\u2192object map, FilareLink base, exportable minimal <code>graph</code> block.</li> <li>[ ] Implement FilareModel base and FilareLink base; add UUID assignment and link registry plumbing.</li> <li>[ ] Migrate models in <code>src/filare/models</code> to use FilareModel (inherit/compose) without breaking existing schemas.</li> <li>[ ] Add internal graph builder/registry and optional <code>graph</code> export path; ensure links serialize as UUID strings and deserialize to UUID objects.</li> <li>[ ] Add docs/tests/examples demonstrating graph export/debug and validate CLI renders/BOM remain compatible.</li> <li>[ ] Finalize feature documentation and mark the feature complete.</li> </ul>"},{"location":"features/filare-model-graph-base/#progress-log","title":"Progress Log","text":"<p>2025-12-06: Created initial feature spec draft for FilareModel graph base and awaiting operator review. 2025-12-06: Updated link design per operator: FilareModel holds link UUIDs; link objects live in a UUID\u2192object map. 2025-12-06: Clarified that IDs are internal-only (UUID4), links serialize as UUID strings, deserialize as UUIDs, and links extend a <code>FilareLink</code> base. 2025-12-06: Added graph export shape (nodes/links with IDs only), affirmed linkless objects with UUIDs, and outlined implementation steps. 2025-12-06: Added follow-up subfeatures under <code>docs/features/graph/</code> for pins, wires, colors, connections, attachments, BOM traversal, bundles/cables-as-part, and part linkage.</p>"},{"location":"features/filare-model-graph-base/#sub-features","title":"Sub-Features","text":"<ul> <li>graph/pins-in-graph.md</li> <li>graph/wires-in-graph.md</li> <li>graph/colors-in-graph.md</li> <li>graph/connections-in-graph.md</li> <li>graph/connector-cable-connector-in-graph.md</li> <li>graph/bom-from-graph.md</li> <li>graph/cut-diagram-from-graph.md</li> <li>graph/termination-diagram-from-graph.md</li> <li>graph/bundle-model.md</li> <li>graph/cable-as-part.md</li> <li>graph/parts-and-components-links.md</li> <li>graph/parts-list-export.md</li> <li>graph/interface/interface-general-idea.md</li> <li>graph/pins-terminations-in-graph.md</li> <li>graph/pin-ordering-parser.md</li> <li>graph/render-metadata-separation.md</li> </ul>"},{"location":"features/filare-model-graph-base/#related-issues","title":"Related Issues","text":"<ul> <li>None</li> </ul>"},{"location":"features/integrated-quantity-management/","title":"Integrated Quantity Management in Filare","text":"<p>uid: FEAT-BOM-0005 status: BACKLOG priority: medium owner_role: FEATURE estimate: TBD dependencies: [] risk: medium milestone: backlog</p>"},{"location":"features/integrated-quantity-management/#summary","title":"Summary","text":"<p>Fold quantity multiplier management into the main Filare CLI (no separate <code>filare-qty</code>), with clear subcommands, defaults, and reports. Users can create, edit, validate, and apply multipliers directly alongside harness rendering.</p>"},{"location":"features/integrated-quantity-management/#goals","title":"Goals","text":"<ul> <li>One unified CLI tree: quantity tasks live under Filare, discoverable via <code>filare harness qty</code> (or <code>filare quantity</code> alias).</li> <li>Clear defaults and file paths (e.g., <code>quantity_multipliers.txt</code> in project root unless overridden).</li> <li>Machine-readable reports for CI, plus human-friendly prompts for technicians.</li> </ul>"},{"location":"features/integrated-quantity-management/#proposed-commands","title":"Proposed Commands","text":"<ul> <li><code>filare harness qty init &lt;files...&gt;</code></li> <li>Purpose: bootstrap multipliers from harness files.</li> <li>Inputs: harness YAML files.</li> <li>Flags: <code>-o, --output &lt;path&gt;</code> (default <code>quantity_multipliers.txt</code>), <code>--force</code> (overwrite), <code>--format {txt,json,yaml}</code>.</li> <li>Output: multiplier file; summary of parts needing multipliers.</li> <li><code>filare harness qty edit [&lt;path&gt;]</code></li> <li>Purpose: interactive or inline edits to multiplier file.</li> <li>Inputs: optional multiplier file path (default <code>quantity_multipliers.txt</code>).</li> <li>Flags: <code>--set key=value</code>, <code>--remove key</code>, <code>--format {txt,json,yaml}</code>, <code>--non-interactive</code> (fail if missing entries).</li> <li>Output: updated file; diff summary to stdout.</li> <li><code>filare harness qty validate &lt;path&gt;</code></li> <li>Purpose: ensure multiplier file is well-formed and matches harness parts.</li> <li>Inputs: multiplier file; optional harness files for cross-check.</li> <li>Flags: <code>--format {table,json}</code>, <code>--strict</code> (fail on missing entries), <code>--schema &lt;path&gt;</code> if YAML/JSON.</li> <li>Output: validation report; exit code for CI.</li> <li><code>filare harness qty apply &lt;files...&gt;</code></li> <li>Purpose: render shared BOM with multipliers applied.</li> <li>Inputs: harness YAML files; multiplier file.</li> <li>Flags: <code>-m, --multiplier-file &lt;path&gt;</code> (default <code>quantity_multipliers.txt</code>), <code>-o, --output-dir</code>, <code>--format {tsv,csv,json}</code>, <code>--dry-run</code> (report only).</li> <li>Output: scaled shared BOM files; summary report.</li> <li><code>filare harness qty report &lt;files...&gt;</code></li> <li>Purpose: show which multipliers were used/missing after a render.</li> <li>Inputs: harness YAML files; multiplier file.</li> <li>Flags: <code>--format {table,json}</code>, <code>--missing-only</code>.</li> <li>Output: usage/missing report to stdout; JSON for automation.</li> </ul>"},{"location":"features/integrated-quantity-management/#inputs-formats","title":"Inputs &amp; Formats","text":"<ul> <li>Harness YAML files (existing schema).</li> <li>Multiplier file default: <code>quantity_multipliers.txt</code>; support TXT (key=value), JSON, or YAML for structured data.</li> <li>Paths relative to project root unless absolute.</li> </ul>"},{"location":"features/integrated-quantity-management/#outputs","title":"Outputs","text":"<ul> <li>Multiplier files (txt/json/yaml).</li> <li>Validation and usage reports (table/json) to stdout or <code>--output</code>.</li> <li>Shared BOM files (tsv/csv/json) when applying.</li> <li>Exit codes suitable for CI gating.</li> </ul>"},{"location":"features/integrated-quantity-management/#workflow-example","title":"Workflow (example)","text":"<ol> <li><code>filare harness qty init examples/demo01.yml -o quantity_multipliers.txt</code></li> <li><code>filare harness qty edit --set cable1=5</code></li> <li><code>filare harness qty validate quantity_multipliers.txt --format table</code></li> <li><code>filare harness qty apply examples/demo01.yml -o outputs/ --format tsv</code></li> <li><code>filare harness qty report examples/demo01.yml --missing-only</code></li> </ol>"},{"location":"features/integrated-quantity-management/#ux-considerations","title":"UX Considerations","text":"<ul> <li>Surface defaults inline in help and in <code>filare help</code> command map.</li> <li>Keep short flags consistent across domains (avoid <code>-f</code> meaning different things).</li> <li>Offer <code>--json</code> everywhere for Persona C, and concise tables for Personas A/D.</li> <li>Provide clear messages when entries are missing, with suggested <code>edit</code> commands.</li> </ul>"},{"location":"features/integrated-quantity-management/#compatibility","title":"Compatibility","text":"<ul> <li>Keep <code>filare-qty</code> as a shim initially, printing a deprecation notice and redirecting to <code>filare harness qty</code>.</li> <li>Honor existing default filename (<code>quantity_multipliers.txt</code>) to avoid breaking current users.</li> </ul>"},{"location":"features/integrated-quantity-management/#dependencies","title":"Dependencies","text":"<ul> <li>Depends on Typer-based hierarchical CLI (docs/features/cli-typer-migration.md).</li> <li>Requires structured multiplier parser (txt/json/yaml) and shared BOM integration points.</li> </ul>"},{"location":"features/integrated-quantity-management/#data-formats-implementation-detail","title":"Data &amp; Formats (Implementation Detail)","text":"<ul> <li>Default file name: <code>quantity_multipliers.txt</code> in project root unless <code>-m/--multiplier-file</code> is provided.</li> <li>TXT format: one <code>key=value</code> per line, <code>#</code> for comments; keys match harness part identifiers; values are numeric (int/float).</li> <li>JSON/YAML format: flat map of <code>{key: number}</code>; support optional metadata block <code>{version, generated_at, source_files}</code> for traceability.</li> <li>Order of harness files: maintain sorted order unless <code>--order</code> is specified elsewhere; report the order used.</li> </ul>"},{"location":"features/integrated-quantity-management/#validation-rules","title":"Validation Rules","text":"<ul> <li>Detect missing multiplier entries for referenced parts (strict mode fails).</li> <li>Detect unused entries (warn).</li> <li>Reject non-numeric values or duplicate keys with differing values.</li> <li>Report source file and line (when available) for TXT/structured formats.</li> </ul>"},{"location":"features/integrated-quantity-management/#reports-machine-friendly","title":"Reports (Machine-Friendly)","text":"<ul> <li><code>--format json</code> outputs shape:   <pre><code>{\n  \"status\": \"ok|error|warning\",\n  \"file\": \"quantity_multipliers.txt\",\n  \"missing\": [\"partA\", \"partB\"],\n  \"unused\": [\"oldPart\"],\n  \"applied\": { \"partA\": 5, \"partC\": 2 },\n  \"errors\": [{ \"key\": \"partX\", \"message\": \"non-numeric\", \"line\": 12 }]\n}\n</code></pre></li> <li>Table output mirrors these fields in human-readable form.</li> </ul>"},{"location":"features/integrated-quantity-management/#non-interactive-ci-behavior","title":"Non-Interactive &amp; CI Behavior","text":"<ul> <li>All commands must support non-interactive mode (no prompts) with deterministic exit codes:</li> <li>0: success (and warnings only if <code>--strict</code> not set)</li> <li>1: validation/application errors</li> <li>2: usage/config errors</li> <li><code>--dry-run</code> available on apply/report to avoid writing outputs during CI checks.</li> </ul>"},{"location":"features/integrated-quantity-management/#backward-compatibility-migration","title":"Backward Compatibility / Migration","text":"<ul> <li>Phase 1: <code>filare-qty</code> remains; prints deprecation notice and delegates to <code>filare harness qty ...</code>.</li> <li>Phase 2: Warning escalates; help text points to new commands and examples.</li> <li>Phase 3: Remove shim after major release (document timeline in changelog).</li> </ul>"},{"location":"features/integrated-quantity-management/#implementation-notes","title":"Implementation Notes","text":"<ul> <li>Centralize multiplier parsing/serialization for TXT/JSON/YAML to avoid drift.</li> <li>Reuse shared BOM flow; inject multipliers early and emit per-harness + aggregated reports.</li> <li>Add examples to <code>examples/</code> showing multiplier files in each format.</li> <li>Update workflows/tutorials to include the new commands and <code>--json</code> reporting for CI.</li> </ul>"},{"location":"features/integrated-quantity-management/#ui-notes","title":"UI Notes","text":"<ul> <li>Surface defaults prominently in help (filename/location, strict vs non-strict) and keep examples copy/paste ready.</li> <li>Ensure <code>--json</code> mirrors human table fields to reduce context switching for technicians vs CI.</li> <li>Provide error messages that cite missing/unused keys and suggest next commands (<code>validate</code> then <code>edit</code>).</li> </ul>"},{"location":"features/mechanical-cad-linkage/","title":"Mechanical cad linkage","text":"<p>uid: FEAT-MECH-0001 status: BACKLOG priority: medium owner_role: FEATURE estimate: TBD dependencies: [] risk: medium milestone: backlog</p>"},{"location":"features/mechanical-cad-linkage/#mechanical-cadstep-linkage-and-viewer","title":"Mechanical CAD/STEP Linkage and Viewer","text":""},{"location":"features/mechanical-cad-linkage/#status","title":"Status","text":"<p>PROPOSED</p>"},{"location":"features/mechanical-cad-linkage/#priority","title":"Priority","text":"<p>Low</p>"},{"location":"features/mechanical-cad-linkage/#summary","title":"Summary","text":"<p>Provide optional CAD/STEP linkage for mechanical harness context: reference a CAD file/URL, optionally generate 2D silhouettes from STEP via OpenCascade, or embed a browser viewer (three.js + occt-import-js/open-cascade.js or xeokit) in HTML output for inspection.</p>"},{"location":"features/mechanical-cad-linkage/#motivation","title":"Motivation","text":"<ul> <li>Integration teams sometimes need CAD context for pass-throughs and packaging; a lightweight viewer beats forcing desktop CAD for every stakeholder.</li> </ul>"},{"location":"features/mechanical-cad-linkage/#affected-users-fields","title":"Affected Users / Fields","text":"<ul> <li>Mechanical/electrical integration teams</li> <li>Packaging/EMI reviewers</li> <li>Advanced manufacturing teams needing CAD reference alongside 2D boards</li> </ul>"},{"location":"features/mechanical-cad-linkage/#scope","title":"Scope","text":"<ul> <li>Optional metadata in mechanical block to point to CAD/STEP files/URLs.</li> <li>Optional server-side silhouette generation from STEP to SVG for overlay.</li> <li>Optional client-side viewer hook in HTML to load STEP when available.</li> </ul>"},{"location":"features/mechanical-cad-linkage/#out-of-scope","title":"Out of Scope","text":"<ul> <li>Full 3D routing or clearance checks.</li> <li>Mandatory CAD dependencies in the default install.</li> </ul>"},{"location":"features/mechanical-cad-linkage/#requirements","title":"Requirements","text":"<ul> <li>CAD reference fields are optional and ignored when absent.</li> <li>Silhouette generation (if enabled) uses optional OCCT bindings (OCP/cadquery); guarded so base users are unaffected.</li> <li>HTML output can initialize a JS viewer when provided with a STEP/glTF URL; include a minimal loader stub and document how to bundle viewer assets.</li> </ul>"},{"location":"features/mechanical-cad-linkage/#steps","title":"Steps","text":"<ul> <li>[ ] Add optional CAD reference fields to mechanical schema (file/URL, unit hints).</li> <li>[ ] Define optional silhouette generation path using OCCT (behind feature flag/dependency check) to produce SVG overlays.</li> <li>[ ] Add HTML hook for client-side viewer (three.js + occt-import-js/open-cascade.js or xeokit), disabled by default unless assets/URL provided.</li> <li>[ ] Document setup: how to supply STEP, enable silhouette generation, or host viewer assets; include example YAML.</li> <li>[ ] Add regression YAML ensuring base rendering ignores CAD fields when not enabled.</li> </ul>"},{"location":"features/mechanical-cad-linkage/#progress-log","title":"Progress Log","text":"<ul> <li>PROPOSED \u2014 created from mechanical harness research.</li> </ul>"},{"location":"features/mechanical-cad-linkage/#validation","title":"Validation","text":"<ul> <li>Regression YAML with CAD reference fields confirming base renders still succeed without CAD libs.</li> <li>Optional: sample with provided STEP + silhouette generation (manual check if OCCT installed).</li> </ul>"},{"location":"features/mechanical-cad-linkage/#dependencies-risks","title":"Dependencies / Risks","text":"<ul> <li>OpenCascade/JS viewer assets can bloat footprint; must remain optional.</li> <li>Browser-side STEP parsing relies on WASM bundles; need clear guidance for hosting assets.</li> </ul>"},{"location":"features/mechanical-view-2d/","title":"Mechanical view 2d","text":"<p>uid: FEAT-MECH-0002 status: BACKLOG priority: medium owner_role: FEATURE estimate: TBD dependencies: [] risk: medium milestone: backlog</p>"},{"location":"features/mechanical-view-2d/#2d-mechanical-harness-view-svgdxf","title":"2D Mechanical Harness View (SVG/DXF)","text":""},{"location":"features/mechanical-view-2d/#status","title":"Status","text":"<p>PROPOSED</p>"},{"location":"features/mechanical-view-2d/#priority","title":"Priority","text":"<p>Medium</p>"},{"location":"features/mechanical-view-2d/#summary","title":"Summary","text":"<p>Add a lightweight 2D mechanical view showing harness routing on a board/fixture: outlines, datum grid, clamps/tie-downs/grommets, pass-throughs, and path polylines with lengths. Export as SVG (embedded in HTML) and optionally DXF for manufacturing.</p>"},{"location":"features/mechanical-view-2d/#motivation","title":"Motivation","text":"<ul> <li>Board builds and QA need clamp locations, path lengths, and datum references.</li> <li>Mechanical/electrical integration benefits from a simple routing overlay without requiring CAD.</li> </ul>"},{"location":"features/mechanical-view-2d/#affected-users-fields","title":"Affected Users / Fields","text":"<ul> <li>Harness manufacturing/QA teams</li> <li>Mechanical/electrical integration teams</li> <li>Service technicians needing layout context</li> </ul>"},{"location":"features/mechanical-view-2d/#scope","title":"Scope","text":"<ul> <li>New schema block for mechanical view: units, board outline, datum/grid, features (holes, clamps, grommets), and harness path polylines with segment lengths.</li> <li>Render to SVG (always) and DXF (optional) alongside existing outputs; embed SVG in HTML output.</li> </ul>"},{"location":"features/mechanical-view-2d/#out-of-scope","title":"Out of Scope","text":"<ul> <li>3D routing or clearance analysis.</li> <li>Direct CAD ingestion (handled in separate feature).</li> </ul>"},{"location":"features/mechanical-view-2d/#requirements","title":"Requirements","text":"<ul> <li>Mechanical schema that is ignore-safe when absent.</li> <li>SVG renderer for board outline, features, labels, and path with length callouts.</li> <li>Optional DXF export for shop use.</li> <li>Integration with existing output flow (write alongside other outputs; link from HTML).</li> </ul>"},{"location":"features/mechanical-view-2d/#steps","title":"Steps","text":"<ul> <li>[ ] Define <code>mechanical</code> YAML schema block (units, outline, features, paths, labels).</li> <li>[ ] Implement SVG generator for mechanical view; embed in HTML output.</li> <li>[ ] Add optional DXF exporter (ezdxf) gated behind dependency check.</li> <li>[ ] Add examples and regression YAML for mechanical view.</li> <li>[ ] Update docs/syntax with mechanical block and outputs.</li> </ul>"},{"location":"features/mechanical-view-2d/#progress-log","title":"Progress Log","text":"<ul> <li>PROPOSED \u2014 created from mechanical harness research.</li> </ul>"},{"location":"features/mechanical-view-2d/#validation","title":"Validation","text":"<ul> <li>Regression YAML that renders mechanical SVG and (when enabled) DXF; verify paths, feature markers, and length callouts.</li> </ul>"},{"location":"features/mechanical-view-2d/#dependencies-risks","title":"Dependencies / Risks","text":"<ul> <li>Keep DXF dependency optional to avoid bloating installs.</li> <li>Coordinate system/units must be documented to avoid mis-scaled outputs.</li> </ul>"},{"location":"features/semantic-release-config/","title":"Semantic-release Config Follow-ups","text":"<p>uid: FEAT-TOOLS-0001 status: BACKLOG priority: medium owner_role: FEATURE estimate: TBD dependencies: [] risk: medium milestone: backlog</p>"},{"location":"features/semantic-release-config/#category","title":"Category","text":"<p>FEATURE / TOOLS</p>"},{"location":"features/semantic-release-config/#current-situation","title":"Current Situation","text":"<ul> <li>Python semantic-release 9+ is configured in <code>pyproject.toml</code> with default changelog templates targeting <code>CHANGELOG.md</code> (Markdown output).</li> <li>Branch mapping now distinguishes releases vs prereleases: <code>main</code> does normal releases; <code>beta</code> emits prerelease tags with the token <code>beta.rc</code> (e.g., <code>vX.Y.Z-beta.rcN</code>).</li> <li>Release workflow relies on <code>uv run semantic-release version</code> / <code>publish</code> in CI; local checks can use <code>uv run semantic-release ... --noop</code> or <code>npx semantic-release --dry-run</code>.</li> </ul>"},{"location":"features/semantic-release-config/#suggested-improvements","title":"Suggested Improvements","text":"<ul> <li>Adopt explicit changelog insertion flag (e.g., <code>&lt;!-- version list --&gt;</code>) to avoid template assumptions and reduce merge conflicts when the file is manually edited.</li> <li>Configure <code>mask_initial_release = false</code> if we want the first release notes to show real commits instead of a placeholder, or document the current masked behavior for clarity.</li> <li>Pin <code>changelog.mode = \"update\"</code> to ensure future template changes do not flip to <code>init</code> in edge cases (docs note both modes are valid).</li> <li>Add <code>environment.newline_sequence = \"\\n\"</code> to enforce LF endings in generated files.</li> <li>Consider additional prerelease branches (e.g., <code>dev</code>, <code>staging</code>) with fixed tokens if needed; dynamic tokens that include branch/SHA are not supported and would require a wrapper script after <code>--noop</code>.</li> <li>Document a local dry-run recipe (<code>uv run semantic-release changelog --noop --stdout</code> and <code>uv run semantic-release version --noop --yes</code>) in <code>docs/ci.md</code> for contributors to validate changelog/tag generation without pushing.</li> </ul>"},{"location":"features/semantic-release-config/#notes-references","title":"Notes / References","text":"<ul> <li>Settings sourced from <code>python-semantic-release</code> docs (<code>changelog.default_templates.*</code>, <code>mode</code>, <code>mask_initial_release</code>, insertion flags, branch config).</li> <li>Current config already sets <code>default_templates.changelog_file</code>/<code>output_format</code> and adds a prerelease token for <code>beta</code>. Further changes above are pending review/approval.</li> </ul>"},{"location":"features/shield-termination-metadata/","title":"Shield termination metadata","text":"<p>uid: FEAT-GENERAL-0002 status: BACKLOG priority: medium owner_role: FEATURE estimate: TBD dependencies: [] risk: medium milestone: backlog</p>"},{"location":"features/shield-termination-metadata/#shield-termination-metadata","title":"Shield Termination Metadata","text":""},{"location":"features/shield-termination-metadata/#status","title":"Status","text":"<p>PROPOSED</p>"},{"location":"features/shield-termination-metadata/#priority","title":"Priority","text":"<p>High</p>"},{"location":"features/shield-termination-metadata/#summary","title":"Summary","text":"<p>Capture how shielded cables terminate (drain target, backshell/pigtail, isolation/continuity) so diagrams and BOM reflect EMI/grounding intent, not just the presence of a shield.</p>"},{"location":"features/shield-termination-metadata/#motivation","title":"Motivation","text":"<ul> <li>Aero/defense and automotive EMI compliance depends on explicit shield termination style and location.</li> <li>Service and manufacturing need to know whether to tie shield to backshell, pigtail to ground, or leave isolated.</li> </ul>"},{"location":"features/shield-termination-metadata/#affected-users-fields","title":"Affected Users / Fields","text":"<ul> <li>Aerospace/defense wiring teams</li> <li>Automotive harness engineers (shielded sensor/data lines)</li> <li>Harness manufacturing and service technicians</li> </ul>"},{"location":"features/shield-termination-metadata/#scope","title":"Scope","text":"<ul> <li>New metadata on cables/connectors to describe shield termination target and style.</li> <li>Diagram symbols for shield drain to ground/backshell/pigtail; BOM entries for backshell/ground hardware when specified.</li> <li>Backward compatible defaults (no change when unspecified).</li> </ul>"},{"location":"features/shield-termination-metadata/#out-of-scope","title":"Out of Scope","text":"<ul> <li>Detailed EMI simulation or impedance modeling.</li> </ul>"},{"location":"features/shield-termination-metadata/#requirements","title":"Requirements","text":"<ul> <li>Optional shield termination block (e.g., style: backshell/pigtail/isolated; target connector/pin or stud; note).</li> <li>Ability to associate backshell/ground hardware as BOM items when specified.</li> <li>Diagram rendering that shows termination glyph (drain to ground lug, backshell symbol, or isolated).</li> <li>Should not alter behavior for existing shielded cables lacking the new block.</li> </ul>"},{"location":"features/shield-termination-metadata/#steps","title":"Steps","text":"<ul> <li>[ ] Define schema additions for shield termination metadata on cables (and optional connector-side reference).</li> <li>[ ] Update rendering to show shield termination glyphs and target labels.</li> <li>[ ] Extend BOM handling to include backshell/ground hardware when present.</li> <li>[ ] Document syntax and add regression YAML covering different termination styles.</li> <li>[ ] Validate HTML/Graphviz outputs and BOM.</li> </ul>"},{"location":"features/shield-termination-metadata/#progress-log","title":"Progress Log","text":"<ul> <li>PROPOSED \u2014 sub-feature extracted from standard harness component support.</li> </ul>"},{"location":"features/shield-termination-metadata/#validation","title":"Validation","text":"<ul> <li>Regression YAML with shielded cable showing: (1) backshell termination, (2) pigtail-to-ground, (3) isolated shield; BOM includes backshell/ground hardware when specified.</li> </ul>"},{"location":"features/shield-termination-metadata/#dependencies-risks","title":"Dependencies / Risks","text":"<ul> <li>Symbol choices must align with existing visual style.</li> <li>Need clear default when style not specified (assume current behavior: simple shield line).</li> </ul>"},{"location":"features/standard-harness-component-support/","title":"Standard harness component support","text":"<p>uid: FEAT-BOM-0007 status: BACKLOG priority: medium owner_role: FEATURE estimate: TBD dependencies: [] risk: medium milestone: backlog</p>"},{"location":"features/standard-harness-component-support/#standard-harness-component-support","title":"Standard Harness Component Support","text":""},{"location":"features/standard-harness-component-support/#status","title":"Status","text":"<p>PROPOSED</p>"},{"location":"features/standard-harness-component-support/#priority","title":"Priority","text":"<p>High (aggregated), with per-component priority in the table below.</p>"},{"location":"features/standard-harness-component-support/#summary","title":"Summary","text":"<p>Add first-class schema and rendering support for the industry-standard harness components called out in the research (cavities, terminals/seals, shield terminations, splices, protection/support/sealing hardware, connector family presets). Today these are only partly representable through generic <code>additional_components</code> and notes.</p>"},{"location":"features/standard-harness-component-support/#motivation","title":"Motivation","text":"<p>Align Filare diagrams/BOM with common drafting standards (IPC/WHMA-A-620, ISO 6722/19642, USCAR-2, MIL-STD-5088) so suppliers, OEM teams, and service techs see expected callouts and BOM lines without custom post-processing.</p>"},{"location":"features/standard-harness-component-support/#affected-users-fields","title":"Affected Users / Fields","text":"<ul> <li>Automotive harness engineers (production and service)</li> <li>Aerospace/defense wiring teams</li> <li>Heavy equipment/industrial harness designers</li> <li>Harness manufacturing and QA partners</li> <li>Service/diagnostics technicians</li> </ul>"},{"location":"features/standard-harness-component-support/#scope","title":"Scope","text":"<ul> <li>New schema fields and rendering symbols for connector cavities, terminal/seal/plug parts, shield termination style/target, explicit splice types, protection devices, sealing/support hardware, and connector family presets with pin maps.</li> <li>BOM grouping/sorting that respects new categories.</li> <li>Documentation/samples covering the above.</li> </ul>"},{"location":"features/standard-harness-component-support/#out-of-scope","title":"Out of Scope","text":"<ul> <li>Changes to existing CLI interfaces or breaking schema changes.</li> <li>CAD/PLM import/export (can be a future TOOLS follow-up).</li> </ul>"},{"location":"features/standard-harness-component-support/#requirements","title":"Requirements","text":"<ul> <li>Add explicit component categories instead of overloading <code>additional_components</code>.</li> <li>Capture cavity occupancy/population and terminal/seal part numbers per connector.</li> <li>Capture shield termination metadata (drain target, backshell/pigtail, isolation note).</li> <li>Represent splice/junction types as native components.</li> <li>Represent protection/sealing/support/label elements as native types that render and appear in BOM with correct multipliers.</li> <li>Provide optional connector family presets (e.g., OBD-II, J1939-13, circular/bulkhead families) with default pin labels/maps.</li> <li>Keep backward compatibility: existing YAMLs should still work without new fields.</li> </ul>"},{"location":"features/standard-harness-component-support/#priority-by-component","title":"Priority by Component","text":"<ul> <li>Cavities + terminal/seal/plug parts \u2014 High \u2014 Automotive/Aero manufacturing and QA.</li> <li>Shield termination metadata \u2014 High \u2014 Aero/defense EMI and automotive shielded lines.</li> <li>Splice/junction native types \u2014 Medium \u2014 Automotive/industrial harness build notes.</li> <li>Protection devices (fuse/breaker) \u2014 Medium \u2014 Service and diagnostics clarity.</li> <li>Sealing/support hardware (backshells, boots, clamps, conduit, labels) \u2014 Medium \u2014 Manufacturing, routing, serviceability.</li> <li>Connector family presets \u2014 Low \u2014 Convenience for rapid authoring and standard interfaces.</li> </ul>"},{"location":"features/standard-harness-component-support/#steps","title":"Steps","text":"<ul> <li>[ ] Confirm schema extensions for connectors (cavities, terminal/seal/plug fields) and cables (shield termination metadata) with backward-compatible defaults.</li> <li>[ ] Define symbol set additions (splice types, shield drain/backshell, protection devices, support/sealing hardware) for Graphviz/HTML outputs.</li> <li>[ ] Extend BOM generation to group/display new component categories and qty multipliers.</li> <li>[ ] Add connector family preset definitions and lookup mechanism (OBD-II, J1939-13, circular families).</li> <li>[ ] Update docs/syntax and examples to illustrate new fields and symbols; add regression YAMLs.</li> <li>[ ] Validate outputs (Graphviz/HTML/BOM) against new examples.</li> </ul>"},{"location":"features/standard-harness-component-support/#progress-log","title":"Progress Log","text":"<ul> <li>PROPOSED \u2014 Initial feature request created based on research gaps.</li> </ul>"},{"location":"features/standard-harness-component-support/#validation","title":"Validation","text":"<ul> <li>New regression YAMLs covering: (1) connector cavity table with terminal/seal parts, (2) shielded cable with defined termination style/target, (3) splice component rendering, (4) protection + support/sealing hardware in BOM and diagrams, (5) connector preset usage.</li> </ul>"},{"location":"features/standard-harness-component-support/#dependencies-risks","title":"Dependencies / Risks","text":"<ul> <li>Symbol design choices need to align with existing Filare visual style.</li> <li>Must avoid breaking existing YAMLs; new fields should be optional and ignore-safe.</li> <li>Preset library maintenance requires documented source (standards or OEM pin maps).</li> </ul>"},{"location":"features/standard-harness-component-support/#sub-features","title":"Sub-Features","text":"<ul> <li>cavities-terminal-seal-support</li> <li>shield-termination-metadata</li> </ul>"},{"location":"features/text-overlap-check/","title":"Text Overlap Check for Generated HTML","text":"<p>uid: FEAT-DOCS-0005 status: BACKLOG priority: medium owner_role: FEATURE estimate: TBD dependencies: [] risk: medium milestone: backlog</p>"},{"location":"features/text-overlap-check/#goal","title":"Goal","text":"<p>Add a tooling-only check that fails when rendered text in generated HTML overlaps visually. This guards regressions where labels or annotations collide after layout changes.</p>"},{"location":"features/text-overlap-check/#requirements","title":"Requirements","text":"<ul> <li>Input: path(s) to generated HTML (single file or directory glob); default to all generated pages (docs + examples/outputs).</li> <li>Rendering: use a headless browser to evaluate final layout (fonts, CSS, SVG/Canvas) at a configurable viewport size; default to the docs/CI viewport (e.g., 1280x720).</li> <li>Detection: identify bounding boxes for visible text and flag overlapping rectangles; ignore hidden/zero-size elements and non-text nodes.</li> <li>Output: machine-readable report (JSON) listing offending elements (text snippet, selectors/xpaths, bounding boxes, page URL) plus a human summary with counts.</li> <li>Exit codes: 0 when no overlap; non-zero when overlaps detected or on fatal errors. Support two severity thresholds: warning when intersection depth is &gt;0 and &lt;=2 px; error when &gt;2 px. Thresholds must be configurable.</li> <li>CI ready: runnable via <code>uv run</code> without network; Chromium/Playwright install handled by tooling or documented pre-req.</li> <li>Config: allow ignore lists (selectors/regex), viewport overrides, and per-page thresholds (e.g., max N overlaps before fail). Desktop-only viewport is sufficient for initial implementation.</li> <li>Performance: able to check the current docs/examples set within CI time budgets; parallelize pages when possible.</li> </ul>"},{"location":"features/text-overlap-check/#proposed-approach","title":"Proposed Approach","text":"<ol> <li>Use Playwright (Python) to load each HTML with a fixed viewport. Evaluate in-page JS to:</li> <li>Collect all visible text nodes and their bounding boxes (e.g., elements with non-empty <code>innerText</code>, display != none, visibility != hidden, opacity &gt; 0, non-zero rect).</li> <li>Compute pairwise rectangle intersections; record pairs that overlap more than a small epsilon.</li> <li>Return structured data (node locator hint, text snippet, rect).</li> <li>CLI entrypoint (tooling-only) under <code>src/filare/tools/</code>:</li> <li>Example: <code>uv run filare-check-overlap outputs/examples/**/*.html --viewport 1280x720 --ignore \".legend, .tooltip\" --max-overlaps 0</code>.</li> <li>Emit JSON to stdout and a brief summary line; support <code>--json path</code> to write the report.</li> <li>Integration:</li> <li>Add a CI job on <code>beta</code>/<code>main</code> pushes (skip PRs) so it runs after examples/docs are built; keep runtime manageable (e.g., allow opt-in via workflow input/matrix).</li> <li>Provide a Docker image (or <code>Dockerfile</code>) with Playwright/Chromium and required fonts so CI/local runs are consistent and do not depend on host setup; optionally wrap via <code>scripts/check-overlap.sh</code>.</li> <li>Use glob-based page matching for ignores; config file lives at repo root as <code>.filare-overlap-ignore.yml</code>.</li> </ol>"},{"location":"features/text-overlap-check/#ignore-mechanism","title":"Ignore Mechanism","text":"<ul> <li>Support both selector-based and text-regex ignores.</li> <li>Provide a project-level config file (e.g., <code>.filare-overlap-ignore.yml</code>) with entries like:   <pre><code>selectors:\n  - \".legend\"\n  - \".tooltip\"\ntext_patterns:\n  - \"^Page \\\\d+$\"\npages:\n  \"docs/examples/*\":  # glob for page URL/path\n    selectors: [\".watermark\"]\n    text_patterns: [\"^Draft$\"]\n</code></pre></li> <li>CLI flags override/augment config (e.g., <code>--ignore-selector \".legend\"</code> or <code>--ignore-text \"Draft\"</code>).</li> <li>Ignore logic should drop any overlap pair if either node matches an ignore rule.</li> </ul>"},{"location":"features/text-overlap-check/#open-questions-decisions-needed","title":"Open Questions / Decisions Needed","text":"<ul> <li>Confirm whether any additional ignore file defaults are needed beyond <code>.filare-overlap-ignore.yml</code>.</li> <li>Confirm whether page-scoped ignores should support advanced glob features (current plan: glob).</li> <li>Decide whether to add a follow-up feature to manage ignore baselines (e.g., auto-suggest ignores when overlaps are deemed acceptable).</li> <li>Which pages to check by default (all generated examples, docs, specific outputs)?</li> <li>Should small overlaps (e.g., 1\u20132 px touch) be tolerated via a threshold?</li> <li>Do we need per-viewport checks (desktop + mobile), or is desktop-only sufficient initially?</li> <li>Preferred ignore mechanism (selectors vs. text regex) and how to store project-wide ignores (config file vs. CLI flags).</li> </ul>"},{"location":"features/cli/code_command/","title":"CLI: <code>filare code</code> domain and <code>graph</code> subcommand scaffold","text":"<p>uid: FEAT-CLI-0009 status: BACKLOG priority: medium owner_role: FEATURE estimate: TBD dependencies: [] risk: medium milestone: backlog</p>"},{"location":"features/cli/code_command/#summary","title":"Summary","text":"<p>Add a Typer-powered <code>filare code</code> command (implemented in <code>src/filare/cli/code.py</code>) that hosts code-focused utilities. First child command: <code>filare code graph</code> with a pluggable <code>--tool</code> flag.</p>"},{"location":"features/cli/code_command/#motivation","title":"Motivation","text":"<ul> <li>Centralize code-analysis utilities under a consistent CLI namespace.</li> <li>Prepare for multiple graph generation backends without changing the UX.</li> <li>Enable both manual and CI refresh of code graphs from a single entrypoint.</li> </ul>"},{"location":"features/cli/code_command/#proposal","title":"Proposal","text":"<ul> <li>Create <code>src/filare/cli/code.py</code> Typer app and register it from the main CLI.</li> <li>Define <code>filare code graph --tool [pydeps|grimp|pyan3] [--output outputs/code-graph] [--format auto]</code>.</li> <li>Dispatch to flow helpers in <code>src/filare/flows/code_analysis/&lt;tool&gt;.py</code>, each exposing a <code>run(output_dir: Path, format: str, **kwargs)</code> returning emitted artifact paths.</li> <li>Ensure clear error when requested tool dependency is missing (friendly message + install hint).</li> <li>Write artifacts under <code>outputs/code-graph/</code> by default; allow override.</li> </ul>"},{"location":"features/cli/code_command/#acceptance-criteria","title":"Acceptance Criteria","text":"<ul> <li><code>uv run filare code graph --help</code> lists tool choices and defaults.</li> <li>Running with <code>--tool pydeps|grimp|pyan3</code> calls the correct flow and emits outputs in the chosen directory.</li> <li>Backward compatibility: existing CLI commands unchanged; Typer structure stays aligned with ongoing CLI migration.</li> </ul>"},{"location":"features/cli/code_command/#notes","title":"Notes","text":"<ul> <li>Keep flags minimal; tool-specific options can be added later behind <code>--tool-arg</code> or similar.</li> <li>Respect repository instructions (no breaking CLI/scheme; use uv commands in docs/tests).</li> </ul>"},{"location":"features/cli/code_command/#related-issues","title":"Related Issues","text":"<ul> <li><code>docs/features/config/code_graph.md</code></li> <li><code>docs/features/cli/code_graph_config.md</code></li> </ul>"},{"location":"features/cli/code_graph_ci_refresh/","title":"CI: refresh code graphs via <code>filare code graph</code>","text":"<p>uid: FEAT-CLI-0010 status: BACKLOG priority: medium owner_role: FEATURE estimate: TBD dependencies: [] risk: medium milestone: backlog</p>"},{"location":"features/cli/code_graph_ci_refresh/#summary","title":"Summary","text":"<p>Add a CI job to run <code>filare code graph</code> and publish artifacts (JSON/DOT/SVG) for the selected tools, keeping graphs current and downloadable.</p>"},{"location":"features/cli/code_graph_ci_refresh/#motivation","title":"Motivation","text":"<ul> <li>Ensure code graph outputs stay in sync with code changes.</li> <li>Provide downloadable artifacts for reviewers without running tools locally.</li> </ul>"},{"location":"features/cli/code_graph_ci_refresh/#proposal","title":"Proposal","text":"<ul> <li>CI job (GitHub Actions) runs after tests, using repo venv and uv commands.</li> <li>Steps:</li> <li><code>uv run filare code graph --tool grimp --output outputs/code-graph</code> (JSON primary).</li> <li>Optionally run <code>--tool pydeps</code> and <code>--tool pyan3</code> when dependencies available (can be matrix or conditional).</li> <li>Upload <code>outputs/code-graph/**/*</code> as an artifact; optionally commit to <code>gh-pages</code> if desired.</li> <li>Job should fail fast with clear logs if a tool is missing; allow toggling tool list via matrix/inputs.</li> <li>Keep runtime reasonable by scoping to <code>src/filare</code> and avoiding expensive formats.</li> </ul>"},{"location":"features/cli/code_graph_ci_refresh/#acceptance-criteria","title":"Acceptance Criteria","text":"<ul> <li>CI pipeline produces artifacts for at least the JSON import graph (grimp) on every push/PR.</li> <li>Logs show the exact command invocations; failures mention missing deps plainly.</li> <li>No changes to existing test or release jobs; this is additive.</li> </ul>"},{"location":"features/cli/code_graph_ci_refresh/#notes","title":"Notes","text":"<ul> <li>Reuse the same CLI entrypoint as local users; avoid bespoke scripts.</li> </ul>"},{"location":"features/cli/code_graph_config/","title":"CLI: <code>filare code graph</code> configuration support","text":"<p>uid: FEAT-CLI-0011 status: BACKLOG priority: medium owner_role: FEATURE estimate: TBD dependencies: [] risk: medium milestone: backlog</p>"},{"location":"features/cli/code_graph_config/#summary","title":"Summary","text":"<p>Allow <code>filare code graph</code> to consume a YAML configuration (mapped to <code>CodeGraphConfig</code>) while still honoring CLI flags. Store the resolved config in the flows under <code>src/filare/flows/code_analysis/</code> so each tool receives the right defaults and overrides.</p>"},{"location":"features/cli/code_graph_config/#motivation","title":"Motivation","text":"<ul> <li>Some teams want persistent defaults (output dir, preferred format, filters) that survive CI runs.</li> <li>Centralizing config ensures <code>pydeps</code>, <code>grimp</code>, and <code>pyan3</code> all share a consistent schema.</li> <li>Keeps the CLI flexible: provide quick overrides via flags while persisting deeper options in YAML.</li> </ul>"},{"location":"features/cli/code_graph_config/#proposal","title":"Proposal","text":"<ul> <li>Introduce <code>CodeGraphConfig</code> + tool-specific child models (see <code>docs/features/config/code_graph.md</code>).</li> <li>Add a <code>--config /path/to/code-graph.yml</code> option to <code>filare code graph</code>; if omitted, the CLI attempts to load <code>code-graph.yml</code> from the workspace root.</li> <li>Merge CLI args (<code>--tool</code>, <code>--output</code>, <code>--format</code>, extra tool flags) with config defaults before invoking the chosen tool flow.</li> <li>Provide helper <code>src/filare/flows/code_analysis/config.py</code> (or similar) to load and validate the config via Pydantic.</li> <li>CLI prints the resolved config (path + interpreted values) when run with <code>--verbose</code> or in debug mode.</li> <li>Document default file locations and required keys in the CLI help text.</li> </ul>"},{"location":"features/cli/code_graph_config/#acceptance-criteria","title":"Acceptance Criteria","text":"<ul> <li><code>uv run filare code graph --config docs/code-graph.yml</code> loads the file, merges CLI overrides, and writes artifacts accordingly.</li> <li>Running without <code>--config</code> uses defaults from <code>CodeGraphConfig</code> defined in code (fallback to tool defaults).</li> <li>Tools read the rendered config and respect fields such as <code>module_filter</code>, <code>emit_dot</code>, etc.</li> <li>Config parsing errors surface as user-friendly messages.</li> </ul>"},{"location":"features/cli/code_graph_config/#related-issues","title":"Related Issues","text":"<ul> <li><code>docs/features/config/code_graph.md</code></li> <li><code>docs/features/cli/code_command.md</code></li> </ul>"},{"location":"features/cli/code_grimp_tool/","title":"CLI: <code>filare code graph --tool grimp</code>","text":"<p>uid: FEAT-CLI-0012 status: BACKLOG priority: medium owner_role: FEATURE estimate: TBD dependencies: [] risk: medium milestone: backlog</p>"},{"location":"features/cli/code_grimp_tool/#summary","title":"Summary","text":"<p>Implement a grimp-based import graph generator that emits JSON (and optional DOT/SVG) for <code>filare</code>, exposed via <code>filare code graph --tool grimp</code>.</p>"},{"location":"features/cli/code_grimp_tool/#motivation","title":"Motivation","text":"<ul> <li>Need a programmable graph representation for search/filter/highlighting in docs/UI.</li> <li>Grimp API provides module graph data without parsing DOT.</li> </ul>"},{"location":"features/cli/code_grimp_tool/#proposal","title":"Proposal","text":"<ul> <li>Add dependency: <code>uv add --group dev grimp</code> (or optional import with guidance).</li> <li>Implement <code>src/filare/flows/code_analysis/grimp.py</code> with <code>run(output_dir: Path, format: str = \"json\") -&gt; dict</code> that:</li> <li>Builds the import graph for package <code>filare</code> via grimp.</li> <li>Writes JSON nodes/edges to <code>outputs/code-graph/filare-imports-grimp.json</code>.</li> <li>Optionally exports DOT/SVG when <code>format</code> requests it.</li> <li>CLI path: <code>filare code graph --tool grimp [--output ...] [--format json|dot|svg]</code>.</li> <li>Add smoke test to ensure JSON is emitted and has nodes/edges keys.</li> </ul>"},{"location":"features/cli/code_grimp_tool/#acceptance-criteria","title":"Acceptance Criteria","text":"<ul> <li>Command: <code>uv run filare code graph --tool grimp --output outputs/code-graph</code> writes JSON (and DOT/SVG when requested) with module ids.</li> <li>JSON schema documented minimally (nodes with id, edges with source/target) for UI consumers.</li> <li>Graceful missing-dep handling with install hint.</li> </ul>"},{"location":"features/cli/code_grimp_tool/#notes","title":"Notes","text":"<ul> <li>Output JSON should be stable/sortable to reduce diff noise in CI artifacts.</li> <li>Future: add <code>--module</code> filter to emit only neighbors; keep placeholder in flow signature if helpful.</li> </ul>"},{"location":"features/cli/code_grimp_tool/#related-issues","title":"Related Issues","text":"<ul> <li><code>docs/features/config/code_graph.md</code></li> <li><code>docs/features/cli/code_graph_config.md</code></li> </ul>"},{"location":"features/cli/code_pyan3_tool/","title":"CLI: <code>filare code graph --tool pyan3</code>","text":"<p>uid: FEAT-CLI-0013 status: BACKLOG priority: medium owner_role: FEATURE estimate: TBD dependencies: [] risk: medium milestone: backlog</p>"},{"location":"features/cli/code_pyan3_tool/#summary","title":"Summary","text":"<p>Implement a pyan3-based static call graph generator exposed via <code>filare code graph --tool pyan3</code>, producing module-grouped call graphs (DOT/SVG) for Filare.</p>"},{"location":"features/cli/code_pyan3_tool/#motivation","title":"Motivation","text":"<ul> <li>Understand call relationships and entrypoints beyond imports.</li> <li>Useful for debugging flows and assessing impact of changes.</li> </ul>"},{"location":"features/cli/code_pyan3_tool/#proposal","title":"Proposal","text":"<ul> <li>Add dependency: <code>uv add --group dev pyan3 graphviz</code> (or optional import with hint).</li> <li>Implement <code>src/filare/flows/code_analysis/pyan3.py</code> with <code>run(output_dir: Path, format: str = \"svg\") -&gt; dict</code> that:</li> <li>Runs pyan3 on <code>src/filare/**/*.py</code> with grouping and no function bodies inlined.</li> <li>Emits DOT to <code>outputs/code-graph/filare-callgraph-pyan3.dot</code> and renders SVG when Graphviz available.</li> <li>CLI path: <code>filare code graph --tool pyan3 [--output ...] [--format dot|svg]</code>.</li> <li>Add smoke test exercising the flow with temp output dir; skip gracefully if Graphviz missing.</li> </ul>"},{"location":"features/cli/code_pyan3_tool/#acceptance-criteria","title":"Acceptance Criteria","text":"<ul> <li>Command succeeds: <code>uv run filare code graph --tool pyan3 --output outputs/code-graph</code> emits DOT (+SVG when <code>dot</code> is available).</li> <li>Clear error if dependency missing; no stack trace.</li> <li>Output filenames distinguish pyan3 to avoid collision with pydeps outputs.</li> </ul>"},{"location":"features/cli/code_pyan3_tool/#notes","title":"Notes","text":"<ul> <li>Static call graphs can be noisy; keep defaults conservative (grouped, no colors, limit size if needed).</li> </ul>"},{"location":"features/cli/code_pyan3_tool/#related-issues","title":"Related Issues","text":"<ul> <li><code>docs/features/config/code_graph.md</code></li> <li><code>docs/features/cli/code_graph_config.md</code></li> </ul>"},{"location":"features/cli/code_pydeps_tool/","title":"CLI: <code>filare code graph --tool pydeps</code>","text":"<p>uid: FEAT-CLI-0014 status: BACKLOG priority: medium owner_role: FEATURE estimate: TBD dependencies: [] risk: medium milestone: backlog</p>"},{"location":"features/cli/code_pydeps_tool/#summary","title":"Summary","text":"<p>Implement the pydeps-based import graph generator, wired to <code>filare code graph --tool pydeps</code>, producing DOT/SVG (and optionally JSON) import graphs for the <code>filare</code> package.</p>"},{"location":"features/cli/code_pydeps_tool/#motivation","title":"Motivation","text":"<ul> <li>Quick, visual module import graph to spot coupling/cycles.</li> <li>Uses a mature tool (<code>pydeps</code>) with Graphviz output, familiar to developers.</li> </ul>"},{"location":"features/cli/code_pydeps_tool/#proposal","title":"Proposal","text":"<ul> <li>Add dependency: <code>uv add --group dev pydeps graphviz</code> (or gate with optional import and error message).</li> <li>Implement <code>src/filare/flows/code_analysis/pydeps.py</code> with a <code>run(output_dir: Path, format: str = \"svg\") -&gt; dict</code> that:</li> <li>Calls pydeps programmatically (or via <code>uv run pydeps</code> fallback) on <code>filare</code> package.</li> <li>Writes DOT to <code>outputs/code-graph/filare-imports-pydeps.dot</code> and renders SVG when format supports it.</li> <li>Returns emitted paths for CLI to print.</li> <li>CLI path: <code>filare code graph --tool pydeps [--output ...] [--format dot|svg]</code>.</li> <li>Add smoke test that calls the flow with a temp output dir and asserts files exist (skip if Graphviz unavailable).</li> </ul>"},{"location":"features/cli/code_pydeps_tool/#acceptance-criteria","title":"Acceptance Criteria","text":"<ul> <li>Command succeeds locally: <code>uv run filare code graph --tool pydeps --output outputs/code-graph</code> produces DOT (+SVG when <code>dot</code> available).</li> <li>Friendly error if pydeps/Graphviz missing (no stack trace; include install hint via uv).</li> <li>Outputs live under the requested directory; filenames include <code>pydeps</code> to avoid clashes.</li> </ul>"},{"location":"features/cli/code_pydeps_tool/#notes","title":"Notes","text":"<ul> <li>Keep default scope to <code>src/filare</code> to avoid test/template noise.</li> <li>Preserve backward compatibility; no changes to render/BOM behavior.</li> </ul>"},{"location":"features/cli/code_pydeps_tool/#related-issues","title":"Related Issues","text":"<ul> <li><code>docs/features/config/code_graph.md</code></li> <li><code>docs/features/cli/code_graph_config.md</code></li> </ul>"},{"location":"features/cli/interface-commands/","title":"CLI: Interface Commands","text":""},{"location":"features/cli/interface-commands/#summary","title":"Summary","text":"<p>Add a <code>filare interface</code> command set to work directly with interface models: parse YAML into interfaces, generate sample interface YAML, and offer an edit/save workflow.</p>"},{"location":"features/cli/interface-commands/#goals","title":"Goals","text":"<ul> <li><code>filare interface parse &lt;file&gt;</code>: load user YAML into interface models and report validation details.</li> <li><code>filare interface example</code>: emit sample YAML snippets for supported interface models (based on factories).</li> <li><code>filare interface edit &lt;file&gt;</code>: open an interface model for interactive editing (non-interactive flags for scripted updates) and save back.</li> <li>Reuse <code>FakeInterfaceFactory</code>/<code>Fake&lt;ModelName&gt;Factory</code> to produce examples and default values.</li> </ul>"},{"location":"features/cli/interface-commands/#non-goals","title":"Non-Goals","text":"<ul> <li>No schema generation/validation (covered by <code>filare schema</code> commands).</li> <li>No rendering or BOM operations; this is interface-centric tooling.</li> </ul>"},{"location":"features/cli/interface-commands/#open-questions","title":"Open Questions","text":"<ul> <li>UX for edit mode (editor launch vs. flags/overrides).</li> <li>Where to store/generated sample files (stdout vs. path).</li> <li>How to surface adapter info (e.g., mapping to internal models) in command outputs.</li> </ul>"},{"location":"features/cli/schema-commands/","title":"CLI: Schema Commands","text":""},{"location":"features/cli/schema-commands/#summary","title":"Summary","text":"<p>Add a <code>filare schema</code> command set to manage interface schemas: generate JSON Schema from interface models and validate user YAML against it.</p>"},{"location":"features/cli/schema-commands/#goals","title":"Goals","text":"<ul> <li><code>filare schema generate</code> writes the JSON Schema for interface models to a user-specified path (or stdout).</li> <li><code>filare schema validate &lt;file&gt;</code> checks YAML inputs against the interface schema and reports errors.</li> <li>Keep schema generation tied to Pydantic v2 interface models with full <code>Field</code> descriptions.</li> <li>Provide machine- and human-friendly output (exit codes + readable errors).</li> </ul>"},{"location":"features/cli/schema-commands/#non-goals","title":"Non-Goals","text":"<ul> <li>No changes to rendering/BOM flows; this is validation/generation only.</li> <li>Not implementing interface editing or example generation here (covered by <code>filare interface</code> commands).</li> </ul>"},{"location":"features/cli/schema-commands/#open-questions","title":"Open Questions","text":"<ul> <li>Default output path/versioning for generated schema.</li> <li>Whether to bundle schema in releases or generate on demand.</li> <li>Flag for strict vs. lenient validation modes.</li> </ul>"},{"location":"features/config/code_graph/","title":"Code graph configuration","text":"<p>uid: FEAT-CLI-0015 status: BACKLOG priority: medium owner_role: FEATURE estimate: TBD dependencies: [] risk: medium milestone: backlog</p>"},{"location":"features/config/code_graph/#summary","title":"Summary","text":"<p>Define a YAML configuration that maps to <code>CodeGraphConfig</code> (root <code>pydantic.BaseModel</code>) with optional child configs for each supported tool: <code>CodeGraphPyDepsConfig</code>, <code>CodeGraphGrimpConfig</code>, and <code>CodeGraphPyan3Config</code>. CLI arguments merge with defaults to materialize this config before running any graph generation flow.</p>"},{"location":"features/config/code_graph/#structure","title":"Structure","text":"<ul> <li><code>GraphTool</code> (str, enum):</li> <li>pydeps</li> <li>grimp</li> <li>pyan3</li> <li><code>CodeGraphConfig</code> (root) includes:</li> <li><code>tool: GraphTool</code> (default is <code>grimp</code>).</li> <li><code>output_dir: Path</code> (default <code>outputs/code-graph</code>).</li> <li><code>format: str</code> (default depends on tool; e.g., <code>json</code> for grimp, <code>svg</code> for pydeps/pyan3).</li> <li><code>tools:</code> Optional nested configuration for each backend (<code>pydeps</code>, <code>grimp</code>, <code>pyan3</code>), each mapping to their respective child model.</li> <li><code>CodeGraphPyDepsConfig</code> adds:</li> <li><code>max_bacon: int</code> / other pydeps-specific knobs.</li> <li><code>include_tests: bool</code>.</li> <li><code>graphviz_format: Literal[dot, svg]</code>.</li> <li><code>CodeGraphGrimpConfig</code> adds:</li> <li><code>module_filter: Sequence[str]</code> to limit graph to certain packages.</li> <li><code>emit_dot: bool</code>.</li> <li><code>collapse_aliases: bool</code>.</li> <li><code>CodeGraphPyan3Config</code> adds:</li> <li><code>group_by_module: bool</code>.</li> <li><code>no_undefined: bool</code>.</li> <li><code>exclude_paths: Sequence[Path]</code>.</li> </ul>"},{"location":"features/config/code_graph/#usage","title":"Usage","text":"<ul> <li>CLI merges <code>CodeGraphConfig</code> with command-line flags (<code>--tool</code>, <code>--output</code>, <code>--format</code>); missing values fall back to defaults defined in <code>BaseModel</code>.</li> <li>When a config file (<code>code-graph.yml</code>) is present, the CLI loads it before merging CLI args.</li> <li>Each flow under <code>src/filare/flows/code_analysis/</code> accepts the resolved config and extracts its tool-specific section.</li> <li>YAML example:</li> </ul> <pre><code>tool: grimp\noutput_dir: outputs/code-graph\nformat: json\ntools:\n  grimp:\n    module_filter:\n      - filare.render\n    emit_dot: true\n</code></pre>"},{"location":"features/config/code_graph/#related","title":"Related","text":"<ul> <li>CLI doc: <code>docs/features/cli/code_graph_config.md</code>.</li> </ul>"},{"location":"features/cut/cut-list-outputs/","title":"Cut list outputs","text":"<p>uid: FEAT-BOM-0002 status: BACKLOG priority: medium owner_role: FEATURE estimate: TBD dependencies: [] risk: medium milestone: backlog</p>"},{"location":"features/cut/cut-list-outputs/#cut-list-outputs","title":"Cut List Outputs","text":""},{"location":"features/cut/cut-list-outputs/#status","title":"Status","text":"<p>PROPOSED</p>"},{"location":"features/cut/cut-list-outputs/#priority","title":"Priority","text":"<p>Medium</p>"},{"location":"features/cut/cut-list-outputs/#summary","title":"Summary","text":"<p>Generate cut-list outputs (CSV/TSV and HTML tables) from the cut-list schema, including lengths, part references, per-side prep, labels, and breakouts. Optionally include simple line sketches later.</p>"},{"location":"features/cut/cut-list-outputs/#motivation","title":"Motivation","text":"<p>Shop-floor teams need printable/programmatic cut sheets for cutting/strip/tin equipment and QC checks.</p>"},{"location":"features/cut/cut-list-outputs/#affected-users-fields","title":"Affected Users / Fields","text":"<ul> <li>Harness manufacturing/QA</li> </ul>"},{"location":"features/cut/cut-list-outputs/#scope","title":"Scope","text":"<ul> <li>CSV/TSV export with one row per cut item.</li> <li>HTML table output for human review; optional minimal styling for clarity.</li> <li>Include per-side prep, labels, shield prep, and breakout info for cables.</li> </ul>"},{"location":"features/cut/cut-list-outputs/#out-of-scope","title":"Out of Scope","text":"<ul> <li>Detailed graphics; machine-specific binary formats.</li> </ul>"},{"location":"features/cut/cut-list-outputs/#requirements","title":"Requirements","text":"<ul> <li>Pull from <code>cut_list</code> schema; link to existing design IDs for clarity.</li> <li>Configurable units display and tolerance.</li> <li>Optional inclusion of pricing/part URLs if available from part model/cache.</li> <li>Keep outputs optional and separate from main diagram.</li> </ul>"},{"location":"features/cut/cut-list-outputs/#steps","title":"Steps","text":"<ul> <li>[ ] Implement exporter to CSV/TSV and HTML table using cut_list data.</li> <li>[ ] Add unit/tolerance formatting and per-side prep columns.</li> <li>[ ] Add labels/breakouts/shield prep columns; keep columns optional if data missing.</li> <li>[ ] Add CLI flag/output option to generate cut-list files.</li> <li>[ ] Add examples and regression outputs for wires and cables.</li> </ul>"},{"location":"features/cut/cut-list-outputs/#progress-log","title":"Progress Log","text":"<ul> <li>PROPOSED \u2014 output generation from cut list.</li> </ul>"},{"location":"features/cut/cut-list-outputs/#validation","title":"Validation","text":"<ul> <li>Regression comparison of CSV/TSV/HTML outputs for sample cut_list YAMLs; verify columns and optional fields.</li> </ul>"},{"location":"features/cut/cut-list-outputs/#dependencies-risks","title":"Dependencies / Risks","text":"<ul> <li>Depends on cut-list schema; must handle missing optional fields gracefully.</li> </ul>"},{"location":"features/cut/cut-list-schema/","title":"Cut list schema","text":"<p>uid: FEAT-BOM-0003 status: BACKLOG priority: medium owner_role: FEATURE estimate: TBD dependencies: [] risk: medium milestone: backlog</p>"},{"location":"features/cut/cut-list-schema/#cut-list-schema","title":"Cut List Schema","text":""},{"location":"features/cut/cut-list-schema/#status","title":"Status","text":"<p>PROPOSED</p>"},{"location":"features/cut/cut-list-schema/#priority","title":"Priority","text":"<p>Medium</p>"},{"location":"features/cut/cut-list-schema/#summary","title":"Summary","text":"<p>Define an optional cut-list schema to describe wire/cable cutting instructions: length, part references, end prep per side, labels, and breakouts for cables. This enables Filare to generate cut sheets for shop-floor use.</p>"},{"location":"features/cut/cut-list-schema/#motivation","title":"Motivation","text":"<p>Manufacturing needs precise lengths, strip/crimp prep, labels, and breakout instructions to program cutting/strip/tin equipment and prepare terminations.</p>"},{"location":"features/cut/cut-list-schema/#affected-users-fields","title":"Affected Users / Fields","text":"<ul> <li>Harness manufacturing/QA</li> <li>Service (for replacement reference)</li> </ul>"},{"location":"features/cut/cut-list-schema/#scope","title":"Scope","text":"<ul> <li>Cut-list entries tied to existing wires/cables/connectors.</li> <li>Fields for length/tolerance, material reference (MPN, gauge, color), end prep per side, labels, shield prep, breakouts.</li> <li>Optional fields to keep simple cases lightweight.</li> </ul>"},{"location":"features/cut/cut-list-schema/#out-of-scope","title":"Out of Scope","text":"<ul> <li>Graphical line sketches (separate feature if needed).</li> <li>Machine-specific formats (beyond CSV/TSV export).</li> </ul>"},{"location":"features/cut/cut-list-schema/#requirements","title":"Requirements","text":"<ul> <li>Optional top-level <code>cut_list</code> block; ignore-safe when absent.</li> <li>Link entries to <code>cables</code>/<code>wires</code> and connector ends.</li> <li>Per-side prep: strip length, terminal/seal/plug part, tool ref, shield prep note, boot/heat-shrink/tape note.</li> <li>Labels with text/position/part/template.</li> <li>Breakouts for cables with positions and conductor assignment.</li> <li>Notes/tolerance and process references (IPC/WHMA).</li> </ul>"},{"location":"features/cut/cut-list-schema/#steps","title":"Steps","text":"<ul> <li>[ ] Define YAML schema for <code>cut_list</code> entries with required/optional fields and references to existing design objects.</li> <li>[ ] Document schema and provide examples (wire, shielded cable with breakouts).</li> <li>[ ] Ensure parser ignores block when absent; validate links when present.</li> </ul>"},{"location":"features/cut/cut-list-schema/#progress-log","title":"Progress Log","text":"<ul> <li>PROPOSED \u2014 cut-list schema definition.</li> </ul>"},{"location":"features/cut/cut-list-schema/#validation","title":"Validation","text":"<ul> <li>Regression YAML containing cut_list entries for wires and multi-conductor cables; confirm parsing and field presence.</li> </ul>"},{"location":"features/cut/cut-list-schema/#dependencies-risks","title":"Dependencies / Risks","text":"<ul> <li>Must align identifiers with existing cables/wires/connectors; avoid breaking existing files.</li> </ul>"},{"location":"features/cut/cut-list-template/","title":"Cut list template","text":"<p>uid: FEAT-BOM-0004 status: BACKLOG priority: medium owner_role: FEATURE estimate: TBD dependencies: [] risk: medium milestone: backlog</p>"},{"location":"features/cut/cut-list-template/#cut-list-template","title":"Cut List Template","text":""},{"location":"features/cut/cut-list-template/#status","title":"Status","text":"<p>PROPOSED</p>"},{"location":"features/cut/cut-list-template/#priority","title":"Priority","text":"<p>Medium</p>"},{"location":"features/cut/cut-list-template/#summary","title":"Summary","text":"<p>Define a configurable cut-list template (column layout, formatting, optional symbols) for CSV/TSV/HTML exports, so teams can tailor the cut sheet to their process while keeping required fields consistent (lengths, prep per side, labels, breakouts).</p>"},{"location":"features/cut/cut-list-template/#motivation","title":"Motivation","text":"<p>Manufacturing and QA often need specific columns/order, unit formatting, and label/prep visibility to align with their cutters, printers, or QC checklists.</p>"},{"location":"features/cut/cut-list-template/#affected-users-fields","title":"Affected Users / Fields","text":"<ul> <li>Harness manufacturing/QA</li> <li>Service (when reviewing printed cut sheets)</li> </ul>"},{"location":"features/cut/cut-list-template/#scope","title":"Scope","text":"<ul> <li>Template definition for cut-list outputs: column selection/order, unit display, tolerance display, per-side prep formatting, label position formatting, optional notes inclusion.</li> <li>HTML styling hooks and CSV/TSV column defaults with overrides.</li> </ul>"},{"location":"features/cut/cut-list-template/#out-of-scope","title":"Out of Scope","text":"<ul> <li>Machine-specific proprietary formats.</li> <li>Graphical line sketches (separate feature if needed).</li> </ul>"},{"location":"features/cut/cut-list-template/#requirements","title":"Requirements","text":"<ul> <li>Default template with required columns: item_id, source (wire/cable), length+unit+tolerance, part/mpn, gauge/color, end A prep, end B prep.</li> <li>Optional columns toggles: labels (text/position/part), shield prep, breakouts, notes, process refs.</li> <li>Unit/tolerance formatting options; per-side prep formatting (strip length, terminal/seal/tool, shield prep).</li> <li>HTML template supports basic styling (row striping, column visibility) via config; CSV/TSV honor column order.</li> <li>Keep templates optional; fall back to default layout if none provided.</li> </ul>"},{"location":"features/cut/cut-list-template/#steps","title":"Steps","text":"<ul> <li>[ ] Define template config schema (columns list with keys/labels/format rules; per-field format options for units, tolerances, prep).</li> <li>[ ] Provide default templates (full; compact) and allow overrides via CLI/config.</li> <li>[ ] Implement template application in cut-list exporters (CSV/TSV/HTML).</li> <li>[ ] Document template usage with examples.</li> <li>[ ] Add regression outputs showing default vs custom template application.</li> </ul>"},{"location":"features/cut/cut-list-template/#progress-log","title":"Progress Log","text":"<ul> <li>PROPOSED \u2014 template specification for cut-list outputs.</li> </ul>"},{"location":"features/cut/cut-list-template/#validation","title":"Validation","text":"<ul> <li>Regression outputs for sample cut_list data with default and custom templates; verify column order, visibility, and formatting.</li> </ul>"},{"location":"features/cut/cut-list-template/#dependencies-risks","title":"Dependencies / Risks","text":"<ul> <li>Depends on cut-list schema and output generation; must handle missing optional fields gracefully.</li> </ul>"},{"location":"features/graph/","title":"Graph Features Overview","text":"<p>uid: FEAT-GRAPH-0002 status: BACKLOG priority: medium owner_role: FEATURE estimate: TBD dependencies: [] risk: medium milestone: backlog</p> <p>Follow-up features under <code>docs/features/graph/</code> elaborate how to refactor Filare models toward a node/link-centric graph. Each file depends on <code>docs/features/filare-model-graph-base.md</code> and should be implemented as separate features.</p> <ul> <li>pins-in-graph.md \u2014 Pins as nodes; connectors link to pins; loops as links.</li> <li>wires-in-graph.md \u2014 Wires/shields as nodes; cables link to wires; pins attach via links.</li> <li>colors-in-graph.md \u2014 Colors as nodes; components link to shared color nodes.</li> <li>connections-in-graph.md \u2014 Connections/loops as graph links instead of nested lists.</li> <li>connector-cable-connector-in-graph.md \u2014 End-to-end attachment chain via graph links.</li> <li>bom-from-graph.md \u2014 BOM generated by traversing the graph.</li> <li>cut-diagram-from-graph.md \u2014 Cut diagrams generated by graph traversal.</li> <li>termination-diagram-from-graph.md \u2014 Termination diagrams generated by graph traversal.</li> <li>bundle-model.md \u2014 Bundle as a graph node with member links.</li> <li>cable-as-part.md \u2014 Cable as a part node linking to member wires/shields.</li> <li>parts-and-components-links.md \u2014 Link component instances to manufactured Part nodes and derive a parts list.</li> <li>parts-list-export.md \u2014 Reference-only parts list export from graph traversal (no quantities).</li> <li>interface/interface-general-idea.md \u2014 Interfaces as nodes grouping pins/wires/components for semantic analysis.</li> <li>pins-terminations-in-graph.md \u2014 Terminations as nodes with pin-to-termination links (splice/crimp/solder).</li> <li>pin-ordering-parser.md \u2014 Derive connector pin ordering from pin node metadata, not link order.</li> <li>render-metadata-separation.md \u2014 Separate rendering hints (side/label/visual) from link payloads via dedicated nodes/structures.</li> </ul>"},{"location":"features/graph/bom-from-graph/","title":"Bom from graph","text":"<p>uid: FEAT-GRAPH-0003 status: BACKLOG priority: medium owner_role: FEATURE estimate: TBD dependencies: [] risk: medium milestone: backlog</p>"},{"location":"features/graph/bom-from-graph/#bom-from-graph-traversal","title":"BOM from Graph Traversal","text":""},{"location":"features/graph/bom-from-graph/#status","title":"Status","text":"<p>PLANNED</p>"},{"location":"features/graph/bom-from-graph/#summary","title":"Summary","text":"<p>Generate BOM entries by traversing the graph of nodes/links (connectors, cables, wires, shields, bundles, parts) instead of relying on nested model structures, ensuring a single source of truth for quantities and relationships.</p>"},{"location":"features/graph/bom-from-graph/#requirements","title":"Requirements","text":"<ul> <li>Define traversal rules over the UUID\u2192object map and graph links to produce BOM entries for connectors, cables, wires, shields, bundles, and additional components; prefer Part linkage when present, fall back to component fields otherwise.</li> <li>Ensure per-harness quantity multipliers, lengths, and categories are derived from graph data (e.g., wire lengths on PinWireAttachLink/CableWireLink).</li> <li>Preserve existing BOM output shape/content; ordering is less critical than correctness.</li> <li>Provide a tool/flow to parse config\u2192graph, then generate BOM from the graph for all harnesses or a subset.</li> <li>Support optional graph export/debug flows to validate BOM derivation without requiring user-authored graph data.</li> </ul>"},{"location":"features/graph/bom-from-graph/#steps","title":"Steps","text":"<ul> <li>[ ] Design traversal strategy and link/node roles needed for BOM derivation (categories, multipliers, lengths).</li> <li>[ ] Implement BOM builder atop the graph; map outputs to existing BOM models.</li> <li>[ ] Add tests/examples comparing legacy BOM generation vs graph-derived BOM for parity.</li> <li>[ ] Document the traversal approach and update feature progress.</li> <li>[ ] Finalize and mark feature complete.</li> </ul>"},{"location":"features/graph/bom-from-graph/#progress-log","title":"Progress Log","text":"<p>2025-12-06: Created follow-up feature spec for BOM generation via graph traversal.</p>"},{"location":"features/graph/bom-from-graph/#sub-features","title":"Sub-Features","text":"<ul> <li>None</li> </ul>"},{"location":"features/graph/bom-from-graph/#related-issues","title":"Related Issues","text":"<ul> <li>docs/features/graph/cut-diagram-from-graph.md</li> <li>docs/features/graph/termination-diagram-from-graph.md</li> <li>docs/features/filare-model-graph-base.md</li> </ul>"},{"location":"features/graph/bundle-model/","title":"Bundle model","text":"<p>uid: FEAT-GRAPH-0004 status: BACKLOG priority: medium owner_role: FEATURE estimate: TBD dependencies: [] risk: medium milestone: backlog</p>"},{"location":"features/graph/bundle-model/#bundle-model-in-graph","title":"Bundle Model in Graph","text":""},{"location":"features/graph/bundle-model/#status","title":"Status","text":"<p>PLANNED</p>"},{"location":"features/graph/bundle-model/#summary","title":"Summary","text":"<p>Define a Bundle as a FilareModel-backed node representing an ensemble of wires/cables, with membership expressed via graph links instead of nested structures.</p>"},{"location":"features/graph/bundle-model/#requirements","title":"Requirements","text":"<ul> <li>Create a Bundle node type (FilareModel-backed) with UUID4 ID in the UUID\u2192object map; captures bundle metadata (name/type/category) and mechanical details.</li> <li>Link bundles to member wires/cables via FilareLink subclasses (e.g., BundleMemberLink) carrying label/slot metadata when needed; bundles may nest (bundle\u2192bundle) to represent harness hierarchy.</li> <li>Support mechanical details via links to tie information (how the bundle is kept together), labels (identification), and sheathing (type of sheath used).</li> <li>Preserve legacy bundle representations (e.g., cable category=bundle) by building bundle nodes and membership links from existing YAML; keep outputs backward compatible.</li> <li>Allow partial wire membership (e.g., only first 2/3 of a wire in one bundle, remaining in another) via link payloads or segment metadata.</li> <li>Ensure render/BOM flows can resolve bundle membership via graph traversal without relying on nested wire lists.</li> <li>Note: Bundles can be nested; a harness can be viewed as connector\u2192bundles\u2192bundles\u2192bundles\u2192connectors at the highest level.</li> </ul>"},{"location":"features/graph/bundle-model/#steps","title":"Steps","text":"<ul> <li>[ ] Design Bundle node schema, membership link payloads (including partial/segment metadata), and mechanical links (ties/labels/sheathing).</li> <li>[ ] Implement bundle node creation and member links in parsing; adapt legacy bundle YAML and support bundle nesting.</li> <li>[ ] Update render/BOM flows to use graph-backed bundles.</li> <li>[ ] Add tests/examples for bundle graph export and parity with current outputs.</li> <li>[ ] Finalize and mark feature complete.</li> </ul>"},{"location":"features/graph/bundle-model/#progress-log","title":"Progress Log","text":"<p>2025-12-06: Created follow-up feature spec for bundle nodes and membership links.</p>"},{"location":"features/graph/bundle-model/#sub-features","title":"Sub-Features","text":"<ul> <li>None</li> </ul>"},{"location":"features/graph/bundle-model/#related-issues","title":"Related Issues","text":"<ul> <li>docs/features/filare-model-graph-base.md</li> </ul>"},{"location":"features/graph/cable-as-part/","title":"Cable as part","text":"<p>uid: FEAT-GRAPH-0005 status: BACKLOG priority: medium owner_role: FEATURE estimate: TBD dependencies: [] risk: medium milestone: backlog</p>"},{"location":"features/graph/cable-as-part/#cable-as-part-graph-based","title":"Cable as Part (Graph-Based)","text":""},{"location":"features/graph/cable-as-part/#status","title":"Status","text":"<p>PLANNED</p>"},{"location":"features/graph/cable-as-part/#summary","title":"Summary","text":"<p>Treat a cable as a part node (FilareModel-backed) that owns metadata (length, shielding, gauge, etc.) and links to its member wires/shields via graph edges, replacing embedded wire objects.</p>"},{"location":"features/graph/cable-as-part/#requirements","title":"Requirements","text":"<ul> <li>Represent cables as FilareModel-backed part nodes with UUID4 IDs; defer cable-specific metadata (jacket, impedance, color code) to Part nodes (see parts-and-components-links).</li> <li>Link cables to member wires/shields via CableWireLink (same link type for shield or wire) with label/color metadata; remove embedded <code>wire_objects</code>.</li> <li>Preserve legacy cable YAML by generating member wire/shield nodes and membership links from existing fields; keep rendered outputs/BOM stable.</li> <li>Allow cables to participate in bundles via BundleMemberLink; a cable-as-part may be the only element in a bundle.</li> </ul>"},{"location":"features/graph/cable-as-part/#steps","title":"Steps","text":"<ul> <li>[ ] Define cable-as-part node fields and membership link payloads.</li> <li>[ ] Implement parsing to build cable nodes + member wire/shield links from legacy YAML.</li> <li>[ ] Update render/BOM flows to consume graph-backed cable membership; retire embedded wire structures.</li> <li>[ ] Add tests/examples for cable graph export and parity with current outputs.</li> <li>[ ] Finalize and mark feature complete.</li> </ul>"},{"location":"features/graph/cable-as-part/#progress-log","title":"Progress Log","text":"<p>2025-12-06: Created follow-up feature spec to treat cables as graph parts with linked member wires/shields.</p>"},{"location":"features/graph/cable-as-part/#sub-features","title":"Sub-Features","text":"<ul> <li>None</li> </ul>"},{"location":"features/graph/cable-as-part/#related-issues","title":"Related Issues","text":"<ul> <li>docs/features/filare-model-graph-base.md</li> </ul>"},{"location":"features/graph/colors-in-graph/","title":"Colors in graph","text":"<p>uid: FEAT-GRAPH-0006 status: BACKLOG priority: medium owner_role: FEATURE estimate: TBD dependencies: [] risk: medium milestone: backlog</p>"},{"location":"features/graph/colors-in-graph/#colors-in-graph","title":"Colors in Graph","text":""},{"location":"features/graph/colors-in-graph/#status","title":"Status","text":"<p>PLANNED</p>"},{"location":"features/graph/colors-in-graph/#summary","title":"Summary","text":"<p>Represent colors as reusable graph nodes so connectors, pins, wires, and cables link to shared color objects instead of embedding color payloads, reducing duplication and simplifying color inheritance.</p>"},{"location":"features/graph/colors-in-graph/#requirements","title":"Requirements","text":"<ul> <li>Create Color nodes (FilareModel-backed) with UUID4 IDs stored in the UUID\u2192object map; capture both identification role (user-facing palette) and physical/color-code role (actual wire/cable color) as attributes, including color codes.</li> <li>Link components (connectors, pins, wires, cables) to colors via FilareLink subclasses (e.g., ColorLink) with distinct roles (body/bg/pin/jacket/etc.) to disambiguate usage; reuse color nodes across components is allowed/encouraged.</li> <li>Preserve legacy YAML color fields (strings, lists, color codes): parser generates Color nodes and link edges from existing values; emit graph export only when requested.</li> <li>Ensure color inheritance/overrides (e.g., cable color palettes, pincolors, Belden codes) resolve through color nodes without changing rendered output; support palette changes (e.g., grayscale) by updating color nodes.</li> </ul>"},{"location":"features/graph/colors-in-graph/#steps","title":"Steps","text":"<ul> <li>[ ] Design Color node schema and ColorLink payload (role/slot to differentiate body/background/pin colors).</li> <li>[ ] Implement Color node creation and linking during parsing; honor legacy color parsing paths.</li> <li>[ ] Update renderers to resolve colors via graph/UUID\u2192object map while keeping output identical.</li> <li>[ ] Add tests/examples validating color graph export and rendering parity; update docs.</li> <li>[ ] Finalize and mark feature complete.</li> </ul>"},{"location":"features/graph/colors-in-graph/#progress-log","title":"Progress Log","text":"<p>2025-12-06: Created follow-up feature spec to move colors into the graph as reusable nodes.</p>"},{"location":"features/graph/colors-in-graph/#sub-features","title":"Sub-Features","text":"<ul> <li>None</li> </ul>"},{"location":"features/graph/colors-in-graph/#related-issues","title":"Related Issues","text":"<ul> <li>docs/features/filare-model-graph-base.md</li> </ul>"},{"location":"features/graph/connections-in-graph/","title":"Connections in graph","text":"<p>uid: FEAT-GRAPH-0007 status: BACKLOG priority: medium owner_role: FEATURE estimate: TBD dependencies: [] risk: medium milestone: backlog</p>"},{"location":"features/graph/connections-in-graph/#connections-in-graph","title":"Connections in Graph","text":""},{"location":"features/graph/connections-in-graph/#status","title":"Status","text":"<p>PLANNED</p>"},{"location":"features/graph/connections-in-graph/#summary","title":"Summary","text":"<p>Move connection logic to FilareLink-based graph edges so pin-to-wire attachments and pin-to-pin loops are tracked in the graph instead of nested on cables/connectors.</p>"},{"location":"features/graph/connections-in-graph/#requirements","title":"Requirements","text":"<ul> <li>Replace <code>Connection</code>/<code>Loop</code> storage on cables/connectors with FilareLink subclasses (e.g., PinWireAttachLink, PinLoopLink) referencing pin and wire UUIDs only.</li> <li>Support directionality in attachment links (from/to), with an option for undirected if needed; side/label/rendering metadata currently live on the link payload, but we should evaluate separating rendering metadata into dedicated nodes or structures in a follow-up.</li> <li>Omit connection role (signal/return) here; other structures can express semantics. One-to-many or many-to-one is modeled by multiple links; termination details (solder/splice/crimp) live on termination links/nodes.</li> <li>Preserve legacy YAML (<code>connections</code>, <code>loops</code>, implicit wiring) by generating link edges from existing fields; emit graph export only when requested.</li> <li>Update harness build/render/BOM flows to consume graph-backed connections, keeping outputs stable.</li> </ul>"},{"location":"features/graph/connections-in-graph/#steps","title":"Steps","text":"<ul> <li>[ ] Design connection link schemas (attach/loop) and payloads for direction/side/metadata.</li> <li>[ ] Implement link creation during parsing; adapt to legacy connection definitions.</li> <li>[ ] Update harness/render flows to use graph-backed connections; retire <code>_connections</code>/loop lists.</li> <li>[ ] Add tests/examples for connection graph export and rendering parity; update docs.</li> <li>[ ] Finalize and mark feature complete.</li> </ul>"},{"location":"features/graph/connections-in-graph/#progress-log","title":"Progress Log","text":"<p>2025-12-06: Created follow-up feature spec to migrate connections/loops to graph-managed links.</p>"},{"location":"features/graph/connections-in-graph/#sub-features","title":"Sub-Features","text":"<ul> <li>None</li> </ul>"},{"location":"features/graph/connections-in-graph/#related-issues","title":"Related Issues","text":"<ul> <li>docs/features/filare-model-graph-base.md</li> </ul>"},{"location":"features/graph/connector-cable-connector-in-graph/","title":"Connector cable connector in graph","text":"<p>uid: FEAT-GRAPH-0008 status: BACKLOG priority: medium owner_role: FEATURE estimate: TBD dependencies: [] risk: medium milestone: backlog</p>"},{"location":"features/graph/connector-cable-connector-in-graph/#connectorcableconnector-in-graph","title":"Connector\u2013Cable\u2013Connector in Graph","text":""},{"location":"features/graph/connector-cable-connector-in-graph/#status","title":"Status","text":"<p>PLANNED</p>"},{"location":"features/graph/connector-cable-connector-in-graph/#summary","title":"Summary","text":"<p>Model end-to-end connector\u2194cable\u2194connector relationships as graph edges, replacing implicit connection storage with FilareLink-based attachments between connector pins and cable wire nodes.</p>"},{"location":"features/graph/connector-cable-connector-in-graph/#requirements","title":"Requirements","text":"<ul> <li>Use Pin nodes (from pins-in-graph) and Wire/Shield nodes (from wires-in-graph) to represent endpoints; connectors and cables stay linkless aside from their UUIDs.</li> <li>Define link types for attachment: ConnectorPinLink (connector\u2192pin), CableWireLink (cable\u2192wire/shield, same link type for wire or shield), and PinWireAttachLink (pin\u2192wire) to capture the full connector\u2013cable\u2013connector chain via UUIDs.</li> <li>Preserve directionality metadata where needed for rendering/BOM; link order is not significant because pin ordering is on the pin node. Outputs remain backward compatible with current diagrams and quantity calculations.</li> <li>Keep legacy YAML (<code>connections</code>, <code>wirelabels</code>, <code>colors</code>, etc.) working by generating the same attachment links during parsing; expose a graph export for debug only.</li> <li>Candidate link payload fields (to be finalized): direction (from/to), optional signal label/alias, optional termination reference (uuid), optional render hints (may move to render-metadata-separation).</li> </ul>"},{"location":"features/graph/connector-cable-connector-in-graph/#steps","title":"Steps","text":"<ul> <li>[ ] Design attachment link payloads to capture endpoint roles (from/to), order, and rendering hints.</li> <li>[ ] Implement attachment link creation during parsing; map legacy connection constructs to graph links.</li> <li>[ ] Update render/BOM flows to resolve connector\u2194cable\u2194connector chains via graph traversal.</li> <li>[ ] Add tests/examples and documentation for the graph-based attachment model.</li> <li>[ ] Finalize and mark feature complete.</li> </ul>"},{"location":"features/graph/connector-cable-connector-in-graph/#progress-log","title":"Progress Log","text":"<p>2025-12-06: Created follow-up feature spec for connector\u2013cable\u2013connector attachment via graph links.</p>"},{"location":"features/graph/connector-cable-connector-in-graph/#sub-features","title":"Sub-Features","text":"<ul> <li>None</li> </ul>"},{"location":"features/graph/connector-cable-connector-in-graph/#related-issues","title":"Related Issues","text":"<ul> <li>docs/features/filare-model-graph-base.md</li> </ul>"},{"location":"features/graph/cut-diagram-from-graph/","title":"Cut diagram from graph","text":"<p>uid: FEAT-GRAPH-0009 status: BACKLOG priority: medium owner_role: FEATURE estimate: TBD dependencies: [] risk: medium milestone: backlog</p>"},{"location":"features/graph/cut-diagram-from-graph/#cut-diagram-from-graph-traversal","title":"Cut Diagram from Graph Traversal","text":""},{"location":"features/graph/cut-diagram-from-graph/#status","title":"Status","text":"<p>PLANNED</p>"},{"location":"features/graph/cut-diagram-from-graph/#summary","title":"Summary","text":"<p>Generate cut diagrams by traversing the graph (cable, wire, shield nodes and attachment links) instead of nested structures, aligning with BOM-from-graph for shared data sources.</p>"},{"location":"features/graph/cut-diagram-from-graph/#requirements","title":"Requirements","text":"<ul> <li>Traverse cable/wire/shield nodes and PinWireAttachLink/CableWireLink data to derive cut lengths and labeling (including tolerances and scrap allowances), matching current cut diagram content.</li> <li>Keep rendering content the same; ordering may differ if needed, but correctness is priority.</li> <li>Provide a tool/flow to parse config\u2192graph, then emit cut diagrams for all harnesses or a subset.</li> <li>Use graph-derived data (lengths, colors, labels, tolerances/scrap) and stay compatible with legacy inputs via graph construction.</li> <li>Support configurable sorting/grouping (e.g., by bundle, harness, cable, wire) with a default that matches legacy behavior.</li> </ul>"},{"location":"features/graph/cut-diagram-from-graph/#steps","title":"Steps","text":"<ul> <li>[ ] Define traversal and data extraction for cut diagrams using the graph.</li> <li>[ ] Implement graph-based cut diagram generation; ensure content parity with current outputs.</li> <li>[ ] Add tests/examples and document the flow.</li> <li>[ ] Finalize and mark feature complete.</li> </ul>"},{"location":"features/graph/cut-diagram-from-graph/#progress-log","title":"Progress Log","text":"<p>2025-12-06: Created follow-up feature spec for cut diagrams via graph traversal.</p>"},{"location":"features/graph/cut-diagram-from-graph/#sub-features","title":"Sub-Features","text":"<ul> <li>None</li> </ul>"},{"location":"features/graph/cut-diagram-from-graph/#related-issues","title":"Related Issues","text":"<ul> <li>docs/features/graph/bom-from-graph.md</li> </ul>"},{"location":"features/graph/parts-and-components-links/","title":"Parts and components links","text":"<p>uid: FEAT-GRAPH-0010 status: BACKLOG priority: medium owner_role: FEATURE estimate: TBD dependencies: [] risk: medium milestone: backlog</p>"},{"location":"features/graph/parts-and-components-links/#parts-and-components-links","title":"Parts and Components Links","text":""},{"location":"features/graph/parts-and-components-links/#status","title":"Status","text":"<p>PLANNED</p>"},{"location":"features/graph/parts-and-components-links/#summary","title":"Summary","text":"<p>Introduce graph links that associate component instances (connectors, cables, wires, bundles) with purchasable parts, enabling a parts list derived from the graph while keeping component instances separate from their manufactured part definitions.</p>"},{"location":"features/graph/parts-and-components-links/#requirements","title":"Requirements","text":"<ul> <li>Define Part nodes (FilareModel-backed) representing manufactured items (with part numbers, supplier/manufacturer data) stored in the UUID\u2192object map; Part nodes are shared across components (dedup by identifiers).</li> <li>Link component nodes (connectors, cables, wires, bundles) to Part nodes via a PartLink (FilareLink subclass) instead of embedding part metadata directly in component instances.</li> <li>Preserve legacy part fields (mpn, pn, supplier, etc.) by generating Part nodes and PartLink edges during parsing; keep user-facing YAML compatible.</li> <li>Provide a parts list view/export derived from graph traversal (distinct from BOM), aggregating components by linked Part nodes without counting quantities (reference list).</li> <li>Keep rendering/BOM outputs stable; part linkage augments data without breaking existing flows; defer richer part attributes to follow-up work.</li> </ul>"},{"location":"features/graph/parts-and-components-links/#steps","title":"Steps","text":"<ul> <li>[ ] Design Part node schema and PartLink payload; map legacy part fields into Part nodes.</li> <li>[ ] Implement Part node creation and PartLink generation during parsing; maintain backward compatibility.</li> <li>[ ] Add parts list derivation via graph traversal; validate alongside existing BOM.</li> <li>[ ] Add tests/examples and documentation for parts list and part linkage export.</li> <li>[ ] Finalize and mark feature complete.</li> </ul>"},{"location":"features/graph/parts-and-components-links/#progress-log","title":"Progress Log","text":"<p>2025-12-06: Created follow-up feature spec for linking components to manufactured parts and deriving a parts list from the graph.</p>"},{"location":"features/graph/parts-and-components-links/#sub-features","title":"Sub-Features","text":"<ul> <li>None</li> </ul>"},{"location":"features/graph/parts-and-components-links/#related-issues","title":"Related Issues","text":"<ul> <li>docs/features/filare-model-graph-base.md</li> </ul>"},{"location":"features/graph/parts-list-export/","title":"Parts list export","text":"<p>uid: FEAT-GRAPH-0011 status: BACKLOG priority: medium owner_role: FEATURE estimate: TBD dependencies: [] risk: medium milestone: backlog</p>"},{"location":"features/graph/parts-list-export/#parts-list-export","title":"Parts List Export","text":""},{"location":"features/graph/parts-list-export/#status","title":"Status","text":"<p>PLANNED</p>"},{"location":"features/graph/parts-list-export/#summary","title":"Summary","text":"<p>Produce a reference parts list (no quantities) by traversing the graph\u2019s Part nodes and their links to components, distinct from the BOM, to enumerate which parts are present in the build.</p>"},{"location":"features/graph/parts-list-export/#requirements","title":"Requirements","text":"<ul> <li>Traverse Part nodes and PartLink edges to list unique parts used in the graph; no quantity aggregation (reference-only).</li> <li>Keep legacy YAML compatible: parts are derived from existing fields via Part nodes/links.</li> <li>Provide a tool/flow to parse config\u2192graph, then emit the parts list export.</li> <li>Rendering/BOM remain unchanged; this is an additional export.</li> </ul>"},{"location":"features/graph/parts-list-export/#steps","title":"Steps","text":"<ul> <li>[ ] Define the parts list export schema/format.</li> <li>[ ] Implement graph traversal to collect unique Part nodes.</li> <li>[ ] Add tests/examples and documentation.</li> <li>[ ] Finalize and mark feature complete.</li> </ul>"},{"location":"features/graph/parts-list-export/#progress-log","title":"Progress Log","text":"<p>2025-12-06: Created feature spec for a reference-only parts list export from graph traversal.</p>"},{"location":"features/graph/parts-list-export/#sub-features","title":"Sub-Features","text":"<ul> <li>None</li> </ul>"},{"location":"features/graph/parts-list-export/#related-issues","title":"Related Issues","text":"<ul> <li>docs/features/graph/parts-and-components-links.md</li> </ul>"},{"location":"features/graph/pin-ordering-parser/","title":"Pin ordering parser","text":"<p>uid: FEAT-GRAPH-0012 status: BACKLOG priority: medium owner_role: FEATURE estimate: TBD dependencies: [] risk: medium milestone: backlog</p>"},{"location":"features/graph/pin-ordering-parser/#pin-ordering-parser","title":"Pin Ordering Parser","text":""},{"location":"features/graph/pin-ordering-parser/#status","title":"Status","text":"<p>PLANNED</p>"},{"location":"features/graph/pin-ordering-parser/#summary","title":"Summary","text":"<p>Provide a graph-based pin ordering parser that derives connector pin orders from pin nodes (and optional interface/grouping metadata) instead of relying on link order, supporting strategies such as low\u2192high, high\u2192low, per-row, or per-interface.</p>"},{"location":"features/graph/pin-ordering-parser/#requirements","title":"Requirements","text":"<ul> <li>Derive pin order from pin node metadata (number/index, row/column/interface grouping) without relying on link order.</li> <li>Support configurable ordering strategies (low\u2192high, high\u2192low, per-row, per-interface, custom sort keys).</li> <li>Keep legacy behavior compatible: default ordering matches current outputs.</li> <li>Allow optional export/debug of computed ordering; no change to user-authored YAML by default.</li> </ul>"},{"location":"features/graph/pin-ordering-parser/#steps","title":"Steps","text":"<ul> <li>[ ] Define ordering strategy options and required pin node fields (number/index, row/interface tags if available).</li> <li>[ ] Implement ordering resolver using the graph/UUID\u2192object map; ensure default matches legacy ordering.</li> <li>[ ] Add tests/examples for ordering strategies and parity with current behavior.</li> <li>[ ] Document ordering configuration and update feature progress.</li> <li>[ ] Finalize and mark feature complete.</li> </ul>"},{"location":"features/graph/pin-ordering-parser/#progress-log","title":"Progress Log","text":"<p>2025-12-06: Created follow-up feature spec for pin ordering derived from pin node metadata instead of link order.</p>"},{"location":"features/graph/pin-ordering-parser/#sub-features","title":"Sub-Features","text":"<ul> <li>None</li> </ul>"},{"location":"features/graph/pin-ordering-parser/#related-issues","title":"Related Issues","text":"<ul> <li>docs/features/graph/pins-in-graph.md</li> </ul>"},{"location":"features/graph/pins-in-graph/","title":"Pins in graph","text":"<p>uid: FEAT-GRAPH-0013 status: BACKLOG priority: medium owner_role: FEATURE estimate: TBD dependencies: [] risk: medium milestone: backlog</p>"},{"location":"features/graph/pins-in-graph/#pins-in-graph","title":"Pins in Graph","text":""},{"location":"features/graph/pins-in-graph/#status","title":"Status","text":"<p>PLANNED</p>"},{"location":"features/graph/pins-in-graph/#summary","title":"Summary","text":"<p>Refactor pins into standalone graph nodes (FilareModel-backed) so connectors no longer embed pin arrays; pin membership and pin-to-pin loops become FilareLink edges managed in the shared graph.</p>"},{"location":"features/graph/pins-in-graph/#requirements","title":"Requirements","text":"<ul> <li>Create Pin nodes with UUID4 IDs (FilareModel-backed) stored in the UUID\u2192object map; pins carry their own name/label and pin number/order metadata.</li> <li>Connect connectors to pins via FilareLink subclasses (e.g., ConnectorPinLink); connectors only need pin UUIDs and pincount\u2014pin order is held by the pin nodes themselves, so link ordering is not significant.</li> <li>Represent loops/bridges between pins as link types (e.g., PinLoopLink) referencing pin UUIDs only.</li> <li>Allow pins to link to terminations (splice/crimp/solder/etc.) via dedicated link types; terminations live as graph nodes in their own feature spec.</li> <li>Keep existing YAML (<code>pins</code>, <code>pinlabels</code>, <code>pincolors</code>, <code>loops</code>) backward compatible: parser builds pin nodes + membership/loop links from legacy fields; emit graph export only when requested.</li> <li>Update renderers/BOM to consume graph-derived pins rather than nested connector data, preserving current outputs.</li> </ul>"},{"location":"features/graph/pins-in-graph/#steps","title":"Steps","text":"<ul> <li>[ ] Design pin node/link schema: Pin node fields, ConnectorPinLink payload (order/side), PinLoopLink payload (side/color/label visibility).</li> <li>[ ] Implement Pin node creation and membership/loop links in parsing; maintain legacy YAML compatibility.</li> <li>[ ] Update connector models/renderers to resolve pins via graph/UUID\u2192object map instead of nested lists.</li> <li>[ ] Add tests/examples covering pin graph export and rendering parity; update docs.</li> <li>[ ] Finalize and mark feature complete.</li> </ul>"},{"location":"features/graph/pins-in-graph/#progress-log","title":"Progress Log","text":"<p>2025-12-06: Created follow-up feature spec to move pins into the graph as standalone nodes.</p>"},{"location":"features/graph/pins-in-graph/#sub-features","title":"Sub-Features","text":"<ul> <li>None</li> </ul>"},{"location":"features/graph/pins-in-graph/#related-issues","title":"Related Issues","text":"<ul> <li>docs/features/filare-model-graph-base.md</li> </ul>"},{"location":"features/graph/pins-terminations-in-graph/","title":"Pins terminations in graph","text":"<p>uid: FEAT-GRAPH-0014 status: BACKLOG priority: medium owner_role: FEATURE estimate: TBD dependencies: [] risk: medium milestone: backlog</p>"},{"location":"features/graph/pins-terminations-in-graph/#pinsterminations-in-graph","title":"Pins\u2013Terminations in Graph","text":""},{"location":"features/graph/pins-terminations-in-graph/#status","title":"Status","text":"<p>PLANNED</p>"},{"location":"features/graph/pins-terminations-in-graph/#summary","title":"Summary","text":"<p>Model terminations (splice, crimp, solder, etc.) as graph nodes and link pins to terminations via FilareLink-based edges to represent physical/electrical joining without embedding termination data in pins or connectors.</p>"},{"location":"features/graph/pins-terminations-in-graph/#requirements","title":"Requirements","text":"<ul> <li>Define a Termination node type (FilareModel-backed) with UUID4 ID and termination metadata (type/kind, side, tooling notes).</li> <li>Link pins to terminations via dedicated links (e.g., PinTerminationLink) carrying role/position metadata if needed.</li> <li>Preserve legacy termination representations (if present) by generating nodes/links during parsing; keep outputs backward compatible.</li> <li>Keep rendering/BOM behavior stable; termination links augment data without breaking current flows.</li> </ul>"},{"location":"features/graph/pins-terminations-in-graph/#steps","title":"Steps","text":"<ul> <li>[ ] Design Termination node schema and PinTerminationLink payload (roles/position).</li> <li>[ ] Implement termination node creation and pin-to-termination link generation during parsing; adapt any legacy fields.</li> <li>[ ] Update render/BOM flows to consume termination links where applicable.</li> <li>[ ] Add tests/examples and documentation; ensure legacy outputs remain unchanged by default.</li> <li>[ ] Finalize and mark feature complete.</li> </ul>"},{"location":"features/graph/pins-terminations-in-graph/#progress-log","title":"Progress Log","text":"<p>2025-12-06: Created follow-up feature spec for representing terminations as graph nodes linked from pins.</p>"},{"location":"features/graph/pins-terminations-in-graph/#sub-features","title":"Sub-Features","text":"<ul> <li>None</li> </ul>"},{"location":"features/graph/pins-terminations-in-graph/#related-issues","title":"Related Issues","text":"<ul> <li>docs/features/graph/pins-in-graph.md</li> </ul>"},{"location":"features/graph/render-metadata-separation/","title":"Render metadata separation","text":"<p>uid: FEAT-GRAPH-0015 status: BACKLOG priority: medium owner_role: FEATURE estimate: TBD dependencies: [] risk: medium milestone: backlog</p>"},{"location":"features/graph/render-metadata-separation/#render-metadata-separation","title":"Render Metadata Separation","text":""},{"location":"features/graph/render-metadata-separation/#status","title":"Status","text":"<p>PLANNED</p>"},{"location":"features/graph/render-metadata-separation/#summary","title":"Summary","text":"<p>Explore decoupling rendering metadata (side/label/visual hints) from graph link payloads by introducing dedicated nodes or structures, so graph semantics remain pure while rendering concerns are layered separately.</p>"},{"location":"features/graph/render-metadata-separation/#requirements","title":"Requirements","text":"<ul> <li>Identify rendering metadata currently carried on links (e.g., side, label, visual hints) that could be separated from semantic link data.</li> <li>Propose a structure (e.g., RenderMetadata nodes keyed by link UUID) to hold rendering hints without altering graph semantics.</li> <li>Ensure backward compatibility: default behavior matches current rendering; separation is optional/transparent to users.</li> <li>Document migration path and how renderers should resolve metadata vs. semantic links.</li> </ul>"},{"location":"features/graph/render-metadata-separation/#steps","title":"Steps","text":"<ul> <li>[ ] Catalog rendering metadata on existing/planned link payloads (connections, attachments, etc.).</li> <li>[ ] Design a decoupled representation (nodes or auxiliary mapping) and resolution rules.</li> <li>[ ] Add tests/examples to validate rendering parity with/without separated metadata.</li> <li>[ ] Document the approach and update progress.</li> <li>[ ] Finalize and mark feature complete.</li> </ul>"},{"location":"features/graph/render-metadata-separation/#progress-log","title":"Progress Log","text":"<p>2025-12-06: Created follow-up feature spec to separate rendering metadata from link payloads.</p>"},{"location":"features/graph/render-metadata-separation/#sub-features","title":"Sub-Features","text":"<ul> <li>None</li> </ul>"},{"location":"features/graph/render-metadata-separation/#related-issues","title":"Related Issues","text":"<ul> <li>docs/features/graph/connections-in-graph.md</li> </ul>"},{"location":"features/graph/termination-diagram-from-graph/","title":"Termination diagram from graph","text":"<p>uid: FEAT-GRAPH-0016 status: BACKLOG priority: medium owner_role: FEATURE estimate: TBD dependencies: [] risk: medium milestone: backlog</p>"},{"location":"features/graph/termination-diagram-from-graph/#termination-diagram-from-graph-traversal","title":"Termination Diagram from Graph Traversal","text":""},{"location":"features/graph/termination-diagram-from-graph/#status","title":"Status","text":"<p>PLANNED</p>"},{"location":"features/graph/termination-diagram-from-graph/#summary","title":"Summary","text":"<p>Generate termination diagrams by traversing the graph (pins, terminations, wires/shields, attachment links) instead of nested structures, aligning with BOM-from-graph for shared data sources.</p>"},{"location":"features/graph/termination-diagram-from-graph/#requirements","title":"Requirements","text":"<ul> <li>Traverse pins, terminations, wires/shields, and PinTerminationLink/PinWireAttachLink data to derive termination details, matching current termination diagram content.</li> <li>Keep rendering content the same; ordering may differ if needed, but correctness is priority.</li> <li>Provide a tool/flow to parse config\u2192graph, then emit termination diagrams for all harnesses or a subset.</li> <li>Use graph-derived data and stay compatible with legacy inputs via graph construction.</li> </ul>"},{"location":"features/graph/termination-diagram-from-graph/#steps","title":"Steps","text":"<ul> <li>[ ] Define traversal and data extraction for termination diagrams using the graph.</li> <li>[ ] Implement graph-based termination diagram generation; ensure content parity with current outputs.</li> <li>[ ] Add tests/examples and document the flow.</li> <li>[ ] Finalize and mark feature complete.</li> </ul>"},{"location":"features/graph/termination-diagram-from-graph/#progress-log","title":"Progress Log","text":"<p>2025-12-06: Created follow-up feature spec for termination diagrams via graph traversal.</p>"},{"location":"features/graph/termination-diagram-from-graph/#sub-features","title":"Sub-Features","text":"<ul> <li>None</li> </ul>"},{"location":"features/graph/termination-diagram-from-graph/#related-issues","title":"Related Issues","text":"<ul> <li>docs/features/graph/bom-from-graph.md</li> </ul>"},{"location":"features/graph/wires-in-graph/","title":"Wires in graph","text":"<p>uid: FEAT-GRAPH-0017 status: BACKLOG priority: medium owner_role: FEATURE estimate: TBD dependencies: [] risk: medium milestone: backlog</p>"},{"location":"features/graph/wires-in-graph/#wires-in-graph","title":"Wires in Graph","text":""},{"location":"features/graph/wires-in-graph/#status","title":"Status","text":"<p>PLANNED</p>"},{"location":"features/graph/wires-in-graph/#summary","title":"Summary","text":"<p>Refactor wires (and shields) into standalone graph nodes so cables no longer embed wire objects; cable-to-wire membership and pin-to-wire attachments become FilareLink edges in the shared graph.</p>"},{"location":"features/graph/wires-in-graph/#requirements","title":"Requirements","text":"<ul> <li>Create Wire nodes as FilareModel-backed objects with UUID4 IDs stored in the UUID\u2192object map; cables do not embed <code>wire_objects</code>.</li> <li>Represent shields as their own node type (e.g., Shield node) with parent metadata; manage shielding via nodes/links rather than embedded fields.</li> <li>Connect cables to wires/shields via FilareLink subclasses (e.g., CableWireLink) without relying on link ordering; pin ordering for display comes from pins, not wires.</li> <li>Represent twist-pairs via dedicated links (e.g., WirePairLink) between wire nodes.</li> <li>Convert pin-to-wire connections into graph links (e.g., PinWireLink) instead of <code>Cable._connections</code>; ensure both ends resolve through the UUID\u2192object map.</li> <li>Preserve legacy YAML (<code>wirecount</code>, <code>colors</code>, <code>wirelabels</code>, <code>shield</code>) by building wire/shield nodes and membership/attachment links from existing fields; emit graph export only when requested.</li> <li>Keep BOM/render outputs stable: lengths/gauges/colors handled via graph-backed nodes; impedance/jacket/color can defer to Part linkage (see parts-and-components-links).</li> </ul>"},{"location":"features/graph/wires-in-graph/#steps","title":"Steps","text":"<ul> <li>[ ] Design Wire/Shield node schema and CableWireLink/PinWireLink payloads (order, label, color, gauge, length).</li> <li>[ ] Implement wire node creation and membership/attachment links during parsing; maintain legacy YAML compatibility.</li> <li>[ ] Update cable/connection handling and renderers to consume graph-backed wire data; retire <code>wire_objects</code>/<code>_connections</code> dependencies.</li> <li>[ ] Add tests/examples for wire graph export and rendering parity; update docs.</li> <li>[ ] Finalize and mark feature complete.</li> </ul>"},{"location":"features/graph/wires-in-graph/#progress-log","title":"Progress Log","text":"<p>2025-12-06: Created follow-up feature spec to move wires/shields into the graph as standalone nodes.</p>"},{"location":"features/graph/wires-in-graph/#sub-features","title":"Sub-Features","text":"<ul> <li>None</li> </ul>"},{"location":"features/graph/wires-in-graph/#related-issues","title":"Related Issues","text":"<ul> <li>docs/features/filare-model-graph-base.md</li> </ul>"},{"location":"features/interface/interface-general-idea/","title":"Interface general idea","text":"<p>uid: FEAT-UI-0001 status: BACKLOG priority: medium owner_role: FEATURE estimate: TBD dependencies: [] risk: medium milestone: backlog</p>"},{"location":"features/interface/interface-general-idea/#interface-general-idea","title":"Interface General Idea","text":""},{"location":"features/interface/interface-general-idea/#status","title":"Status","text":"<p>PLANNED</p>"},{"location":"features/interface/interface-general-idea/#summary","title":"Summary","text":"<p>Introduce Interface models representing specific electrical interfaces (e.g., power, RS232/RS422, CAN, Ethernet, SpaceWire, Camera Link, USB, HDMI). Interfaces are graph nodes that group pins/wires and related components, enabling semantic analysis and tooling on system connectivity.</p>"},{"location":"features/interface/interface-general-idea/#requirements","title":"Requirements","text":"<ul> <li>Define an Interface node type (FilareModel-backed) with UUID4 ID, capturing interface kind (enum/string), optional role (source/sink/bidirectional), and metadata (voltages, speeds, pairs, shielding, impedance).</li> <li>Associate pins/wires (and optionally connectors/cables) to Interface nodes via graph links (e.g., InterfaceMemberLink) that carry member roles (tx/rx/power/ground/clock) and ordering/pairing where applicable.</li> <li>Keep legacy YAML intact: interfaces are derived from existing pin/wire definitions or optional annotations; no breaking changes to current schemas.</li> <li>Provide optional export/debug of interfaces in the graph, and allow downstream tools to traverse interfaces semantically.</li> <li>Maintain rendering/BOM parity; interface data augments semantics without changing outputs unless explicitly enabled.</li> </ul>"},{"location":"features/interface/interface-general-idea/#steps","title":"Steps","text":"<ul> <li>[ ] Design Interface node schema and InterfaceMemberLink payloads (member roles, pairing, direction).</li> <li>[ ] Implement interface creation/association during parsing (derived or via optional annotations), keeping legacy compatibility.</li> <li>[ ] Add tests/examples demonstrating interface grouping and export; ensure renders/BOM remain stable by default.</li> <li>[ ] Document interface usage and update progress.</li> <li>[ ] Finalize and mark feature complete.</li> </ul>"},{"location":"features/interface/interface-general-idea/#progress-log","title":"Progress Log","text":"<p>2025-12-06: Created interface feature spec to represent electrical interfaces as graph nodes grouping pins/wires/components.</p>"},{"location":"features/interface/interface-general-idea/#sub-features","title":"Sub-Features","text":"<ul> <li>None</li> </ul>"},{"location":"features/interface/interface-general-idea/#related-issues","title":"Related Issues","text":"<ul> <li>docs/features/filare-model-graph-base.md</li> </ul>"},{"location":"features/interfaces/filare-interface-model/","title":"Filare Interface Models Contract","text":""},{"location":"features/interfaces/filare-interface-model/#summary","title":"Summary","text":"<p>Define explicit, user-facing interface models to represent the YAML contract Filare accepts. These models live under <code>src/filare/models/interface/</code>, inherit from a shared <code>FilareInterfaceModel</code> base, and use only YAML-friendly types (scalars, lists, dicts). They serve as the single source of truth for input validation, JSON Schema generation, and downstream tooling that needs to understand allowed inputs.</p>"},{"location":"features/interfaces/filare-interface-model/#goals","title":"Goals","text":"<ul> <li>Provide a clear, versioned interface contract for Filare inputs.</li> <li>Generate JSON Schema directly from interface models to aid docs, tooling, and compatibility checks.</li> <li>Keep interface models decoupled from internal/legacy dataclasses while offering adapters to internal models.</li> <li>Detect contract changes (breaking or additive) via schema diffs and targeted tests.</li> <li>Enable future tooling (e.g., editors, CLI validation) to rely on these schemas without guessing YAML structure.</li> <li>Use Pydantic v2 for all interface models; every <code>Field</code> must include a human-friendly <code>description</code> so schema/docs stay self-explanatory.</li> </ul>"},{"location":"features/interfaces/filare-interface-model/#scope-and-placement","title":"Scope and Placement","text":"<ul> <li>New interface models live in <code>src/filare/models/interface/&lt;model_name&gt;.py</code>.</li> <li>All interface models subclass <code>FilareInterfaceModel</code> (new base in the same package) to centralize config (strict mode, extra handling) and helpers (schema export, version tagging).</li> <li>Models expose only simple types that align with YAML primitives; any richer types are expressed as enums or nested interface models.</li> <li>Converters/adapters map interface models to existing internal/domain models without changing rendering or BOM behaviors.</li> <li>Each interface model includes a companion <code>factory_boy</code> factory named <code>Fake&lt;ModelName&gt;Factory</code>, subclassing <code>FakeInterfaceFactory</code>. The base factory must provide helpers to emit YAML from generated instances so tests can render flows directly from interface models.</li> </ul>"},{"location":"features/interfaces/filare-interface-model/#json-schema-generation","title":"JSON Schema Generation","text":"<ul> <li>Schema is produced from the interface models (e.g., <code>FilareInterfaceModel.model_json_schema()</code>).</li> <li>CI/tests will snapshot schemas to detect contract drift; docs will link to the generated schema as a user-facing contract.</li> <li>Schema artifacts are guidance only; source of truth remains the Python models.</li> </ul>"},{"location":"features/interfaces/filare-interface-model/#change-management","title":"Change Management","text":"<ul> <li>Additive fields default-safe to preserve compatibility; breaking changes require explicit review.</li> <li>Interface model versions (e.g., <code>schema_version</code>) recorded in the base class to track migrations.</li> <li>Tests cover:</li> <li>Model validation of representative YAML inputs.</li> <li>Round-trip or adapter correctness to internal models.</li> <li>Schema stability snapshots.</li> <li>Factories (<code>FakeInterfaceFactory</code> subclasses) build valid models and export YAML suitable for rendering.</li> </ul>"},{"location":"features/interfaces/filare-interface-model/#workflow-overview","title":"Workflow Overview","text":"<ol> <li>User supplies YAML \u2192 parsed to interface models (strict validation).</li> <li>Interface models \u2192 JSON Schema (for docs/tooling) and adapters \u2192 internal models/flows.</li> <li>Internal processing/rendering unchanged; interface layer isolates user contract from internal refactors.</li> </ol>"},{"location":"features/interfaces/filare-interface-model/#open-questions-to-refine","title":"Open Questions / To Refine","text":"<ul> <li>Which top-level inputs get models first (metadata/options/connectors/cables/connections)?</li> <li>How to publish schema artifacts (path, versioning strategy)?</li> <li>Do we provide a CLI flag to emit schema or validate files against it directly?</li> </ul>"},{"location":"features/interfaces/filare-interface-model/#next-steps","title":"Next Steps","text":"<ul> <li>Introduce <code>FilareInterfaceModel</code> base with shared config and schema helper.</li> <li>Define initial interface models (metadata, options, connectors, cables, connections).</li> <li>Add schema generation wiring (build task + tests) and document usage in examples/tutorials.</li> </ul>"},{"location":"features/mechanical/base-schema-and-paths/","title":"Base schema and paths","text":"<p>uid: FEAT-MECH-0003 status: BACKLOG priority: medium owner_role: FEATURE estimate: TBD dependencies: [] risk: medium milestone: backlog</p>"},{"location":"features/mechanical/base-schema-and-paths/#mechanical-base-schema-and-paths","title":"Mechanical Base Schema and Paths","text":""},{"location":"features/mechanical/base-schema-and-paths/#status","title":"Status","text":"<p>PROPOSED</p>"},{"location":"features/mechanical/base-schema-and-paths/#priority","title":"Priority","text":"<p>Medium</p>"},{"location":"features/mechanical/base-schema-and-paths/#summary","title":"Summary","text":"<p>Define an optional <code>mechanical</code> block that captures units/datum, board/fixture outline, reference holes, and harness paths (polylines, breakouts, segment metadata) to anchor all mechanical elements.</p>"},{"location":"features/mechanical/base-schema-and-paths/#motivation","title":"Motivation","text":"<p>Mechanical overlays require structured geometry (outline, paths, points) before clamps, coverings, splices, or dimensions can be placed.</p>"},{"location":"features/mechanical/base-schema-and-paths/#affected-users-fields","title":"Affected Users / Fields","text":"<ul> <li>Harness manufacturing/QA (board setups)</li> <li>Mechanical/electrical integration teams</li> </ul>"},{"location":"features/mechanical/base-schema-and-paths/#scope","title":"Scope","text":"<ul> <li>New <code>mechanical</code> schema: units, datum/grid, outline polygon, reference holes.</li> <li>Path definitions with points, segment lengths/bend radii, and breakout markers tied to cables/connectors.</li> </ul>"},{"location":"features/mechanical/base-schema-and-paths/#out-of-scope","title":"Out of Scope","text":"<ul> <li>Rendering and symbols (handled by renderer feature).</li> <li>Coverings/fixtures/splices (separate features).</li> </ul>"},{"location":"features/mechanical/base-schema-and-paths/#requirements","title":"Requirements","text":"<ul> <li>Optional and ignore-safe: existing YAMLs remain valid.</li> <li>Paths reference existing cables/connectors/wires for traceability.</li> <li>Support per-segment metadata (length, bend radius placeholder).</li> </ul>"},{"location":"features/mechanical/base-schema-and-paths/#steps","title":"Steps","text":"<ul> <li>[ ] Design YAML structure for <code>mechanical</code> (units, datum/grid, outline, reference holes).</li> <li>[ ] Define <code>paths</code> with point lists, breakout markers, and linkage to cables/connectors.</li> <li>[ ] Add docs and example YAML; ensure parser ignores block when absent.</li> </ul>"},{"location":"features/mechanical/base-schema-and-paths/#progress-log","title":"Progress Log","text":"<ul> <li>PROPOSED \u2014 initial base schema definition.</li> </ul>"},{"location":"features/mechanical/base-schema-and-paths/#validation","title":"Validation","text":"<ul> <li>Regression YAML with mechanical outline + paths; confirmed parsed without affecting existing renders.</li> </ul>"},{"location":"features/mechanical/base-schema-and-paths/#dependencies-risks","title":"Dependencies / Risks","text":"<ul> <li>Must not conflict with existing top-level keys; needs clear defaults for units/datum.</li> </ul>"},{"location":"features/mechanical/features-and-coverings/","title":"Features and coverings","text":"<p>uid: FEAT-MECH-0004 status: BACKLOG priority: medium owner_role: FEATURE estimate: TBD dependencies: [] risk: medium milestone: backlog</p>"},{"location":"features/mechanical/features-and-coverings/#mechanical-features-and-coverings","title":"Mechanical Features and Coverings","text":""},{"location":"features/mechanical/features-and-coverings/#status","title":"Status","text":"<p>PROPOSED</p>"},{"location":"features/mechanical/features-and-coverings/#priority","title":"Priority","text":"<p>Medium</p>"},{"location":"features/mechanical/features-and-coverings/#summary","title":"Summary","text":"<p>Add mechanical feature placement (clamps/ties/edge clips, grommets/bulkheads, strain relief/boots/backshells) and protective coverings (conduit/braid/tape/heat-shrink segments) along paths, with part references and placement coordinates/intervals.</p>"},{"location":"features/mechanical/features-and-coverings/#motivation","title":"Motivation","text":"<p>Board builds need exact clamp/grommet positions and covering intervals; BOM should reflect these parts with correct quantities.</p>"},{"location":"features/mechanical/features-and-coverings/#affected-users-fields","title":"Affected Users / Fields","text":"<ul> <li>Harness manufacturing/QA</li> <li>Mechanical/electrical integration</li> <li>Service (for locating clamps/coverings)</li> </ul>"},{"location":"features/mechanical/features-and-coverings/#scope","title":"Scope","text":"<ul> <li>Feature entities with type, position, orientation (optional), part refs, spacing rules.</li> <li>Covering entities defined by path intervals (start/end distance) with material/part refs and optional overlap %.</li> </ul>"},{"location":"features/mechanical/features-and-coverings/#out-of-scope","title":"Out of Scope","text":"<ul> <li>Renderer glyphs (handled by renderer feature).</li> <li>Shield/splice/labels (separate features).</li> </ul>"},{"location":"features/mechanical/features-and-coverings/#requirements","title":"Requirements","text":"<ul> <li>Features and coverings reference paths; support BOM qty multipliers (count or length-based).</li> <li>Optional and ignore-safe.</li> <li>Allow simple fallback rendering if detailed glyphs are unavailable.</li> </ul>"},{"location":"features/mechanical/features-and-coverings/#steps","title":"Steps","text":"<ul> <li>[ ] Extend mechanical schema with <code>features</code> (clamp, tie, edge clip, grommet, bulkhead, strain relief/boot/backshell) and placement.</li> <li>[ ] Add <code>coverings</code> with path ref, start/end distances, material/part refs, overlap %.</li> <li>[ ] Update docs/examples; ensure BOM generation can consume part refs/multipliers.</li> </ul>"},{"location":"features/mechanical/features-and-coverings/#progress-log","title":"Progress Log","text":"<ul> <li>PROPOSED \u2014 feature/covering placement defined as mechanical elements.</li> </ul>"},{"location":"features/mechanical/features-and-coverings/#validation","title":"Validation","text":"<ul> <li>Regression YAML with clamps/grommets and a tape/heat-shrink segment; BOM shows parts; render verifies placement markers.</li> </ul>"},{"location":"features/mechanical/features-and-coverings/#dependencies-risks","title":"Dependencies / Risks","text":"<ul> <li>Needs base schema/paths feature; BOM integration must handle length multipliers for coverings.</li> </ul>"},{"location":"features/mechanical/labels-and-dimensions/","title":"Labels and dimensions","text":"<p>uid: FEAT-MECH-0005 status: BACKLOG priority: medium owner_role: FEATURE estimate: TBD dependencies: [] risk: medium milestone: backlog</p>"},{"location":"features/mechanical/labels-and-dimensions/#mechanical-labels-and-dimensions","title":"Mechanical Labels and Dimensions","text":""},{"location":"features/mechanical/labels-and-dimensions/#status","title":"Status","text":"<p>PROPOSED</p>"},{"location":"features/mechanical/labels-and-dimensions/#priority","title":"Priority","text":"<p>Medium</p>"},{"location":"features/mechanical/labels-and-dimensions/#summary","title":"Summary","text":"<p>Add mechanical annotations: labels/markers tied to path positions or features, and dimensions (chain/leader) for segment lengths, clamp spacing, and breakouts.</p>"},{"location":"features/mechanical/labels-and-dimensions/#motivation","title":"Motivation","text":"<p>Board builds and service need clear physical callouts\u2014labels for identification and dimensions for fabrication/QA checks.</p>"},{"location":"features/mechanical/labels-and-dimensions/#affected-users-fields","title":"Affected Users / Fields","text":"<ul> <li>Harness manufacturing/QA</li> <li>Service technicians</li> <li>Mechanical/electrical integration</li> </ul>"},{"location":"features/mechanical/labels-and-dimensions/#scope","title":"Scope","text":"<ul> <li>Labels with text/ID (optional barcode ref) attached to paths/features.</li> <li>Dimensions with measurement text, tolerance, and anchor points along paths/features.</li> <li>Optional notes for process/environment.</li> </ul>"},{"location":"features/mechanical/labels-and-dimensions/#out-of-scope","title":"Out of Scope","text":"<ul> <li>Rendering glyph choices (renderer feature).</li> <li>CAD viewer hooks (separate feature).</li> </ul>"},{"location":"features/mechanical/labels-and-dimensions/#requirements","title":"Requirements","text":"<ul> <li>Annotations reference paths/features; optional and ignore-safe.</li> <li>Dimension supports chain/leader style with units from mechanical block.</li> </ul>"},{"location":"features/mechanical/labels-and-dimensions/#steps","title":"Steps","text":"<ul> <li>[ ] Extend mechanical schema with <code>annotations</code> (labels, dimensions, notes) tied to path positions/features.</li> <li>[ ] Define allowed fields (text, id, barcode ref, tolerance, anchors).</li> <li>[ ] Update docs/examples; ensure renderer can place text/arrows and HTML legend documents symbols.</li> </ul>"},{"location":"features/mechanical/labels-and-dimensions/#progress-log","title":"Progress Log","text":"<ul> <li>PROPOSED \u2014 annotation model defined.</li> </ul>"},{"location":"features/mechanical/labels-and-dimensions/#validation","title":"Validation","text":"<ul> <li>Regression YAML with labels on breakouts/clamps and chain dimensions along a path; render shows callouts.</li> </ul>"},{"location":"features/mechanical/labels-and-dimensions/#dependencies-risks","title":"Dependencies / Risks","text":"<ul> <li>Depends on base schema/paths; must stay lightweight to avoid cluttered diagrams.</li> </ul>"},{"location":"features/mechanical/splices-and-shielding/","title":"Splices and shielding","text":"<p>uid: FEAT-MECH-0006 status: BACKLOG priority: medium owner_role: FEATURE estimate: TBD dependencies: [] risk: medium milestone: backlog</p>"},{"location":"features/mechanical/splices-and-shielding/#mechanical-splices-and-shield-terminations","title":"Mechanical Splices and Shield Terminations","text":""},{"location":"features/mechanical/splices-and-shielding/#status","title":"Status","text":"<p>PROPOSED</p>"},{"location":"features/mechanical/splices-and-shielding/#priority","title":"Priority","text":"<p>Medium</p>"},{"location":"features/mechanical/splices-and-shielding/#summary","title":"Summary","text":"<p>Represent mechanical placement of splices/junctions and shield terminations along paths, with symbols, part references, and linkage to electrical wires/connectors.</p>"},{"location":"features/mechanical/splices-and-shielding/#motivation","title":"Motivation","text":"<p>Manufacturing and service need to locate splices and understand shield termination style (backshell, pigtail, isolated) on the physical layout.</p>"},{"location":"features/mechanical/splices-and-shielding/#affected-users-fields","title":"Affected Users / Fields","text":"<ul> <li>Harness manufacturing/QA</li> <li>Service/diagnostics</li> <li>EMI/packaging reviewers</li> </ul>"},{"location":"features/mechanical/splices-and-shielding/#scope","title":"Scope","text":"<ul> <li>Splice/junction entities: position, type (inline barrel, junction block), part ref, involved wires/nets.</li> <li>Shield termination entities: path endpoint or connector association, style (backshell/pigtail/isolated), target (ground stud/backshell), hardware refs.</li> </ul>"},{"location":"features/mechanical/splices-and-shielding/#out-of-scope","title":"Out of Scope","text":"<ul> <li>Electrical rules beyond presence/location.</li> <li>Renderer glyphs (handled by renderer feature).</li> </ul>"},{"location":"features/mechanical/splices-and-shielding/#requirements","title":"Requirements","text":"<ul> <li>Link splices to wires/cables/connectors for traceability.</li> <li>Shield terminations tie to connector/path end; optional hardware for BOM.</li> <li>Optional and ignore-safe in YAML.</li> </ul>"},{"location":"features/mechanical/splices-and-shielding/#steps","title":"Steps","text":"<ul> <li>[ ] Add <code>splices</code> to mechanical schema with position, type, part ref, wire/net refs.</li> <li>[ ] Add <code>shield_terminations</code> with style/target/hardware refs tied to path ends/connectors.</li> <li>[ ] Update docs/examples; ensure BOM picks up part refs and hardware.</li> </ul>"},{"location":"features/mechanical/splices-and-shielding/#progress-log","title":"Progress Log","text":"<ul> <li>PROPOSED \u2014 mechanical splice and shield placement defined.</li> </ul>"},{"location":"features/mechanical/splices-and-shielding/#validation","title":"Validation","text":"<ul> <li>Regression YAML with an inline splice and a shield termination to backshell/ground; render shows markers and BOM lists parts.</li> </ul>"},{"location":"features/mechanical/splices-and-shielding/#dependencies-risks","title":"Dependencies / Risks","text":"<ul> <li>Needs base schema/paths; relies on consistent wire identifiers to link mechanical and electrical views.</li> </ul>"},{"location":"features/parts/octopart-ingestion/","title":"Octopart ingestion","text":"<p>uid: FEAT-BOM-0006 status: BACKLOG priority: medium owner_role: FEATURE estimate: TBD dependencies: [] risk: medium milestone: backlog</p>"},{"location":"features/parts/octopart-ingestion/#octopart-ingestion-filare-relevant-categories","title":"Octopart Ingestion (Filare-Relevant Categories)","text":""},{"location":"features/parts/octopart-ingestion/#status","title":"Status","text":"<p>PROPOSED</p>"},{"location":"features/parts/octopart-ingestion/#priority","title":"Priority","text":"<p>Low</p>"},{"location":"features/parts/octopart-ingestion/#summary","title":"Summary","text":"<p>Add an optional Octopart-based ingestion path to fetch parts relevant to Filare (connectors, terminals/crimps, cables, wires, sheathes/coverings, test equipment/tools, terminations), avoiding full-catalog pulls. Map results into the Filare part model with supplier/pricing info where available.</p>"},{"location":"features/parts/octopart-ingestion/#motivation","title":"Motivation","text":"<p>Octopart aggregates manufacturer and distributor data with a stable API; filtering to Filare-relevant categories reduces noise and bandwidth while enriching harness BOMs.</p>"},{"location":"features/parts/octopart-ingestion/#affected-users-fields","title":"Affected Users / Fields","text":"<ul> <li>Harness engineers and procurement needing authoritative MPNs/specs/datasheets for Filare parts without per-distributor queries.</li> </ul>"},{"location":"features/parts/octopart-ingestion/#scope","title":"Scope","text":"<ul> <li>Octopart adapter (keyed API) limited to targeted categories and/or manufacturers.</li> <li>CLI to search/fetch by MPN or by filtered category (connectors/crimps/cables/wires/sheathes/tools/terminations).</li> <li>Mapping to Filare part model (common + type-specific fields); optional supplier/pricing capture in cache.</li> </ul>"},{"location":"features/parts/octopart-ingestion/#out-of-scope","title":"Out of Scope","text":"<ul> <li>Pulling non-Filare categories (semiconductors, passives, etc.).</li> <li>Embedding pricing in committed design files (keep in cache).</li> </ul>"},{"location":"features/parts/octopart-ingestion/#requirements","title":"Requirements","text":"<ul> <li>API key via config/env; optional feature (offline safe).</li> <li>Category/keyword filters to restrict to harness-relevant parts.</li> <li>Pagination and rate-limit handling; local cache of results.</li> <li>Normalization layer to Filare part schema (including supplier offers where allowed).</li> </ul>"},{"location":"features/parts/octopart-ingestion/#steps","title":"Steps","text":"<ul> <li>[ ] Define category filters/queries for Filare scope (connectors, terminals/crimps, cables, wires, sheathes/coverings, tools/test equipment, terminations).</li> <li>[ ] Implement Octopart adapter: search by MPN; search by filtered category/keyword; paginate; map fields to Filare part model.</li> <li>[ ] Add CLI commands: <code>parts fetch --mpn ... --source octopart</code>, <code>parts search --source octopart --category connectors</code>.</li> <li>[ ] Add caching and rate-limit/backoff; avoid storing pricing in VCS.</li> <li>[ ] Document setup (API key), filters, and examples.</li> <li>[ ] Add mocked tests with sample Octopart responses and mapping.</li> </ul>"},{"location":"features/parts/octopart-ingestion/#progress-log","title":"Progress Log","text":"<ul> <li>PROPOSED \u2014 Feature defined from parts ingestion research.</li> </ul>"},{"location":"features/parts/octopart-ingestion/#validation","title":"Validation","text":"<ul> <li>Mocked responses for MPN lookup and category search; verify mapping to Filare schema and filter behavior.</li> </ul>"},{"location":"features/parts/octopart-ingestion/#dependencies-risks","title":"Dependencies / Risks","text":"<ul> <li>Requires Octopart API key and adherence to terms; rate limits apply.</li> <li>Category taxonomy may differ; need resilient filters and keyword fallbacks.</li> </ul>"},{"location":"features/performance-tools/cprofile-support/","title":"Cprofile support","text":"<p>uid: FEAT-PERF-0001 status: BACKLOG priority: medium owner_role: FEATURE estimate: TBD dependencies: [] risk: medium milestone: backlog</p>"},{"location":"features/performance-tools/cprofile-support/#cprofile-support-deterministic-cpu-profiling","title":"cProfile Support (Deterministic CPU Profiling)","text":""},{"location":"features/performance-tools/cprofile-support/#status","title":"Status","text":"<p>PROPOSED</p>"},{"location":"features/performance-tools/cprofile-support/#priority","title":"Priority","text":"<p>Low</p>"},{"location":"features/performance-tools/cprofile-support/#summary","title":"Summary","text":"<p>Add opt-in cProfile support via env-configured settings (<code>FIL_PERF_CPROFILE_*</code>) to produce <code>pstats</code>/callgrind outputs for Filare runs, using the perf-tools container for consistent tooling.</p>"},{"location":"features/performance-tools/cprofile-support/#motivation","title":"Motivation","text":"<ul> <li>Provide a stdlib, dependency-free profiling option.</li> <li>Deterministic call counts useful for regression diffs and small benchmarks.</li> <li>Works in constrained environments where py-spy/Scalene are unavailable.</li> </ul>"},{"location":"features/performance-tools/cprofile-support/#affected-users-fields","title":"Affected Users / Fields","text":"<ul> <li>Developers needing deterministic call traces for CLI commands.</li> <li>CI jobs capturing quick comparisons of hotspots over time.</li> </ul>"},{"location":"features/performance-tools/cprofile-support/#scope","title":"Scope","text":"<ul> <li>Add <code>CProfileSettings</code> (prefix <code>FIL_PERF_CPROFILE_</code>) nested in <code>PerformanceSettings</code>.</li> <li>Options: sort key (time/calls), output format (<code>pstats</code>, <code>callgrind</code>), strip dirs toggle, subcommand to wrap.</li> <li>Wrapper in perf container to run <code>python -m cProfile</code> with configured options, writing <code>run_label-cprofile.*</code>.</li> <li>Documentation page <code>docs/performance/cprofile.md</code> describing running, converting to callgrind, and viewing with <code>snakeviz</code>/<code>kcachegrind</code>.</li> </ul>"},{"location":"features/performance-tools/cprofile-support/#out-of-scope","title":"Out of Scope","text":"<ul> <li>Runtime UI integration; outputs remain files for offline analysis.</li> </ul>"},{"location":"features/performance-tools/cprofile-support/#requirements","title":"Requirements","text":"<ul> <li>Env vars such as <code>FIL_PERF_CPROFILE_ENABLED</code>, <code>FIL_PERF_CPROFILE_SORT=time</code>, <code>FIL_PERF_CPROFILE_FORMAT=pstats|callgrind</code>, <code>FIL_PERF_CPROFILE_OUTPUT</code>.</li> <li>Default output path under <code>PerformanceSettings.output_dir</code> with <code>run_label</code>.</li> <li>Support generating callgrind via <code>pyprof2calltree</code> inside the container when requested.</li> <li>Docs page with examples and report interpretation tips, including:</li> <li>How to view <code>pstats</code> summaries (top functions by <code>tottime</code>/<code>cumtime</code>).</li> <li>Opening <code>callgrind</code> in <code>kcachegrind</code> or <code>qcachegrind</code> for call graph visualization.</li> <li>Using <code>snakeviz</code> for interactive browser-based views (optional in perf-tools container).</li> </ul>"},{"location":"features/performance-tools/cprofile-support/#steps","title":"Steps","text":"<ul> <li>[ ] Define <code>CProfileSettings</code> model with defaults (sort <code>tottime</code>, format <code>pstats</code>).</li> <li>[ ] Wire settings to container wrapper and <code>PerformanceSettings.enable_cprofile</code>.</li> <li>[ ] Add optional conversion step to callgrind if requested.</li> <li>[ ] Document usage in <code>docs/performance/cprofile.md</code>.</li> </ul>"},{"location":"features/performance-tools/cprofile-support/#progress-log","title":"Progress Log","text":"<ul> <li>PROPOSED \u2014 Based on performance-tooling research.</li> </ul>"},{"location":"features/performance-tools/cprofile-support/#validation","title":"Validation","text":"<ul> <li>Run <code>FIL_PERF_CPROFILE_ENABLED=1</code> on sample Filare command; confirm output file and readable stats.</li> <li>Verify callgrind conversion opens in <code>kcachegrind</code> if requested.</li> </ul>"},{"location":"features/performance-tools/cprofile-support/#dependencies-risks","title":"Dependencies / Risks","text":"<ul> <li>Overhead higher than sampling tools; keep for targeted measurements.</li> <li>Callgrind conversion requires extra tool (<code>pyprof2calltree</code>) in the perf container.</li> </ul>"},{"location":"features/performance-tools/memray-support/","title":"Memray support","text":"<p>uid: FEAT-PERF-0002 status: BACKLOG priority: medium owner_role: FEATURE estimate: TBD dependencies: [] risk: medium milestone: backlog</p>"},{"location":"features/performance-tools/memray-support/#memray-support-allocation-tracing","title":"Memray Support (Allocation Tracing)","text":""},{"location":"features/performance-tools/memray-support/#status","title":"Status","text":"<p>PROPOSED</p>"},{"location":"features/performance-tools/memray-support/#priority","title":"Priority","text":"<p>Medium (elevate to High when investigating memory regressions)</p>"},{"location":"features/performance-tools/memray-support/#summary","title":"Summary","text":"<p>Integrate Memray as an opt-in allocation tracer controlled via env (<code>FIL_PERF_MEMRAY_*</code>) and runnable from the perf-tools container to capture Python/native allocations, leaks, and peak RSS during Filare runs.</p>"},{"location":"features/performance-tools/memray-support/#motivation","title":"Motivation","text":"<ul> <li>Track down memory leaks or spikes when rendering complex diagrams or large BOMs.</li> <li>Observe allocations in native extensions (e.g., Graphviz) as well as Python code.</li> <li>Provide exportable flamegraphs and table reports for investigations.</li> </ul>"},{"location":"features/performance-tools/memray-support/#affected-users-fields","title":"Affected Users / Fields","text":"<ul> <li>Developers debugging memory issues in Filare or downstream harnesses.</li> <li>CI snapshots when memory usage regresses between releases.</li> </ul>"},{"location":"features/performance-tools/memray-support/#scope","title":"Scope","text":"<ul> <li>Add <code>MemraySettings</code> (prefix <code>FIL_PERF_MEMRAY_</code>) nested in <code>PerformanceSettings</code>.</li> <li>Flags for output file, format (bin/HTML/flamegraph), track allocations vs. deallocations, native frame collection, and live server toggle.</li> <li>Container wrapper to run <code>memray run</code> with configured options and emit <code>run_label-memray.*</code>.</li> <li>Documentation page <code>docs/performance/memray.md</code> describing capture, viewing (<code>memray flamegraph/summary/html</code>), and expected artifacts.</li> </ul>"},{"location":"features/performance-tools/memray-support/#out-of-scope","title":"Out of Scope","text":"<ul> <li>Always-on memory tracing; intended for targeted repros.</li> <li>Windows support (container base is Linux).</li> </ul>"},{"location":"features/performance-tools/memray-support/#requirements","title":"Requirements","text":"<ul> <li>Env vars such as <code>FIL_PERF_MEMRAY_ENABLED</code>, <code>FIL_PERF_MEMRAY_OUTPUT</code>, <code>FIL_PERF_MEMRAY_FORMAT=html|flamegraph|bin</code>, <code>FIL_PERF_MEMRAY_NATIVE=1</code>, <code>FIL_PERF_MEMRAY_LIVE_PORT</code>.</li> <li>Default output path under <code>PerformanceSettings.output_dir</code> with <code>run_label</code>.</li> <li>Graceful handling of large report sizes; warn when live server is enabled.</li> <li>Docs page with command examples and viewing instructions.</li> <li>Platform note: target Linux container; skip/warn on unsupported platforms in CI/dev.</li> </ul>"},{"location":"features/performance-tools/memray-support/#steps","title":"Steps","text":"<ul> <li>[ ] Define <code>MemraySettings</code> model with sensible defaults (binary output, native frames off, live server off).</li> <li>[ ] Wire settings to container wrapper and <code>PerformanceSettings.enable_memray</code>.</li> <li>[ ] Provide helper to convert captured <code>.bin</code> into flamegraph/HTML when requested.</li> <li>[ ] Document usage in <code>docs/performance/memray.md</code>.</li> </ul>"},{"location":"features/performance-tools/memray-support/#progress-log","title":"Progress Log","text":"<ul> <li>PROPOSED \u2014 Based on performance-tooling research.</li> </ul>"},{"location":"features/performance-tools/memray-support/#validation","title":"Validation","text":"<ul> <li>Run with <code>FIL_PERF_MEMRAY_ENABLED=1</code> on a heavy Filare example; ensure output file exists and can be rendered via <code>memray flamegraph</code>/<code>memray summary</code>.</li> <li>Confirm native frames appear when enabled.</li> </ul>"},{"location":"features/performance-tools/memray-support/#dependencies-risks","title":"Dependencies / Risks","text":"<ul> <li>Overhead higher than sampling profilers; limit to repro runs.</li> <li>Report files can be large; note cleanup practices.</li> </ul>"},{"location":"features/performance-tools/perf-ci-workflow/","title":"Perf ci workflow","text":"<p>uid: FEAT-PERF-0003 status: BACKLOG priority: medium owner_role: FEATURE estimate: TBD dependencies: [] risk: medium milestone: backlog</p>"},{"location":"features/performance-tools/perf-ci-workflow/#perf-ci-workflow-on-demand-profiling","title":"Perf CI Workflow (On-Demand Profiling)","text":""},{"location":"features/performance-tools/perf-ci-workflow/#status","title":"Status","text":"<p>PROPOSED</p>"},{"location":"features/performance-tools/perf-ci-workflow/#priority","title":"Priority","text":"<p>Medium</p>"},{"location":"features/performance-tools/perf-ci-workflow/#summary","title":"Summary","text":"<p>Add an opt-in CI workflow that runs profiling scenarios on demand (PR comment/label, beta, or master) to detect adverse performance changes. The workflow uses the perf-tools container and <code>PerformanceSettings</code> env flags to capture CPU/memory reports across key Filare commands.</p>"},{"location":"features/performance-tools/perf-ci-workflow/#motivation","title":"Motivation","text":"<ul> <li>Provide fast feedback when a change might regress render/BOM performance.</li> <li>Keep CI lean by running perf checks only when requested.</li> <li>Standardize artifacts (flamegraphs, allocation reports) for comparison across branches.</li> </ul>"},{"location":"features/performance-tools/perf-ci-workflow/#affected-users-fields","title":"Affected Users / Fields","text":"<ul> <li>Maintainers and reviewers assessing performance risk in PRs.</li> <li>Release managers validating beta/master stability.</li> </ul>"},{"location":"features/performance-tools/perf-ci-workflow/#scope","title":"Scope","text":"<ul> <li>New GitHub Actions workflow (or CI job) triggered by:</li> <li>PR label/comment (e.g., <code>run-perf</code>).</li> <li>Scheduled or manual dispatch on <code>beta</code>/<code>master</code>.</li> <li>Commit messages containing <code>perf</code> (optional trigger for automated runs).</li> <li>Uses perf-tools container to run representative commands:</li> <li><code>filare examples/demo01.yml -f hpst -o outputs</code></li> <li>Selected tests in <code>tests/rendering/</code> or <code>tests/bom/</code> with perf flags.</li> <li>Publishes artifacts (py-spy SVG, Scalene HTML, Memray bin/HTML, cProfile pstats) per scenario with run label (branch/commit).</li> <li>Optional baseline comparison: attach previous run artifacts or summary metrics.</li> </ul>"},{"location":"features/performance-tools/perf-ci-workflow/#out-of-scope","title":"Out of Scope","text":"<ul> <li>Automatic perf gating; this workflow is informational only.</li> <li>Full benchmark suite or microbenchmarks.</li> </ul>"},{"location":"features/performance-tools/perf-ci-workflow/#requirements","title":"Requirements","text":"<ul> <li>Trigger controls: PR label/comment (<code>/run-perf</code>), workflow_dispatch inputs, and scheduled runs on <code>beta</code>/<code>master</code>.</li> <li>Env-driven profiler toggles via <code>FIL_PERF_*</code> settings; default to py-spy + Scalene, Memray optional due to artifact size.</li> <li>Cache Graphviz/fonts as needed inside container; avoid global caches.</li> <li>Store artifacts as CI uploads; provide links in job summary so operators can download/view flamegraphs, HTML reports, and pstats/callgrind files.</li> <li>Document usage in <code>docs/performance/ci-workflow.md</code> (what triggers, outputs, interpretation).</li> </ul>"},{"location":"features/performance-tools/perf-ci-workflow/#steps","title":"Steps","text":"<ul> <li>[ ] Define workflow file to pull perf-tools container, set <code>UV_CACHE_DIR=.uv-cache</code>, and run selected Filare commands with profiling enabled.</li> <li>[ ] Implement PR comment/label check to gate execution.</li> <li>[ ] Add job summary with links to artifacts and basic metrics (runtime, RSS, CPU%).</li> <li>[ ] Document trigger and artifact locations in <code>docs/performance/ci-workflow.md</code>.</li> </ul>"},{"location":"features/performance-tools/perf-ci-workflow/#progress-log","title":"Progress Log","text":"<ul> <li>PROPOSED \u2014 Derived from performance tooling research.</li> </ul>"},{"location":"features/performance-tools/perf-ci-workflow/#validation","title":"Validation","text":"<ul> <li>Dry-run on a sample PR with <code>/run-perf</code> comment; confirm artifacts and summary appear.</li> <li>Execute on <code>beta</code> or <code>master</code> via manual dispatch to ensure branch compatibility.</li> </ul>"},{"location":"features/performance-tools/perf-ci-workflow/#dependencies-risks","title":"Dependencies / Risks","text":"<ul> <li>CI time and storage when Memray outputs are enabled; may need size limits or retention rules.</li> <li>ptrace/perf permissions on runners; ensure container/run options allow py-spy/Scalene.</li> </ul>"},{"location":"features/performance-tools/performance-tooling-platform/","title":"Performance tooling platform","text":"<p>uid: FEAT-PERF-0004 status: BACKLOG priority: medium owner_role: FEATURE estimate: TBD dependencies: [] risk: medium milestone: backlog</p>"},{"location":"features/performance-tools/performance-tooling-platform/#performance-tooling-platform-container-settings","title":"Performance Tooling Platform (Container + Settings)","text":""},{"location":"features/performance-tools/performance-tooling-platform/#status","title":"Status","text":"<p>PROPOSED</p>"},{"location":"features/performance-tools/performance-tooling-platform/#priority","title":"Priority","text":"<p>High</p>"},{"location":"features/performance-tools/performance-tooling-platform/#summary","title":"Summary","text":"<p>Ship a dedicated Docker image that bundles py-spy, Scalene, Memray, and cProfile utilities, and introduce Pydantic-based performance settings (<code>FIL_PERF_</code> prefix) to toggle and configure profilers via environment variables across Filare CLIs and harness tools.</p>"},{"location":"features/performance-tools/performance-tooling-platform/#motivation","title":"Motivation","text":"<ul> <li>Provide a reproducible profiling environment without polluting developer machines.</li> <li>Enable opt-in profiling in CI/local runs using only environment flags, avoiding CLI changes per tool.</li> <li>Standardize output locations and formats for generated flamegraphs and reports.</li> </ul>"},{"location":"features/performance-tools/performance-tooling-platform/#affected-users-fields","title":"Affected Users / Fields","text":"<ul> <li>Developers diagnosing slow renders or memory spikes.</li> <li>CI maintainers capturing performance snapshots on regressions.</li> <li>Downstream harness users needing repeatable profiling runs.</li> </ul>"},{"location":"features/performance-tools/performance-tooling-platform/#scope","title":"Scope","text":"<ul> <li>Build/publish a <code>filare/perf-tools</code> container with py-spy, Scalene, Memray, Graphviz deps, and helper scripts.</li> <li>Add <code>PerformanceSettings</code> Pydantic model (prefix <code>FIL_PERF_</code>) with per-tool enable flags and shared options (output dir, run label, container image tag).</li> <li>Wire settings into CLI entrypoints and harness scripts so profiling is activated based on env vars.</li> <li>Document usage under <code>docs/performance/</code> with tool-specific guides and expected report artifacts.</li> <li>Support volume mounts for:</li> <li>Output persistence (e.g., <code>-v $PWD/outputs/perf:/workspace/outputs/perf</code>).</li> <li>Using local Filare source as the package inside the container for iterative dev/CI (<code>-v $PWD:/workspace/filare</code> with editable install).</li> </ul>"},{"location":"features/performance-tools/performance-tooling-platform/#out-of-scope","title":"Out of Scope","text":"<ul> <li>Core algorithm rewrites or optimizations.</li> <li>Always-on profiling in production; features remain opt-in.</li> <li>Non-Linux containers.</li> </ul>"},{"location":"features/performance-tools/performance-tooling-platform/#requirements","title":"Requirements","text":"<ul> <li><code>PerformanceSettings</code> fields (prefix <code>FIL_PERF_</code>):</li> <li><code>enable_pyspy</code>, <code>enable_scalene</code>, <code>enable_memray</code>, <code>enable_cprofile</code> (bools).</li> <li><code>output_dir</code> (default <code>outputs/perf</code>), <code>run_label</code> (for filenames), <code>container_image</code> (default perf image tag).</li> <li>Volume usage must be documented:</li> <li>Host output dir to container <code>output_dir</code>.</li> <li>Bind local Filare repo for editable installs during development and for CI reproducibility.</li> <li>Per-tool nested settings classes with prefixes:</li> <li><code>FIL_PERF_SPY_*</code> (py-spy), <code>FIL_PERF_SCALENE_*</code> (Scalene), <code>FIL_PERF_MEMRAY_*</code> (Memray), <code>FIL_PERF_CPROFILE_*</code> (cProfile).</li> <li>Helper scripts inside the container to run <code>filare</code> with selected profiler and emit flamegraphs/callgrind/memory reports.</li> <li>CI-friendly defaults: disabled unless enable flag is set; errors on missing permissions reported clearly.</li> <li>Docs to create: <code>docs/performance/overview.md</code> describing settings, env prefixes, container invocation, and output formats.</li> </ul>"},{"location":"features/performance-tools/performance-tooling-platform/#steps","title":"Steps","text":"<ul> <li>[ ] Define Pydantic <code>PerformanceSettings</code> with enable flags and shared options; register in CLI config path.</li> <li>[ ] Define nested tool settings models with prefixes (<code>FIL_PERF_SPY</code>, <code>FIL_PERF_SCALENE</code>, <code>FIL_PERF_MEMRAY</code>, <code>FIL_PERF_CPROFILE</code>) and defaults.</li> <li>[ ] Add helper wrappers (e.g., <code>scripts/perf/py-spy.sh</code>, <code>scripts/perf/scalene.sh</code>, etc.) that honor settings and write to <code>output_dir/run_label-*</code>.</li> <li>[ ] Build <code>filare/perf-tools</code> Dockerfile including profilers + Graphviz; publish image/tag.</li> <li>[ ] Document workflows in <code>docs/performance/overview.md</code> and link tool-specific pages.</li> </ul>"},{"location":"features/performance-tools/performance-tooling-platform/#progress-log","title":"Progress Log","text":"<ul> <li>PROPOSED \u2014 Derived from performance-tools research.</li> </ul>"},{"location":"features/performance-tools/performance-tooling-platform/#validation","title":"Validation","text":"<ul> <li>Run <code>uv run filare ...</code> inside the perf container with each profiler enabled via env; verify outputs written to configured dir with run label.</li> <li>Confirm settings parsing from env works without code changes to CLI args.</li> <li>Smoke-test on CI runner for permission/ptrace issues.</li> </ul>"},{"location":"features/performance-tools/performance-tooling-platform/#dependencies-risks","title":"Dependencies / Risks","text":"<ul> <li>Container size and build time may grow with multiple profilers.</li> <li>ptrace/perf_event permissions may block py-spy/perf on hardened hosts; documentation needed.</li> <li>Need to keep tool versions in sync with supported Python versions.</li> </ul>"},{"location":"features/performance-tools/py-spy-support/","title":"Py spy support","text":"<p>uid: FEAT-PERF-0005 status: BACKLOG priority: medium owner_role: FEATURE estimate: TBD dependencies: [] risk: medium milestone: backlog</p>"},{"location":"features/performance-tools/py-spy-support/#py-spy-support-sampling-cpugil","title":"py-spy Support (Sampling CPU/GIL)","text":""},{"location":"features/performance-tools/py-spy-support/#status","title":"Status","text":"<p>PROPOSED</p>"},{"location":"features/performance-tools/py-spy-support/#priority","title":"Priority","text":"<p>Medium</p>"},{"location":"features/performance-tools/py-spy-support/#summary","title":"Summary","text":"<p>Integrate py-spy as an opt-in sampling profiler for Filare CLIs, configured via Pydantic settings (<code>FIL_PERF_SPY_*</code>) and runnable inside the shared perf-tools container to generate flamegraphs and GIL contention views.</p>"},{"location":"features/performance-tools/py-spy-support/#motivation","title":"Motivation","text":"<ul> <li>Low-overhead CPU profiling without code changes.</li> <li>Ability to attach or wrap <code>filare</code> runs to visualize hotspots and GIL wait time.</li> <li>Works well for render-heavy workloads and CI snapshots.</li> </ul>"},{"location":"features/performance-tools/py-spy-support/#affected-users-fields","title":"Affected Users / Fields","text":"<ul> <li>Developers diagnosing slow diagram rendering or parser hotspots.</li> <li>CI operators capturing flamegraphs on suspected regressions.</li> </ul>"},{"location":"features/performance-tools/py-spy-support/#scope","title":"Scope","text":"<ul> <li>Add <code>PySpySettings</code> (prefix <code>FIL_PERF_SPY_</code>) nested under <code>PerformanceSettings</code>.</li> <li>Support flags: sampling rate (Hz), output format (<code>svg</code>/<code>raw</code>), whether to record or live top, target PID vs. wrap mode, native symbols toggle, blocklist for threads.</li> <li>Wrapper script in perf container to run <code>py-spy record</code> with settings and emit <code>run_label-pyspy.svg</code>.</li> <li>Documentation page <code>docs/performance/py-spy.md</code> describing usage, required permissions, and sample outputs.</li> <li>Platform awareness: primary support on Linux (container target); surface clear messaging/skip logic on unsupported platforms or when ptrace is blocked.</li> </ul>"},{"location":"features/performance-tools/py-spy-support/#out-of-scope","title":"Out of Scope","text":"<ul> <li>Persistent agent for long-lived services.</li> <li>Non-Linux support beyond containerized runs.</li> </ul>"},{"location":"features/performance-tools/py-spy-support/#requirements","title":"Requirements","text":"<ul> <li>Env-configurable via <code>FIL_PERF_SPY_</code> (e.g., <code>FIL_PERF_SPY_ENABLED</code>, <code>FIL_PERF_SPY_RATE</code>, <code>FIL_PERF_SPY_OUTPUT=svg</code>, <code>FIL_PERF_SPY_NATIVE=1</code>, <code>FIL_PERF_SPY_PID</code>).</li> <li>Honor global <code>PerformanceSettings.output_dir</code> and <code>run_label</code> for output naming.</li> <li>Graceful error when ptrace is blocked; log hint to enable <code>SYS_PTRACE</code> in Docker or adjust <code>kernel.yama.ptrace_scope</code>.</li> <li>Docs page to include command examples (wrap and attach) and how to read flamegraph.</li> <li>CI/dev runs must check host platform and ptrace capability; skip or warn when unsupported rather than failing tests.</li> </ul>"},{"location":"features/performance-tools/py-spy-support/#steps","title":"Steps","text":"<ul> <li>[ ] Define <code>PySpySettings</code> model with default rate (100 Hz), output <code>svg</code>, native disabled by default.</li> <li>[ ] Wire settings to wrapper script (wrap or attach) and integrate with <code>PerformanceSettings.enable_pyspy</code>.</li> <li>[ ] Add container entrypoint alias for py-spy runs (e.g., <code>perf-pyspy filare ...</code>).</li> <li>[ ] Write <code>docs/performance/py-spy.md</code> with env examples and report interpretation.</li> </ul>"},{"location":"features/performance-tools/py-spy-support/#progress-log","title":"Progress Log","text":"<ul> <li>PROPOSED \u2014 Based on performance-tooling research.</li> </ul>"},{"location":"features/performance-tools/py-spy-support/#validation","title":"Validation","text":"<ul> <li>Run wrapped <code>uv run filare ...</code> in container with <code>FIL_PERF_SPY_ENABLED=1</code>; confirm SVG generated in <code>output_dir</code>.</li> <li>Attach mode test against a long-running filare process.</li> <li>Verify GIL visualization is present when <code>--native</code> enabled.</li> </ul>"},{"location":"features/performance-tools/py-spy-support/#dependencies-risks","title":"Dependencies / Risks","text":"<ul> <li>Requires ptrace permission in container/host.</li> <li>Sampling may miss very short functions; note in docs.</li> </ul>"},{"location":"features/performance-tools/scalene-support/","title":"Scalene support","text":"<p>uid: FEAT-PERF-0006 status: BACKLOG priority: medium owner_role: FEATURE estimate: TBD dependencies: [] risk: medium milestone: backlog</p>"},{"location":"features/performance-tools/scalene-support/#scalene-support-cpu-memory-sampling","title":"Scalene Support (CPU + Memory Sampling)","text":""},{"location":"features/performance-tools/scalene-support/#status","title":"Status","text":"<p>PROPOSED</p>"},{"location":"features/performance-tools/scalene-support/#priority","title":"Priority","text":"<p>Medium (upgrade to High if memory regressions become frequent)</p>"},{"location":"features/performance-tools/scalene-support/#summary","title":"Summary","text":"<p>Expose Scalene as an opt-in profiler via env-driven settings (<code>FIL_PERF_SCALENE_*</code>) and containerized tooling to capture line-level CPU, memory, and copy costs during Filare runs.</p>"},{"location":"features/performance-tools/scalene-support/#motivation","title":"Motivation","text":"<ul> <li>Identify mixed CPU/memory bottlenecks in parsing and rendering paths.</li> <li>Detect allocation-heavy lines and potential leaks.</li> <li>Provide richer diagnostics than CPU-only sampling.</li> </ul>"},{"location":"features/performance-tools/scalene-support/#affected-users-fields","title":"Affected Users / Fields","text":"<ul> <li>Developers chasing memory spikes or slowdowns in large diagram/BOM builds.</li> <li>CI maintainers needing one-off allocation reports on regressions.</li> </ul>"},{"location":"features/performance-tools/scalene-support/#scope","title":"Scope","text":"<ul> <li>Add <code>ScaleneSettings</code> (prefix <code>FIL_PERF_SCALENE_</code>) nested in <code>PerformanceSettings</code>.</li> <li>Flags for CPU sampling rate, memory profiling toggle, copy-cost tracking, and output format (text vs. HTML).</li> <li>Wrapper in perf container to run <code>scalene</code> with configured options, writing reports to <code>output_dir/run_label-scalene.*</code>.</li> <li>Documentation page <code>docs/performance/scalene.md</code> describing usage and interpreting CPU/memory columns.</li> </ul>"},{"location":"features/performance-tools/scalene-support/#out-of-scope","title":"Out of Scope","text":"<ul> <li>Permanent instrumentation inside Filare code.</li> <li>Support for Windows (container target is Linux).</li> </ul>"},{"location":"features/performance-tools/scalene-support/#requirements","title":"Requirements","text":"<ul> <li>Env vars such as <code>FIL_PERF_SCALENE_ENABLED</code>, <code>FIL_PERF_SCALENE_CPU_RATE</code>, <code>FIL_PERF_SCALENE_MEMORY=1</code>, <code>FIL_PERF_SCALENE_HTML=1</code>.</li> <li>Respect <code>PerformanceSettings.output_dir</code> and <code>run_label</code> for file naming.</li> <li>Clear warnings about overhead and noise on very short runs.</li> <li>Docs page with example commands and sample report snippets.</li> <li>Platform check: supported primarily on Linux (container target); skip or warn in CI/dev when unavailable.</li> </ul>"},{"location":"features/performance-tools/scalene-support/#steps","title":"Steps","text":"<ul> <li>[ ] Define <code>ScaleneSettings</code> model with defaults (CPU sampling 0.01s, memory on, HTML off by default).</li> <li>[ ] Wire settings to container wrapper command and <code>PerformanceSettings.enable_scalene</code>.</li> <li>[ ] Add helper to choose output filename/format based on settings.</li> <li>[ ] Document usage in <code>docs/performance/scalene.md</code> with screenshots or snippets.</li> </ul>"},{"location":"features/performance-tools/scalene-support/#progress-log","title":"Progress Log","text":"<ul> <li>PROPOSED \u2014 Based on performance-tooling research.</li> </ul>"},{"location":"features/performance-tools/scalene-support/#validation","title":"Validation","text":"<ul> <li>Run <code>FIL_PERF_SCALENE_ENABLED=1</code> on a representative Filare build; verify output files and that CPU/memory attribution shows expected hotspots.</li> <li>Measure overhead vs. baseline to ensure tolerable performance.</li> </ul>"},{"location":"features/performance-tools/scalene-support/#dependencies-risks","title":"Dependencies / Risks","text":"<ul> <li>Higher overhead than py-spy; advise use on reproducible runs only.</li> <li>May require <code>LD_PRELOAD</code> tweaks in some environments; document if needed.</li> </ul>"},{"location":"features/project-management/","title":"Project Management Features","text":"<p>uid: FEAT-PM-0002 status: BACKLOG priority: medium owner_role: FEATURE estimate: TBD dependencies: [] risk: medium milestone: backlog</p> <ul> <li>Backlog planning pipeline</li> <li>Taskwarrior export pipeline</li> <li>Mermaid Gantt backlog charts</li> <li>Graphviz timeline export</li> <li>Taskwarrior backfill to backlog</li> </ul>"},{"location":"features/project-management/graphviz-timeline/","title":"Graphviz Timeline Export","text":"<p>uid: FEAT-PM-0001 status: DONE priority: medium owner_role: FEATURE estimate: TBD dependencies: [] risk: medium milestone: backlog</p> <p>from: docs/research/project-management.md</p>"},{"location":"features/project-management/graphviz-timeline/#status","title":"Status","text":"<p>DONE</p>"},{"location":"features/project-management/graphviz-timeline/#summary","title":"Summary","text":"<p>Produce a Graphviz-based timeline or dependency graph showing critical paths and sequencing using backlog UIDs, complementing the Mermaid Gantt view.</p>"},{"location":"features/project-management/graphviz-timeline/#requirements","title":"Requirements","text":"<ul> <li>Input: canonical backlog headers with UIDs, dependencies, milestones, and estimates.</li> <li>Output: Graphviz DOT file at <code>outputs/workplan/timeline.dot</code> plus optional rendered SVG under <code>outputs/workplan/</code>; embedded view in <code>docs/workplan/timeline.md</code> for MkDocs.</li> <li>Visualize dependencies and group by milestone.</li> <li>Regeneration via <code>just timeline-graphviz</code> (runs <code>scripts/generate_graphviz_timeline.py</code>).</li> <li>Stable node IDs based on backlog UIDs.</li> <li>Enforce UID format (<code>ISS-####</code>, <code>FEAT-&lt;AREA&gt;-####</code>) so node identifiers stay consistent with other outputs.</li> </ul>"},{"location":"features/project-management/graphviz-timeline/#steps","title":"Steps","text":"<ul> <li>[x] Define DOT conventions (colors by status, clusters per milestone/workstream).</li> <li>[x] Implement generator that converts backlog headers to DOT and optionally renders to SVG (<code>scripts/generate_graphviz_timeline.py</code>).</li> <li>[ ] Add validation to ensure DOT parses (e.g., run dot -Tsvg in CI/local).</li> <li>[x] Document usage and how to interpret the timeline/graph (via command references).</li> </ul>"},{"location":"features/project-management/graphviz-timeline/#progress-log","title":"Progress Log","text":"<ul> <li>2025-02-19: Drafted feature.</li> <li>2025-02-20: Implemented generator, added <code>just timeline-graphviz</code>, embedded timeline page in MkDocs.</li> </ul>"},{"location":"features/project-management/graphviz-timeline/#sub-features","title":"Sub-Features","text":"<ul> <li>None.</li> </ul>"},{"location":"features/project-management/graphviz-timeline/#related-issues","title":"Related Issues","text":"<ul> <li>docs/issues/backlog-header-normalization.md</li> <li>docs/features/project-management/project-management-planning.md</li> </ul>"},{"location":"features/project-management/mermaid-gantt/","title":"Mermaid Gantt Backlog Charts","text":"<p>uid: FEAT-PM-0003 status: BACKLOG priority: medium owner_role: FEATURE estimate: TBD dependencies: [] risk: medium milestone: backlog</p> <p>from: docs/research/project-management.md</p>"},{"location":"features/project-management/mermaid-gantt/#status","title":"Status","text":"<p>DONE</p>"},{"location":"features/project-management/mermaid-gantt/#summary","title":"Summary","text":"<p>Generate Mermaid Gantt charts from the backlog manifest to visualize milestones, dependencies, and sequencing for Filare workstreams.</p>"},{"location":"features/project-management/mermaid-gantt/#requirements","title":"Requirements","text":"<ul> <li>Use the canonical manifest keyed by <code>uid</code> to build Gantt sections per workstream/milestone.</li> <li>Include dependency ordering (<code>after &lt;id&gt;</code>) based on manifest dependencies.</li> <li>Output locations: <code>outputs/workplan/gantt.md</code> (artifact) and <code>docs/workplan/gantt.md</code> (embedded in MkDocs).</li> <li>Regeneration via <code>just mermaid-gantt</code> (runs <code>scripts/generate_mermaid_gantt.py</code>); validate via <code>just mermaid-gantt-check</code> which runs <code>scripts/check-mermaid.sh --files docs/workplan/gantt.md</code>.</li> <li>Keep identifiers stable (uids) for cross-linking to issues/features.</li> <li>Enforce UID format (<code>ISS-####</code>, <code>FEAT-&lt;AREA&gt;-####</code>) for consistent references in diagrams.</li> </ul>"},{"location":"features/project-management/mermaid-gantt/#steps","title":"Steps","text":"<ul> <li>[x] Define mapping from manifest fields to Gantt (sections, start dates, durations/estimates, dependencies).</li> <li>[x] Implement generator producing Mermaid blocks grouped by milestone/workstream.</li> <li>[x] Add validation or linting step to ensure Mermaid syntax correctness (<code>just mermaid-gantt-check</code>).</li> <li>[x] Document embedding instructions for docs/mkdocs and regeneration workflow.</li> </ul>"},{"location":"features/project-management/mermaid-gantt/#progress-log","title":"Progress Log","text":"<ul> <li>2025-02-19: Drafted feature; awaiting approval.</li> </ul>"},{"location":"features/project-management/mermaid-gantt/#sub-features","title":"Sub-Features","text":"<ul> <li>None.</li> </ul>"},{"location":"features/project-management/mermaid-gantt/#related-issues","title":"Related Issues","text":"<ul> <li>docs/issues/backlog-header-normalization.md</li> <li>docs/features/project-management/project-management-planning.md</li> </ul>"},{"location":"features/project-management/project-management-planning/","title":"Backlog Planning Pipeline","text":"<p>uid: FEAT-PM-0004 status: BACKLOG priority: medium owner_role: FEATURE estimate: TBD dependencies: [] risk: medium milestone: backlog</p> <p>from: docs/research/project-management.md</p>"},{"location":"features/project-management/project-management-planning/#status","title":"Status","text":"<p>BACKLOG</p>"},{"location":"features/project-management/project-management-planning/#summary","title":"Summary","text":"<p>Define a planning pipeline that turns <code>docs/issues</code> and <code>docs/features</code> into synchronized work artifacts: a Taskwarrior task list, Mermaid Gantt charts, and optional Graphviz timelines, all keyed by immutable UIDs to keep references stable for agents and users.</p>"},{"location":"features/project-management/project-management-planning/#requirements","title":"Requirements","text":"<ul> <li>Every issue/feature carries a structured header with an immutable <code>uid</code>, status, priority, owner/role, estimate, dependencies, risk, and milestone.</li> <li>UID format is standardized: issues use <code>ISS-&lt;4 digits&gt;</code>; features use <code>FEAT-&lt;AREA&gt;-&lt;4 digits&gt;</code> (e.g., FEAT-CLI-0003), with AREA codes such as CLI/RENDER/GRAPH/BOM/MECH/DOCS/TOOLS/PERF/UI.</li> <li>A single backlog manifest maps these UIDs to their source files and aggregates metadata for generation.</li> <li>Outputs are generated separately and kept in sync:</li> <li>Taskwarrior JSON import for CLI task tracking (tags = role/milestone/module).</li> <li>Mermaid Gantt charts grouped by milestone/workstream for docs.</li> <li>Optional Graphviz timeline for alternative visualization.</li> <li>Provide a workflow doc explaining how to add/update items, refresh artifacts, and avoid conflicts.</li> <li>Keep changes non-invasive to Filare core (docs + tooling only) and friendly to offline execution.</li> </ul>"},{"location":"features/project-management/project-management-planning/#steps","title":"Steps","text":"<ul> <li>[ ] Design the backlog manifest format (YAML/JSON) keyed by <code>uid</code>, covering roles, dependencies, milestones, and source file paths.</li> <li>[ ] Define output locations and regeneration commands (e.g., <code>just workplan</code>) for Taskwarrior JSON, Mermaid Gantt, and Graphviz timeline.</li> <li>[ ] Implement the generator that reads the manifest and emits the three outputs with consistent IDs and links back to the markdown sources.</li> <li>[ ] Add documentation for contributors/agents on claiming work, refreshing outputs, and conflict avoidance.</li> <li>[ ] Pilot the pipeline on a subset of issues/features and validate round-trip (manifest \u2194 outputs) before scaling to all items.</li> </ul>"},{"location":"features/project-management/project-management-planning/#progress-log","title":"Progress Log","text":"<ul> <li>2025-02-19: Feature drafted from project-management research; awaiting approval.</li> </ul>"},{"location":"features/project-management/project-management-planning/#sub-features","title":"Sub-Features","text":"<ul> <li>taskwarrior-pipeline</li> <li>mermaid-gantt</li> <li>graphviz-timeline</li> <li>taskwarrior-backfill</li> </ul>"},{"location":"features/project-management/project-management-planning/#related-issues","title":"Related Issues","text":"<ul> <li>docs/issues/backlog-header-normalization.md</li> </ul>"},{"location":"features/project-management/taskwarrior-backfill/","title":"Taskwarrior Backfill to Backlog","text":"<p>uid: FEAT-PM-0005 status: IN_PROGRESS priority: medium owner_role: FEATURE estimate: TBD dependencies: [] risk: medium milestone: backlog</p> <p>from: docs/research/project-management.md</p>"},{"location":"features/project-management/taskwarrior-backfill/#status","title":"Status","text":"<p>IN_PROGRESS</p>"},{"location":"features/project-management/taskwarrior-backfill/#summary","title":"Summary","text":"<p>Explore a reverse sync: read Taskwarrior workplans (filtered JSON exports) and backfill updates into the backlog manifest and/or issue headers (status, priority, due) based on UIDs, keeping repo docs in sync with active task lists.</p>"},{"location":"features/project-management/taskwarrior-backfill/#requirements","title":"Requirements","text":"<ul> <li>Consume Taskwarrior JSON exports keyed by the same UIDs used in the backlog manifest.</li> <li>Map Taskwarrior fields (status, due, tags) back onto manifest fields without overwriting titles/descriptions.</li> <li>Provide a dry-run mode and change report to avoid accidental drift.</li> <li>Respect repo authority: manifest remains source of truth; backfill only updates allowed fields (status, due, priority) when newer.</li> <li>Support per-file filters (role, milestone) to avoid noisy updates.</li> </ul>"},{"location":"features/project-management/taskwarrior-backfill/#steps","title":"Steps","text":"<ul> <li>[x] Define allowable backfill fields and conflict resolution rules (Taskwarrior vs manifest).</li> <li>[x] Implement backfill utility that reads Taskwarrior JSON and proposes manifest/header updates keyed by UID (<code>scripts/taskwarrior_backfill.py</code>).</li> <li>[x] Add dry-run and report output showing proposed changes before writing (<code>--apply</code> to persist).</li> <li>[ ] Document workflow and guardrails; clarify that manifest stays authoritative.</li> </ul>"},{"location":"features/project-management/taskwarrior-backfill/#progress-log","title":"Progress Log","text":"<ul> <li>2025-02-19: Drafted feature; awaiting approval.</li> </ul>"},{"location":"features/project-management/taskwarrior-backfill/#sub-features","title":"Sub-Features","text":"<ul> <li>None.</li> </ul>"},{"location":"features/project-management/taskwarrior-backfill/#related-issues","title":"Related Issues","text":"<ul> <li>docs/issues/backlog-header-normalization.md</li> <li>docs/features/project-management/taskwarrior-pipeline.md</li> </ul>"},{"location":"features/project-management/taskwarrior-pipeline/","title":"Taskwarrior Backlog Export","text":"<p>uid: FEAT-PM-0006 status: BACKLOG priority: medium owner_role: FEATURE estimate: TBD dependencies: [] risk: medium milestone: backlog</p> <p>from: docs/research/project-management.md</p>"},{"location":"features/project-management/taskwarrior-pipeline/#status","title":"Status","text":"<p>DONE</p>"},{"location":"features/project-management/taskwarrior-pipeline/#summary","title":"Summary","text":"<p>Build a Taskwarrior export pipeline that converts the backlog manifest (uids + metadata) into an importable JSON task list with tags, dependencies, and due dates aligned to Filare milestones.</p>"},{"location":"features/project-management/taskwarrior-pipeline/#requirements","title":"Requirements","text":"<ul> <li>Consume the canonical backlog manifest keyed by <code>uid</code> and source file path.</li> <li>Emit Taskwarrior-compatible JSON or task lines with:</li> <li><code>description</code> referencing the <code>uid</code> and title.</li> <li><code>project</code> set to <code>filare</code> (or configurable).</li> <li><code>tags</code> derived from owner_role, milestone, and workstream/module.</li> <li><code>depends</code> populated with upstream UIDs.</li> <li>Optional <code>due</code> from milestone target or explicit date.</li> <li>Support filtered exports by role/project/priority/milestone so lists stay short (e.g., <code>docs/task/workplan/taskwarrior-cli-high.json</code>, <code>docs/task/workplan/taskwarrior-tools-q1.json</code>).</li> <li>Output location pattern: <code>docs/task/workplan/taskwarrior-&lt;description&gt;-&lt;filters&gt;.json</code> (plus optionally <code>outputs/workplan/</code> for generated artifacts).</li> <li>Regeneration via <code>just workplan</code> (or similar) alongside other planning artifacts.</li> <li>Non-destructive updates: allow merging/updating tasks when UIDs already exist instead of always overwriting the full list.</li> <li>Enforce UID format (<code>ISS-####</code>, <code>FEAT-&lt;AREA&gt;-####</code>) as the stable identifier across all exports.</li> </ul>"},{"location":"features/project-management/taskwarrior-pipeline/#steps","title":"Steps","text":"<ul> <li>[x] Define the manifest fields required for Taskwarrior (title, uid, role, milestone, dependencies, due/estimate).</li> <li>[x] Implement exporter that reads backlog headers and writes exports to <code>outputs/workplan/taskwarrior.json</code> (filterable via CLI).</li> <li>[x] Add filter support (role, priority, milestone, status) via CLI arguments to keep exports scoped.</li> <li>[x] Provide regeneration command: <code>just taskwarrior-export</code> (calls <code>scripts/export_taskwarrior.py</code>).</li> <li>[ ] Support non-destructive merges when regenerating existing files (current behavior overwrites).</li> <li>[ ] Validate output against Taskwarrior import (schema/format) and add a minimal test fixture.</li> <li>[ ] Document usage: how to regenerate and import into Taskwarrior, plus examples of filtered exports.</li> </ul>"},{"location":"features/project-management/taskwarrior-pipeline/#progress-log","title":"Progress Log","text":"<ul> <li>2025-02-19: Drafted feature; awaiting approval.</li> </ul>"},{"location":"features/project-management/taskwarrior-pipeline/#sub-features","title":"Sub-Features","text":"<ul> <li>None.</li> </ul>"},{"location":"features/project-management/taskwarrior-pipeline/#related-issues","title":"Related Issues","text":"<ul> <li>docs/issues/backlog-header-normalization.md</li> <li>docs/features/project-management/project-management-planning.md</li> </ul>"},{"location":"features/project-management/tools_taskwarrior/","title":"Taskwarrior Backlog Tools","text":""},{"location":"features/project-management/tools_taskwarrior/#goals","title":"Goals","text":"<ul> <li>Provide a Taskwarrior workflow so each agent can pull the next ready task from a shared pool.</li> <li>Allow splitting the backlog into N independent pools (one per agent) with no cross-pool dependencies.</li> <li>Improve documentation to visualize task pools and clarify usage.</li> </ul>"},{"location":"features/project-management/tools_taskwarrior/#proposed-work","title":"Proposed Work","text":"<ul> <li>Implement a Taskwarrior helper that surfaces the next unblocked task per agent role (uses existing export/backfill flow).</li> <li>Add pool-sharding logic: partition tasks into N pools with dependency checks; refuse to assign dependents across pools.</li> <li>Add docs:</li> <li>Visual overview of pools and readiness (Mermaid/Graphviz).</li> <li>Per-role workflows for Taskwarrior usage.</li> </ul>"},{"location":"features/project-management/tools_taskwarrior/#deliverables","title":"Deliverables","text":"<ul> <li>Taskwarrior helper/queries that list the next task for a given agent role, excluding blocked items. (done via <code>just taskwarrior-next</code>)</li> <li>Pool splitter that enforces dependency isolation and exports per-pool views. (done via <code>just taskwarrior-pools</code>)</li> <li>Documentation updates:</li> <li>Visualization of pools (describe pool JSON + Mermaid/Gantt usage). (done)</li> <li><code>docs/workflows/taskwarrior-agent.md</code> (done)</li> <li><code>docs/workflows/taskwarrior-project-manager.md</code> (done)</li> <li>Status/note updater with completion stamp. (done via <code>just taskwarrior-update</code>)</li> </ul>"},{"location":"features/project-management/tools_taskwarrior/#open-questions","title":"Open Questions","text":"<ul> <li>Pool sizing policy: fixed N per operator input, or dynamic based on active agents?</li> <li>Where to store per-pool exports (e.g., <code>outputs/taskwarrior/pool-*.json</code>)? Current: <code>outputs/workplan/taskwarrior-pool-&lt;n&gt;.json</code>.</li> <li>Priority rules when pools have uneven loads.</li> </ul>"},{"location":"features/project-management/tools_taskwarrior/#usage-current","title":"Usage (current)","text":"<ul> <li>Export backlog: <code>just taskwarrior-export</code> (writes <code>outputs/workplan/taskwarrior.json</code>).</li> <li>Next ready tasks per role: <code>just taskwarrior-next role=FEATURE limit=5</code>.</li> <li>Split into dependency-safe pools: <code>just taskwarrior-pools pools=3</code> (writes <code>outputs/workplan/taskwarrior-pool-*.json</code>; no cross-pool deps).</li> <li>Visualize pools: load <code>taskwarrior-pool-*.json</code> into your preferred viewer or combine with Mermaid/Gantt (<code>just mermaid-gantt</code>) to confirm pool coverage.</li> <li>Update status/notes with optional completion stamp: <code>just taskwarrior-update uid=&lt;UID&gt; status=IN_PROGRESS note=\"...\" done=true</code>.</li> </ul>"},{"location":"features/standard/din_legends-standards/","title":"Legends and Standards References","text":"<p>uid: FEAT-DOCS-0011 status: BACKLOG priority: high owner_role: FEATURE estimate: TBD dependencies: [] risk: medium milestone: backlog</p>"},{"location":"features/standard/din_legends-standards/#summary","title":"Summary","text":"<p>Provide legends for symbols/colors and references to applicable standards on each sheet, aligning with DIN/EN ISO expectations for documentation clarity.</p>"},{"location":"features/standard/din_legends-standards/#requirements","title":"Requirements","text":"<ul> <li>Optional legend block for symbols/colors and standards references.</li> <li>Placement options compatible with DIN framing/title block.</li> <li>Metadata to populate standards list and legend entries.</li> </ul>"},{"location":"features/standard/din_legends-standards/#steps","title":"Steps","text":"<ul> <li>[ ] Add metadata fields for legends and standards references.</li> <li>[ ] Render legend block in templates when enabled.</li> <li>[ ] Add regression fixture ensuring legend and standards text appears in SVG/HTML.</li> </ul>"},{"location":"features/standard/din_legends-standards/#progress-log","title":"Progress Log","text":"<ul> <li>2025-02-20: Feature drafted from DIN research; awaiting implementation.</li> </ul>"},{"location":"features/standard/din_legends-standards/#related-issues","title":"Related Issues","text":"<ul> <li>docs/issues/din-legends-standards.md</li> </ul>"},{"location":"features/standard/din_line-weights-styles/","title":"DIN Line Weights and Styles","text":"<p>uid: FEAT-DOCS-0010 status: BACKLOG priority: medium owner_role: FEATURE estimate: TBD dependencies: [] risk: medium milestone: backlog</p>"},{"location":"features/standard/din_line-weights-styles/#summary","title":"Summary","text":"<p>Parameterize line weights and styles to DIN 15 / EN ISO 128 conventions (visible, hidden, center lines) and ensure rendered SVG/HTML uses configured stroke widths and dash patterns.</p>"},{"location":"features/standard/din_line-weights-styles/#requirements","title":"Requirements","text":"<ul> <li>Define default stroke widths/dash patterns per line type.</li> <li>Apply styles across rendered elements (borders, objects, annotations).</li> <li>Allow overrides while keeping DIN defaults available.</li> </ul>"},{"location":"features/standard/din_line-weights-styles/#steps","title":"Steps","text":"<ul> <li>[ ] Add style configuration for DIN line types (visible/hidden/center).</li> <li>[ ] Apply styles in renderers/templates.</li> <li>[ ] Add regression fixtures checking stroke widths/classes in SVG.</li> </ul>"},{"location":"features/standard/din_line-weights-styles/#progress-log","title":"Progress Log","text":"<ul> <li>2025-02-20: Feature drafted from DIN research; awaiting implementation.</li> </ul>"},{"location":"features/standard/din_line-weights-styles/#related-issues","title":"Related Issues","text":"<ul> <li>docs/issues/din-line-weights-styles.md</li> </ul>"},{"location":"features/standard/din_page-numbering/","title":"DIN Page Numbering and Sheet Totals","text":"<p>uid: FEAT-DOCS-0012 status: BACKLOG priority: high owner_role: FEATURE estimate: TBD dependencies: [] risk: medium milestone: backlog</p>"},{"location":"features/standard/din_page-numbering/#summary","title":"Summary","text":"<p>Ensure page numbering conforms to DIN/EN ISO conventions (sheet number / total) and appears consistently in title blocks or borders.</p>"},{"location":"features/standard/din_page-numbering/#requirements","title":"Requirements","text":"<ul> <li>Standardize page numbering format and placement.</li> <li>Use metadata to set sheet/total values; support multi-sheet documents.</li> <li>Validate presence in rendered outputs.</li> </ul>"},{"location":"features/standard/din_page-numbering/#steps","title":"Steps","text":"<ul> <li>[ ] Normalize page numbering format/placement in templates.</li> <li>[ ] Add validation to ensure sheet/total present for multi-sheet outputs.</li> <li>[ ] Add regression fixtures asserting numbering in SVG/HTML.</li> </ul>"},{"location":"features/standard/din_page-numbering/#progress-log","title":"Progress Log","text":"<ul> <li>2025-02-20: Feature drafted from DIN research; awaiting implementation.</li> </ul>"},{"location":"features/standard/din_page-numbering/#related-issues","title":"Related Issues","text":"<ul> <li>docs/issues/din-page-numbering.md</li> </ul>"},{"location":"features/standard/din_projection-symbol/","title":"Projection Symbol (First/Third Angle)","text":"<p>uid: FEAT-DOCS-0009 status: BACKLOG priority: low owner_role: FEATURE estimate: TBD dependencies: [] risk: medium milestone: backlog</p>"},{"location":"features/standard/din_projection-symbol/#summary","title":"Summary","text":"<p>Render projection symbols (first/third angle) per DIN/EN ISO conventions, with metadata to select projection type and show/hide the symbol in title blocks or borders.</p>"},{"location":"features/standard/din_projection-symbol/#requirements","title":"Requirements","text":"<ul> <li>Provide assets/templates for first- and third-angle symbols.</li> <li>Metadata flag to select projection type and display location.</li> <li>Ensure symbol placement fits DIN framing/title block.</li> </ul>"},{"location":"features/standard/din_projection-symbol/#steps","title":"Steps","text":"<ul> <li>[ ] Add projection metadata key (first/third angle).</li> <li>[ ] Insert symbol assets into templates with positioning options.</li> <li>[ ] Add regression fixture asserting symbol presence and type in SVG/HTML.</li> </ul>"},{"location":"features/standard/din_projection-symbol/#progress-log","title":"Progress Log","text":"<ul> <li>2025-02-20: Feature drafted from DIN research; awaiting implementation.</li> </ul>"},{"location":"features/standard/din_projection-symbol/#related-issues","title":"Related Issues","text":"<ul> <li>docs/issues/din-projection-symbol.md</li> <li>docs/features/mechanical-view-2d.md (projection context for mechanical drawings)</li> </ul>"},{"location":"features/standard/din_revision-table/","title":"DIN Revision Table Support","text":"<p>uid: FEAT-DOCS-0008 status: BACKLOG priority: medium owner_role: FEATURE estimate: TBD dependencies: [] risk: medium milestone: backlog</p>"},{"location":"features/standard/din_revision-table/#summary","title":"Summary","text":"<p>Add a revision table block to Filare outputs capturing revision ID, date, description, and approvals in line with DIN/EN ISO drawing practices.</p>"},{"location":"features/standard/din_revision-table/#requirements","title":"Requirements","text":"<ul> <li>Schema/metadata for revision entries (id/date/description/approver).</li> <li>Template section for revision table with multiple entries.</li> <li>Optional display toggle; defaults should not break existing outputs.</li> </ul>"},{"location":"features/standard/din_revision-table/#steps","title":"Steps","text":"<ul> <li>[ ] Define revision metadata structure in YAML.</li> <li>[ ] Render revision table in templates when provided.</li> <li>[ ] Add regression fixture verifying table structure and values in SVG/HTML.</li> </ul>"},{"location":"features/standard/din_revision-table/#progress-log","title":"Progress Log","text":"<ul> <li>2025-02-20: Feature drafted from DIN research; awaiting implementation.</li> </ul>"},{"location":"features/standard/din_revision-table/#related-issues","title":"Related Issues","text":"<ul> <li>docs/issues/din-revision-table.md</li> </ul>"},{"location":"features/standard/din_scale-units/","title":"DIN Scale and Units","text":"<p>uid: FEAT-DOCS-0013 status: BACKLOG priority: high owner_role: FEATURE estimate: TBD dependencies: [] risk: medium milestone: backlog</p>"},{"location":"features/standard/din_scale-units/#summary","title":"Summary","text":"<p>Surface scale and units in title blocks per DIN/EN ISO practices (metric default, explicit scale or \u201cNTS\u201d when not to scale).</p>"},{"location":"features/standard/din_scale-units/#requirements","title":"Requirements","text":"<ul> <li>Metadata fields for scale and units; default to metric.</li> <li>Title block rendering for scale/units fields.</li> <li>Validation to ensure scale/units are present or explicitly marked NTS.</li> </ul>"},{"location":"features/standard/din_scale-units/#steps","title":"Steps","text":"<ul> <li>[ ] Add scale/unit metadata and defaults.</li> <li>[ ] Render fields in title block templates.</li> <li>[ ] Add regression fixtures asserting scale/unit text in SVG/HTML.</li> </ul>"},{"location":"features/standard/din_scale-units/#progress-log","title":"Progress Log","text":"<ul> <li>2025-02-20: Feature drafted from DIN research; awaiting implementation.</li> </ul>"},{"location":"features/standard/din_scale-units/#related-issues","title":"Related Issues","text":"<ul> <li>docs/issues/din-scale-units.md</li> </ul>"},{"location":"features/standard/din_sheet-format-margins-folding/","title":"DIN Sheet Format, Margins, and Folding Marks","text":"<p>uid: FEAT-DOCS-0006 status: BACKLOG priority: medium owner_role: FEATURE estimate: TBD dependencies: [] risk: medium milestone: backlog</p>"},{"location":"features/standard/din_sheet-format-margins-folding/#summary","title":"Summary","text":"<p>Align Filare page templates with EN ISO 5457 / DIN 823 for sheet sizes (A0\u2013A4), margins, frames, and folding marks suitable for printing and filing.</p>"},{"location":"features/standard/din_sheet-format-margins-folding/#requirements","title":"Requirements","text":"<ul> <li>Support DIN/EN ISO sheet sizes with correct margins/frame dimensions.</li> <li>Render folding marks for A4 folding.</li> <li>Keep existing page sizing configurable without breaking current outputs.</li> <li>Provide an example/template demonstrating DIN-compliant framing.</li> </ul>"},{"location":"features/standard/din_sheet-format-margins-folding/#steps","title":"Steps","text":"<ul> <li>[ ] Add DIN sheet size/margin presets and folding mark rendering to templates.</li> <li>[ ] Expose configuration to toggle DIN framing/folding marks.</li> <li>[ ] Add regression fixture asserting SVG viewBox/frame dimensions and folding mark coordinates.</li> </ul>"},{"location":"features/standard/din_sheet-format-margins-folding/#progress-log","title":"Progress Log","text":"<ul> <li>2025-02-20: Feature drafted from DIN research; awaiting implementation.</li> </ul>"},{"location":"features/standard/din_sheet-format-margins-folding/#related-issues","title":"Related Issues","text":"<ul> <li>docs/issues/din-sheet-format-margins-folding.md</li> </ul>"},{"location":"features/standard/eniso7200_title-block/","title":"EN ISO 7200 Title Block Compliance","text":"<p>uid: FEAT-DOCS-0007 status: BACKLOG priority: medium owner_role: FEATURE estimate: TBD dependencies: [] risk: medium milestone: backlog</p>"},{"location":"features/standard/eniso7200_title-block/#summary","title":"Summary","text":"<p>Standardize Filare title blocks to EN ISO 7200 fields (title, drawing number, revision, date, author/checker/approver, scale, projection, sheet/total, company).</p>"},{"location":"features/standard/eniso7200_title-block/#requirements","title":"Requirements","text":"<ul> <li>Provide a title block template with all EN ISO 7200 fields in standard layout/order.</li> <li>Map metadata keys to each field; warn when required fields are missing.</li> <li>Keep backward-compatible defaults for existing docs.</li> </ul>"},{"location":"features/standard/eniso7200_title-block/#steps","title":"Steps","text":"<ul> <li>[ ] Define metadata keys and template slots for each EN ISO 7200 field.</li> <li>[ ] Implement rendering/template updates for EN ISO 7200 layout.</li> <li>[ ] Add validation/lint to ensure required fields are present; add regression fixture on SVG/HTML.</li> </ul>"},{"location":"features/standard/eniso7200_title-block/#progress-log","title":"Progress Log","text":"<ul> <li>2025-02-20: Feature drafted from DIN research; awaiting implementation.</li> </ul>"},{"location":"features/standard/eniso7200_title-block/#related-issues","title":"Related Issues","text":"<ul> <li>docs/issues/eniso7200-title-block.md</li> </ul>"},{"location":"features/templates/additional_components_model/","title":"additional components model","text":"<p>uid: FEAT-RENDER-0013 status: DONE priority: medium owner_role: FEATURE estimate: 1d dependencies: [] risk: medium milestone: templates-models</p> <p>from: docs/features/templates/models.md</p>"},{"location":"features/templates/additional_components_model/#template-model-additional_components","title":"Template Model: additional_components","text":""},{"location":"features/templates/additional_components_model/#status","title":"Status","text":"<p>DONE</p>"},{"location":"features/templates/additional_components_model/#summary","title":"Summary","text":"<p>Implement a Pydantic model for <code>additional_components.html</code> (inherits from <code>template_model.py</code>) and a factory_boy factory that can populate all template fields for testing coverage.</p>"},{"location":"features/templates/additional_components_model/#requirements","title":"Requirements","text":"<ul> <li>Capture all context fields used by <code>additional_components.html</code> (including component metadata, counts, and display flags).</li> <li>Extend the base template model for shared fields (title/name, output names, etc.).</li> <li>Provide a factory_boy factory with defaults and variants for every field combination used in the template.</li> </ul>"},{"location":"features/templates/additional_components_model/#steps","title":"Steps","text":"<ul> <li>[x] Map template context variables referenced in <code>additional_components.html</code>.</li> <li>[x] Define the template model subclass with typed fields/defaults matching the template usage.</li> <li>[x] Add a factory_boy-style factory generating complete attribute sets and edge cases (faker-backed with count support).</li> <li>[x] Hook the model/factory into template tests to exercise all fields.</li> </ul>"},{"location":"features/templates/additional_components_model/#progress-log","title":"Progress Log","text":"<p>2025-12-10: Created sub-feature plan for additional_components template model/factory. 2025-12-11: Implemented <code>AdditionalComponentsTemplateModel</code> + factory and render tests covering id/unit variants and multiple components (faker-backed). 2025-12-11: Added command/testing notes; faker-backed factories generate dynamic IDs/descriptions, so tests should assert against model values, not hard-coded strings. 2025-12-11: Marked complete with tests and factories in place.</p>"},{"location":"features/templates/additional_components_model/#command-testing-notes","title":"Command &amp; Testing Notes","text":"<ul> <li>Run targeted suite: <code>just test-specific tests/templates/test_additional_components_model.py</code>.</li> <li>Factories are faker-backed; capture generated IDs/quantities/descriptions from the model when asserting.</li> </ul>"},{"location":"features/templates/additional_components_model/#sub-features","title":"Sub-Features","text":"<ul> <li>None</li> </ul>"},{"location":"features/templates/additional_components_model/#related-issues","title":"Related Issues","text":"<ul> <li>Parent: docs/features/templates/models.md</li> </ul>"},{"location":"features/templates/bom_model/","title":"bom model","text":"<p>uid: FEAT-RENDER-0014 status: DONE priority: medium owner_role: FEATURE estimate: 1d dependencies: [] risk: medium milestone: templates-models</p> <p>from: docs/features/templates/models.md</p>"},{"location":"features/templates/bom_model/#template-model-bom","title":"Template Model: bom","text":""},{"location":"features/templates/bom_model/#status","title":"Status","text":"<p>DONE</p>"},{"location":"features/templates/bom_model/#summary","title":"Summary","text":"<p>Implement a Pydantic model for <code>bom.html</code> and a factory_boy factory to generate all field combinations used by the BOM template.</p>"},{"location":"features/templates/bom_model/#requirements","title":"Requirements","text":"<ul> <li>Model all BOM fields (lines, quantities, units, refs, notes) used in <code>bom.html</code>, extending the base template model.</li> <li>Factory must emit complete rows and edge cases (missing notes, grouped items, alternates if present).</li> <li>Remain compatible with existing BOM rendering expectations.</li> </ul>"},{"location":"features/templates/bom_model/#steps","title":"Steps","text":"<ul> <li>[x] Identify context keys consumed by <code>bom.html</code>.</li> <li>[x] Define the BOM template model with typed defaults.</li> <li>[x] Add a faker-backed factory with variants covering optional/edge fields.</li> <li>[x] Wire into template tests to render BOM with full coverage.</li> </ul>"},{"location":"features/templates/bom_model/#progress-log","title":"Progress Log","text":"<p>2025-12-11: Completed BOM template model, factory, and render tests; marking DONE.</p>"},{"location":"features/templates/bom_model/#progress-log_1","title":"Progress Log","text":"<p>2025-12-10: Created sub-feature for BOM template model/factory. 2025-12-11: Added BomTemplateModel + faker factory and render tests (reverse header variants).</p>"},{"location":"features/templates/bom_model/#command-testing-notes","title":"Command &amp; Testing Notes","text":"<ul> <li>Run targeted suite: <code>just test-specific tests/templates/test_bom_template_model.py</code>.</li> <li>Factories are faker-backed; capture generated IDs/quantities/descriptions from the model when asserting.</li> <li>Cover multiple row counts (e.g., 1/10/50) to ensure layout and header/footer behavior remains correct.</li> </ul>"},{"location":"features/templates/bom_model/#sub-features","title":"Sub-Features","text":"<ul> <li>None</li> </ul>"},{"location":"features/templates/bom_model/#related-issues","title":"Related Issues","text":"<ul> <li>Parent: docs/features/templates/models.md</li> </ul>"},{"location":"features/templates/cable_model/","title":"cable model","text":"<p>uid: FEAT-RENDER-0015 status: DONE priority: medium owner_role: FEATURE estimate: 1d dependencies: [] risk: medium milestone: templates-models</p> <p>from: docs/features/templates/models.md</p>"},{"location":"features/templates/cable_model/#template-model-cable","title":"Template Model: cable","text":""},{"location":"features/templates/cable_model/#status","title":"Status","text":"<p>DONE</p>"},{"location":"features/templates/cable_model/#summary","title":"Summary","text":"<p>Implement a model for <code>cable.html</code> and a factory covering all cable-specific attributes (wire counts, labels, colors, lengths).</p>"},{"location":"features/templates/cable_model/#requirements","title":"Requirements","text":"<ul> <li>Extend base template model with cable fields used by <code>cable.html</code> (wires, shields, labeling, lengths).</li> <li>Factory should generate combinations for wires/shields/colors to exercise rendering branches.</li> </ul>"},{"location":"features/templates/cable_model/#steps","title":"Steps","text":"<ul> <li>[x] Extract context keys from <code>cable.html</code>.</li> <li>[x] Define cable template model with defaults.</li> <li>[x] Add a faker-backed factory with variants for wires/shields/colors.</li> <li>[x] Add tests rendering cable template using factory outputs.</li> </ul>"},{"location":"features/templates/cable_model/#progress-log","title":"Progress Log","text":"<p>2025-12-10: Created sub-feature for cable template model/factory. 2025-12-11: Added CableTemplateModel + faker factory and render tests (wirecount/shield variants). 2025-12-11: Marked complete with all tests and factories in place.</p>"},{"location":"features/templates/cable_model/#sub-features","title":"Sub-Features","text":"<ul> <li>None</li> </ul>"},{"location":"features/templates/cable_model/#related-issues","title":"Related Issues","text":"<ul> <li>Parent: docs/features/templates/models.md</li> </ul>"},{"location":"features/templates/colors_macro_model/","title":"colors macro model","text":"<p>uid: FEAT-RENDER-0016 status: DONE priority: medium owner_role: FEATURE estimate: 1d dependencies: [] risk: medium milestone: templates-models</p> <p>from: docs/features/templates/models.md</p>"},{"location":"features/templates/colors_macro_model/#template-model-colors_macro","title":"Template Model: colors_macro","text":""},{"location":"features/templates/colors_macro_model/#status","title":"Status","text":"<p>DONE</p>"},{"location":"features/templates/colors_macro_model/#summary","title":"Summary","text":"<p>Implement a model for <code>colors_macro.html</code> and a factory ensuring all color/legend combinations are covered for testing.</p>"},{"location":"features/templates/colors_macro_model/#requirements","title":"Requirements","text":"<ul> <li>Capture color legend entries and display flags used by <code>colors_macro.html</code>.</li> <li>Factory must produce multiple legend entries and edge cases (empty/omitted).</li> </ul>"},{"location":"features/templates/colors_macro_model/#steps","title":"Steps","text":"<ul> <li>[x] Identify context consumed by <code>colors_macro.html</code>.</li> <li>[x] Define the colors macro model extending the base template model as needed.</li> <li>[x] Add a faker-backed factory with variants for legend richness/empties.</li> <li>[x] Integrate into template tests.</li> </ul>"},{"location":"features/templates/colors_macro_model/#progress-log","title":"Progress Log","text":"<p>2025-12-10: Created sub-feature for colors_macro template model/factory. 2025-12-11: Added ColorsMacroTemplateModel + faker factory and render tests (count variants). 2025-12-11: Marked complete with model/factory/tests.</p>"},{"location":"features/templates/colors_macro_model/#sub-features","title":"Sub-Features","text":"<ul> <li>None</li> </ul>"},{"location":"features/templates/colors_macro_model/#related-issues","title":"Related Issues","text":"<ul> <li>Parent: docs/features/templates/models.md</li> </ul>"},{"location":"features/templates/component_table_model/","title":"component table model","text":"<p>uid: FEAT-RENDER-0001 status: DONE priority: medium owner_role: FEATURE estimate: 1d dependencies: [] risk: medium milestone: templates-models</p> <p>from: docs/features/templates/models.md</p>"},{"location":"features/templates/component_table_model/#template-model-component_table","title":"Template Model: component_table","text":""},{"location":"features/templates/component_table_model/#status","title":"Status","text":"<p>DONE</p>"},{"location":"features/templates/component_table_model/#summary","title":"Summary","text":"<p>Implement a model for <code>component_table.html</code> and a factory generating component payloads with partnumbers, notes, additional components, and image support.</p>"},{"location":"features/templates/component_table_model/#requirements","title":"Requirements","text":"<ul> <li>Model all component table fields (designators, partnumbers, notes, additional components, images) used in the template.</li> <li>Factory should emit partnumber list and single-item branches to cover rendering branches.</li> </ul>"},{"location":"features/templates/component_table_model/#steps","title":"Steps","text":"<ul> <li>[x] Extract context keys from <code>component_table.html</code>.</li> <li>[x] Define component_table model with appropriate defaults.</li> <li>[x] Add factory_boy factory generating permutations (notes/images/additional components/partnumber list or single).</li> <li>[x] Add tests that render the template using the factory outputs.</li> </ul>"},{"location":"features/templates/component_table_model/#progress-log","title":"Progress Log","text":"<p>2025-12-10: Created sub-feature for component_table template model/factory. 2025-12-11: Implemented Pydantic model + faker factory with partnumbers/list branch, notes, images, and additional components plus render tests.</p>"},{"location":"features/templates/component_table_model/#sub-features","title":"Sub-Features","text":"<ul> <li>None</li> </ul>"},{"location":"features/templates/component_table_model/#related-issues","title":"Related Issues","text":"<ul> <li>Parent: docs/features/templates/models.md</li> </ul>"},{"location":"features/templates/connector_model/","title":"connector model","text":"<p>uid: FEAT-RENDER-0017 status: DONE priority: medium owner_role: FEATURE estimate: 1d dependencies: [] risk: medium milestone: templates-models</p> <p>from: docs/features/templates/models.md</p>"},{"location":"features/templates/connector_model/#template-model-connector","title":"Template Model: connector","text":""},{"location":"features/templates/connector_model/#status","title":"Status","text":"<p>DONE</p>"},{"location":"features/templates/connector_model/#summary","title":"Summary","text":"<p>Implement a model for <code>connector.html</code> and a factory to cover connector pinouts, labels, sides, and styling flags.</p>"},{"location":"features/templates/connector_model/#requirements","title":"Requirements","text":"<ul> <li>Capture connector details used by the template (pins, labels, colors, orientation, ports flags).</li> <li>Extend base template model where applicable.</li> <li>Factory must generate multiple connector shapes/pin layouts for test coverage.</li> </ul>"},{"location":"features/templates/connector_model/#steps","title":"Steps","text":"<ul> <li>[x] Identify context keys in <code>connector.html</code>.</li> <li>[x] Define connector template model with typed defaults.</li> <li>[x] Add faker-backed factory with variants for pin counts/colors/sides.</li> <li>[x] Add template tests using the factory output.</li> </ul>"},{"location":"features/templates/connector_model/#progress-log","title":"Progress Log","text":"<p>2025-12-10: Created sub-feature for connector template model/factory. 2025-12-11: Added <code>ConnectorTemplateModel</code> + faker factory and render tests (ports/colors variants, pincount coverage). 2025-12-11: Marked complete with model/factory/tests.</p>"},{"location":"features/templates/connector_model/#sub-features","title":"Sub-Features","text":"<ul> <li>None</li> </ul>"},{"location":"features/templates/connector_model/#related-issues","title":"Related Issues","text":"<ul> <li>Parent: docs/features/templates/models.md</li> </ul>"},{"location":"features/templates/cut_model/","title":"cut model","text":"<p>uid: FEAT-RENDER-0003 status: DONE priority: medium owner_role: FEATURE estimate: 1d dependencies: [] risk: medium milestone: templates-models</p> <p>from: docs/features/templates/models.md</p>"},{"location":"features/templates/cut_model/#template-model-cut","title":"Template Model: cut","text":""},{"location":"features/templates/cut_model/#status","title":"Status","text":"<p>DONE</p>"},{"location":"features/templates/cut_model/#summary","title":"Summary","text":"<p>Implement a model for <code>cut.html</code> and a factory to produce cut diagram inputs that render the cut table and page metadata.</p>"},{"location":"features/templates/cut_model/#requirements","title":"Requirements","text":"<ul> <li>Capture cut diagram fields (rendered cut_table HTML, page metadata/options/titleblock).</li> <li>Factory produces varied cut_table row counts via the cut_table factory.</li> </ul>"},{"location":"features/templates/cut_model/#steps","title":"Steps","text":"<ul> <li>[x] Extract context keys from <code>cut.html</code>.</li> <li>[x] Define cut template model with defaults.</li> <li>[x] Add factory_boy factory with cut_table variations.</li> <li>[x] Add template test using factory outputs.</li> </ul>"},{"location":"features/templates/cut_model/#progress-log","title":"Progress Log","text":"<p>2025-12-10: Created sub-feature for cut template model/factory. 2025-12-11: Implemented model + factory rendering cut_table HTML and render tests.</p>"},{"location":"features/templates/cut_model/#sub-features","title":"Sub-Features","text":"<ul> <li>None</li> </ul>"},{"location":"features/templates/cut_model/#related-issues","title":"Related Issues","text":"<ul> <li>Parent: docs/features/templates/models.md</li> </ul>"},{"location":"features/templates/cut_table_model/","title":"cut table model","text":"<p>uid: FEAT-RENDER-0002 status: DONE priority: medium owner_role: FEATURE estimate: 1d dependencies: [] risk: medium milestone: templates-models</p> <p>from: docs/features/templates/models.md</p>"},{"location":"features/templates/cut_table_model/#template-model-cut_table","title":"Template Model: cut_table","text":""},{"location":"features/templates/cut_table_model/#status","title":"Status","text":"<p>DONE</p>"},{"location":"features/templates/cut_table_model/#summary","title":"Summary","text":"<p>Implement a model for <code>cut_table.html</code> and a factory covering cut-list table rows (wire, part number, color, length) with color modeling.</p>"},{"location":"features/templates/cut_table_model/#requirements","title":"Requirements","text":"<ul> <li>Model all cut table fields (wire name, part number, color, length) used by <code>cut_table.html</code>.</li> <li>Factory emits varied row counts with typed SingleColor values.</li> </ul>"},{"location":"features/templates/cut_table_model/#steps","title":"Steps","text":"<ul> <li>[x] Identify context keys in <code>cut_table.html</code>.</li> <li>[x] Define cut_table model with typed defaults.</li> <li>[x] Add factory_boy factory with row variants.</li> <li>[x] Add template tests using the factory outputs.</li> </ul>"},{"location":"features/templates/cut_table_model/#progress-log","title":"Progress Log","text":"<p>2025-12-10: Created sub-feature for cut_table template model/factory. 2025-12-11: Implemented model + faker factory with typed colors and render tests.</p>"},{"location":"features/templates/cut_table_model/#sub-features","title":"Sub-Features","text":"<ul> <li>None</li> </ul>"},{"location":"features/templates/cut_table_model/#related-issues","title":"Related Issues","text":"<ul> <li>Parent: docs/features/templates/models.md</li> </ul>"},{"location":"features/templates/din-6771_model/","title":"din 6771 model","text":"<p>uid: FEAT-RENDER-0004 status: DONE priority: medium owner_role: FEATURE estimate: 1d dependencies: [] risk: medium milestone: templates-models</p> <p>from: docs/features/templates/models.md</p>"},{"location":"features/templates/din-6771_model/#template-model-din-6771","title":"Template Model: din-6771","text":""},{"location":"features/templates/din-6771_model/#status","title":"Status","text":"<p>DONE</p>"},{"location":"features/templates/din-6771_model/#summary","title":"Summary","text":"<p>Implement a model for <code>din-6771.html</code> and a factory that exercises DIN 6771-specific layout options (notes/BOM toggles, diagram container class/style) and metadata.</p>"},{"location":"features/templates/din-6771_model/#requirements","title":"Requirements","text":"<ul> <li>Capture DIN title block fields and layout options used by the template (notes/BOM toggles, bom row sizing, diagram container class/style, title).</li> <li>Factory populates required metadata and optional annotations (notes, BOM) and diagram content.</li> </ul>"},{"location":"features/templates/din-6771_model/#steps","title":"Steps","text":"<ul> <li>[x] Extract context keys from <code>din-6771.html</code>.</li> <li>[x] Define din-6771 model with defaults.</li> <li>[x] Add factory_boy factory covering required/optional metadata.</li> <li>[x] Add template tests using factory outputs.</li> </ul>"},{"location":"features/templates/din-6771_model/#progress-log","title":"Progress Log","text":"<p>2025-12-10: Created sub-feature for din-6771 template model/factory. 2025-12-11: Implemented model + factory with notes/BOM toggles, diagram container styling, and render tests.</p>"},{"location":"features/templates/din-6771_model/#sub-features","title":"Sub-Features","text":"<ul> <li>None</li> </ul>"},{"location":"features/templates/din-6771_model/#related-issues","title":"Related Issues","text":"<ul> <li>Parent: docs/features/templates/models.md</li> </ul>"},{"location":"features/templates/images_model/","title":"images model","text":"<p>uid: FEAT-RENDER-0005 status: DONE priority: medium owner_role: FEATURE estimate: 1d dependencies: [] risk: medium milestone: templates-models</p> <p>from: docs/features/templates/models.md</p>"},{"location":"features/templates/images_model/#template-model-images","title":"Template Model: images","text":""},{"location":"features/templates/images_model/#status","title":"Status","text":"<p>DONE</p>"},{"location":"features/templates/images_model/#summary","title":"Summary","text":"<p>Implement a model for <code>images.html</code> and a factory to produce image entries with captions and fixed-size variants for testing.</p>"},{"location":"features/templates/images_model/#requirements","title":"Requirements","text":"<ul> <li>Capture image fields (src, scale, width, height, fixedsize, caption) used by <code>images.html</code>.</li> <li>Factory generates images with/without captions and fixed-size variants.</li> </ul>"},{"location":"features/templates/images_model/#steps","title":"Steps","text":"<ul> <li>[x] Identify context keys in <code>images.html</code>.</li> <li>[x] Define images template model with defaults.</li> <li>[x] Add factory_boy factory with variants for captions/fixedsize.</li> <li>[x] Add template tests using the factory outputs.</li> </ul>"},{"location":"features/templates/images_model/#progress-log","title":"Progress Log","text":"<p>2025-12-10: Created sub-feature for images template model/factory. 2025-12-11: Implemented model + factory (caption/fixed-size variants) and render tests.</p>"},{"location":"features/templates/images_model/#sub-features","title":"Sub-Features","text":"<ul> <li>None</li> </ul>"},{"location":"features/templates/images_model/#related-issues","title":"Related Issues","text":"<ul> <li>Parent: docs/features/templates/models.md</li> </ul>"},{"location":"features/templates/index_table_model/","title":"index table model","text":"<p>uid: FEAT-RENDER-0006 status: DONE priority: medium owner_role: FEATURE estimate: 1d dependencies: [] risk: medium milestone: templates-models</p> <p>from: docs/features/templates/models.md</p>"},{"location":"features/templates/index_table_model/#template-model-index_table","title":"Template Model: index_table","text":""},{"location":"features/templates/index_table_model/#status","title":"Status","text":"<p>DONE</p>"},{"location":"features/templates/index_table_model/#summary","title":"Summary","text":"<p>Implement a model for <code>index_table.html</code> and a factory generating index rows with PDF variants and layout options.</p>"},{"location":"features/templates/index_table_model/#requirements","title":"Requirements","text":"<ul> <li>Model index entries (items plus PDF-specific items) used by <code>index_table.html</code>.</li> <li>Factory should produce multiple rows and optional PDF content, and allow layout options (row height, BOM linkage, positioning).</li> </ul>"},{"location":"features/templates/index_table_model/#steps","title":"Steps","text":"<ul> <li>[x] Extract context keys from <code>index_table.html</code>.</li> <li>[x] Define index_table model with defaults.</li> <li>[x] Add factory_boy factory with row variations and PDF items.</li> <li>[x] Add template tests using factory outputs.</li> </ul>"},{"location":"features/templates/index_table_model/#progress-log","title":"Progress Log","text":"<p>2025-12-10: Created sub-feature for index_table template model/factory. 2025-12-11: Implemented model + faker factory with PDF items/layout options and render tests.</p>"},{"location":"features/templates/index_table_model/#sub-features","title":"Sub-Features","text":"<ul> <li>None</li> </ul>"},{"location":"features/templates/index_table_model/#related-issues","title":"Related Issues","text":"<ul> <li>Parent: docs/features/templates/models.md</li> </ul>"},{"location":"features/templates/models/","title":"models","text":"<p>uid: FEAT-RENDER-0020 status: DONE priority: medium owner_role: FEATURE estimate: 3d dependencies: [] risk: medium milestone: templates-models</p>"},{"location":"features/templates/models/#template-models-and-factories","title":"Template Models and Factories","text":""},{"location":"features/templates/models/#status","title":"Status","text":"<p>DONE</p>"},{"location":"features/templates/models/#summary","title":"Summary","text":"<p>Add Pydantic template models under <code>src/filare/models/templates/</code> (one per template in <code>src/filare/templates/*.html</code>) inheriting from <code>template_model.py</code>, plus factory_boy factories to cover all template attributes for testing.</p>"},{"location":"features/templates/models/#requirements","title":"Requirements","text":"<ul> <li>Create a model per template file (e.g., <code>additional_components.html</code> -&gt; <code>additional_components_model.py</code>) inheriting from <code>template_model.py</code>.</li> <li>Add factory_boy factories for each model to generate complete attribute permutations for template tests.</li> <li>Keep naming and field coverage aligned with the template context used in rendering.</li> <li>Backward compatible: no changes to existing template rendering inputs/outputs.</li> </ul>"},{"location":"features/templates/models/#steps","title":"Steps","text":"<ul> <li>[x] Inventory templates and align naming for model files and factories.</li> <li>[x] Define shared/base fields in <code>template_model.py</code> and extend per-template models with specific fields.</li> <li>[x] Add factory_boy-style factories for each template model with sensible defaults and complete attribute coverage.</li> <li>[x] Wire models/factories into tests that exercise templates with full attribute sets.</li> <li>[x] Update docs/help to describe template model coverage and factory usage.</li> </ul>"},{"location":"features/templates/models/#progress-log","title":"Progress Log","text":"<p>2025-12-10: Created parent feature and outlined requirements/steps. 2025-12-10: Added template models/factories for all templates under <code>src/filare/templates/</code>; tests/docs wiring pending. 2025-12-11: Implemented base <code>TemplateModel</code> + factory_boy factory with render-focused tests, <code>render</code> pytest marker, classvar <code>template_name</code>, and forbidden extras to align with strict template payloads. 2025-12-11: Implemented AdditionalComponentsTemplateModel + factory and render tests (faker-backed, id/unit variants, multi-component coverage). 2025-12-11: Implemented ConnectorTemplateModel + faker factory and render tests (ports/pincolor variants, pincount coverage). 2025-12-11: Implemented BomTemplateModel + faker factory and render tests (reverse header variants). 2025-12-11: Implemented CableTemplateModel + faker factory and render tests (wirecount/shield variants). 2025-12-11: Implemented ColorsMacroTemplateModel + faker factory and render tests (legend count variants). 2025-12-11: Implemented ComponentTableTemplateModel + faker factory and render tests (partnumber list vs single, notes/images/additional components). 2025-12-11: Implemented CutTableTemplateModel + faker factory with typed colors and render tests. 2025-12-11: Implemented CutTemplateModel + faker factory that renders cut_table HTML with varying row counts. 2025-12-11: Implemented Din6771TemplateModel + faker factory with notes/BOM toggles and diagram container styling plus render tests. 2025-12-11: Implemented ImagesTemplateModel + faker factory (caption/fixed-size variants) and render tests. 2025-12-11: Implemented IndexTableTemplateModel + faker factory with PDF variants/layout options and render tests. 2025-12-11: Implemented PageTemplateModel + faker factory using shared page metadata/options and render tests. 2025-12-11: Implemented SimpleConnectorTemplateModel + faker factory (color toggle) and render tests. 2025-12-11: Implemented SimpleTemplateModel + faker factory and render tests with container styling. 2025-12-11: Implemented TerminationTemplateModel + faker factory rendering termination_table and render tests. 2025-12-11: Implemented TitleblockTemplateModel + faker factories for metadata/options and render tests. 2025-12-11: Implemented TitlePageTemplateModel with rendered child templates and page options factory. 2025-12-11: Completed all template models/factories/tests; marking parent feature DONE.</p>"},{"location":"features/templates/models/#command-testing-notes","title":"Command &amp; Testing Notes","text":"<ul> <li>Use <code>just test-specific &lt;path&gt; -- &lt;args&gt;</code> to target template model tests, e.g., <code>just test-specific tests/templates/test_additional_components_model.py</code>.</li> <li>Faker-backed factories generate IDs and descriptions dynamically; when asserting, prefer reading values from the model instead of hard-coding literals.</li> <li>When templates render lists/rows, include tests across small/medium/large counts (e.g., 1/10/50) to exercise layout and header/footer paths.</li> </ul>"},{"location":"features/templates/models/#sub-features","title":"Sub-Features","text":"<ul> <li>templates/additional_components_model</li> <li>templates/bom_model</li> <li>templates/cable_model</li> <li>templates/colors_macro_model</li> <li>templates/component_table_model</li> <li>templates/connector_model</li> <li>templates/cut_model</li> <li>templates/cut_table_model</li> <li>templates/din-6771_model</li> <li>templates/images_model</li> <li>templates/index_table_model</li> <li>templates/notes_model</li> <li>templates/page_model</li> <li>templates/simple-connector_model</li> <li>templates/simple_model</li> <li>templates/termination_model</li> <li>templates/termination_table_model</li> <li>templates/titleblock_model</li> <li>templates/titlepage_model</li> </ul>"},{"location":"features/templates/models/#related-issues","title":"Related Issues","text":"<ul> <li>None</li> </ul>"},{"location":"features/templates/notes_model/","title":"notes model","text":"<p>uid: FEAT-RENDER-0018 status: DONE priority: medium owner_role: FEATURE estimate: 1d dependencies: [] risk: medium milestone: templates-models</p> <p>from: docs/features/templates/models.md</p>"},{"location":"features/templates/notes_model/#template-model-notes","title":"Template Model: notes","text":""},{"location":"features/templates/notes_model/#status","title":"Status","text":"<p>DONE</p>"},{"location":"features/templates/notes_model/#summary","title":"Summary","text":"<p>Implement a model for <code>notes.html</code> and a factory to produce notes/annotations lists for testing.</p>"},{"location":"features/templates/notes_model/#requirements","title":"Requirements","text":"<ul> <li>Capture notes list fields and formatting flags used by <code>notes.html</code>.</li> <li>Factory should generate multiple notes and empty/omitted cases.</li> </ul>"},{"location":"features/templates/notes_model/#steps","title":"Steps","text":"<ul> <li>[x] Identify context keys in <code>notes.html</code>.</li> <li>[x] Define notes template model with defaults.</li> <li>[x] Add factory_boy factory with variations in notes content.</li> <li>[x] Add template tests using factory outputs.</li> </ul>"},{"location":"features/templates/notes_model/#progress-log","title":"Progress Log","text":"<p>2025-12-10: Created sub-feature for notes template model/factory. 2025-12-11: Implemented notes template model/options factory with exhaustive positioning tests; marking DONE.</p>"},{"location":"features/templates/notes_model/#sub-features","title":"Sub-Features","text":"<ul> <li>None</li> </ul>"},{"location":"features/templates/notes_model/#related-issues","title":"Related Issues","text":"<ul> <li>Parent: docs/features/templates/models.md</li> </ul>"},{"location":"features/templates/page_model/","title":"page model","text":"<p>uid: FEAT-RENDER-0007 status: DONE priority: medium owner_role: FEATURE estimate: 1d dependencies: [] risk: medium milestone: templates-models</p> <p>from: docs/features/templates/models.md</p>"},{"location":"features/templates/page_model/#template-model-page","title":"Template Model: page","text":""},{"location":"features/templates/page_model/#status","title":"Status","text":"<p>DONE</p>"},{"location":"features/templates/page_model/#summary","title":"Summary","text":"<p>Implement a model for <code>page.html</code> and a factory covering page metadata, options (font/bg/titleblock rows), and titleblock content.</p>"},{"location":"features/templates/page_model/#requirements","title":"Requirements","text":"<ul> <li>Capture page metadata (generator/title/template sizing) and styling options used by <code>page.html</code>.</li> <li>Factory should generate page entries with configurable options/titleblock snippets.</li> </ul>"},{"location":"features/templates/page_model/#steps","title":"Steps","text":"<ul> <li>[x] Extract context keys from <code>page.html</code>.</li> <li>[x] Define page template model with defaults.</li> <li>[x] Add factory_boy factory with variations in options/metadata.</li> <li>[x] Add template tests using factory outputs.</li> </ul>"},{"location":"features/templates/page_model/#progress-log","title":"Progress Log","text":"<p>2025-12-10: Created sub-feature for page template model/factory. 2025-12-11: Implemented model + faker factory using shared page metadata/options factories and render tests.</p>"},{"location":"features/templates/page_model/#sub-features","title":"Sub-Features","text":"<ul> <li>None</li> </ul>"},{"location":"features/templates/page_model/#related-issues","title":"Related Issues","text":"<ul> <li>Parent: docs/features/templates/models.md</li> </ul>"},{"location":"features/templates/simple-connector_model/","title":"simple connector model","text":"<p>uid: FEAT-RENDER-0008 status: DONE priority: medium owner_role: FEATURE estimate: 1d dependencies: [] risk: medium milestone: templates-models</p> <p>from: docs/features/templates/models.md</p>"},{"location":"features/templates/simple-connector_model/#template-model-simple-connector","title":"Template Model: simple-connector","text":""},{"location":"features/templates/simple-connector_model/#status","title":"Status","text":"<p>DONE</p>"},{"location":"features/templates/simple-connector_model/#summary","title":"Summary","text":"<p>Implement a model for <code>simple-connector.html</code> and a factory to cover simplified connector fields/pin labels/colors for testing.</p>"},{"location":"features/templates/simple-connector_model/#requirements","title":"Requirements","text":"<ul> <li>Capture the simplified connector context (pins/labels/colors, subtype, pincount) used by <code>simple-connector.html</code>.</li> <li>Factory generates pin sets with optional color bar.</li> </ul>"},{"location":"features/templates/simple-connector_model/#steps","title":"Steps","text":"<ul> <li>[x] Identify context keys in <code>simple-connector.html</code>.</li> <li>[x] Define simple-connector model with defaults.</li> <li>[x] Add factory_boy factory with pin/color variations.</li> <li>[x] Add template tests using factory outputs.</li> </ul>"},{"location":"features/templates/simple-connector_model/#progress-log","title":"Progress Log","text":"<p>2025-12-10: Created sub-feature for simple-connector template model/factory. 2025-12-11: Implemented model + faker factory (color on/off) and render tests.</p>"},{"location":"features/templates/simple-connector_model/#sub-features","title":"Sub-Features","text":"<ul> <li>None</li> </ul>"},{"location":"features/templates/simple-connector_model/#related-issues","title":"Related Issues","text":"<ul> <li>Parent: docs/features/templates/models.md</li> </ul>"},{"location":"features/templates/simple_model/","title":"simple model","text":"<p>uid: FEAT-RENDER-0009 status: DONE priority: medium owner_role: FEATURE estimate: 1d dependencies: [] risk: medium milestone: templates-models</p> <p>from: docs/features/templates/models.md</p>"},{"location":"features/templates/simple_model/#template-model-simple","title":"Template Model: simple","text":""},{"location":"features/templates/simple_model/#status","title":"Status","text":"<p>DONE</p>"},{"location":"features/templates/simple_model/#summary","title":"Summary","text":"<p>Implement a model for <code>simple.html</code> and a factory generating page metadata/content (title, description, diagram, notes, BOM) and container styling.</p>"},{"location":"features/templates/simple_model/#requirements","title":"Requirements","text":"<ul> <li>Capture fields required by <code>simple.html</code> (titles, description, diagram, notes, BOM, container class/style).</li> <li>Factory should generate content variants with optional fields and container styling.</li> </ul>"},{"location":"features/templates/simple_model/#steps","title":"Steps","text":"<ul> <li>[x] Extract context keys from <code>simple.html</code>.</li> <li>[x] Define simple template model with defaults.</li> <li>[x] Add factory_boy factory with optional field variations.</li> <li>[x] Add template tests using factory outputs.</li> </ul>"},{"location":"features/templates/simple_model/#progress-log","title":"Progress Log","text":"<p>2025-12-10: Created sub-feature for simple template model/factory. 2025-12-11: Implemented model + factory and render tests with container styling.</p>"},{"location":"features/templates/simple_model/#sub-features","title":"Sub-Features","text":"<ul> <li>None</li> </ul>"},{"location":"features/templates/simple_model/#related-issues","title":"Related Issues","text":"<ul> <li>Parent: docs/features/templates/models.md</li> </ul>"},{"location":"features/templates/termination_model/","title":"termination model","text":"<p>uid: FEAT-RENDER-0010 status: DONE priority: medium owner_role: FEATURE estimate: 1d dependencies: [] risk: medium milestone: templates-models</p> <p>from: docs/features/templates/models.md</p>"},{"location":"features/templates/termination_model/#template-model-termination","title":"Template Model: termination","text":""},{"location":"features/templates/termination_model/#status","title":"Status","text":"<p>DONE</p>"},{"location":"features/templates/termination_model/#summary","title":"Summary","text":"<p>Implement a model for <code>termination.html</code> and a factory to cover termination diagram data via termination_table rendering.</p>"},{"location":"features/templates/termination_model/#requirements","title":"Requirements","text":"<ul> <li>Capture termination context (rendered termination_table, page metadata/options/titleblock) used by <code>termination.html</code>.</li> <li>Factory should generate varied termination sets (row counts) and embed rendered table HTML.</li> </ul>"},{"location":"features/templates/termination_model/#steps","title":"Steps","text":"<ul> <li>[x] Identify context keys in <code>termination.html</code>.</li> <li>[x] Define termination template model with defaults.</li> <li>[x] Add factory_boy factory with termination variations.</li> <li>[x] Add template tests using factory outputs.</li> </ul>"},{"location":"features/templates/termination_model/#progress-log","title":"Progress Log","text":"<p>2025-12-10: Created sub-feature for termination template model/factory. 2025-12-11: Implemented model + factory rendering termination_table and render tests.</p>"},{"location":"features/templates/termination_model/#sub-features","title":"Sub-Features","text":"<ul> <li>None</li> </ul>"},{"location":"features/templates/termination_model/#related-issues","title":"Related Issues","text":"<ul> <li>Parent: docs/features/templates/models.md</li> </ul>"},{"location":"features/templates/termination_table_model/","title":"termination table model","text":"<p>uid: FEAT-RENDER-0019 status: DONE priority: medium owner_role: FEATURE estimate: 1d dependencies: [] risk: medium milestone: templates-models</p> <p>from: docs/features/templates/models.md</p>"},{"location":"features/templates/termination_table_model/#template-model-termination_table","title":"Template Model: termination_table","text":""},{"location":"features/templates/termination_table_model/#status","title":"Status","text":"<p>DONE</p>"},{"location":"features/templates/termination_table_model/#summary","title":"Summary","text":"<p>Implement a model for <code>termination_table.html</code> and a factory generating termination table rows with all optional fields.</p>"},{"location":"features/templates/termination_table_model/#requirements","title":"Requirements","text":"<ul> <li>Model termination table fields (connector, pin, wire, length, notes) used by the template.</li> <li>Factory should emit rows with optional/missing fields to exercise rendering paths.</li> </ul>"},{"location":"features/templates/termination_table_model/#steps","title":"Steps","text":"<ul> <li>[ ] Extract context keys from <code>termination_table.html</code>.</li> <li>[ ] Define termination_table model with defaults.</li> <li>[ ] Add factory_boy factory with row variations and edge cases.</li> <li>[ ] Add template tests using factory outputs.</li> </ul>"},{"location":"features/templates/termination_table_model/#progress-log","title":"Progress Log","text":"<p>2025-12-10: Created sub-feature for termination_table template model/factory. 2025-12-11: Implemented termination_table model/factory and render tests; marking DONE.</p>"},{"location":"features/templates/termination_table_model/#sub-features","title":"Sub-Features","text":"<ul> <li>None</li> </ul>"},{"location":"features/templates/termination_table_model/#related-issues","title":"Related Issues","text":"<ul> <li>Parent: docs/features/templates/models.md</li> </ul>"},{"location":"features/templates/titleblock_model/","title":"titleblock model","text":"<p>uid: FEAT-RENDER-0011 status: DONE priority: medium owner_role: FEATURE estimate: 1d dependencies: [] risk: medium milestone: templates-models</p> <p>from: docs/features/templates/models.md</p>"},{"location":"features/templates/titleblock_model/#template-model-titleblock","title":"Template Model: titleblock","text":""},{"location":"features/templates/titleblock_model/#status","title":"Status","text":"<p>DONE</p>"},{"location":"features/templates/titleblock_model/#summary","title":"Summary","text":"<p>Implement a model for <code>titleblock.html</code> and a factory covering title block metadata fields.</p>"},{"location":"features/templates/titleblock_model/#requirements","title":"Requirements","text":"<ul> <li>Capture title block fields (pn, company, address, authors, revisions) used by the template.</li> <li>Factory should populate required metadata and optional entries (authors/revisions variants).</li> </ul>"},{"location":"features/templates/titleblock_model/#steps","title":"Steps","text":"<ul> <li>[x] Identify context keys in <code>titleblock.html</code>.</li> <li>[x] Define titleblock template model with defaults.</li> <li>[x] Add factory_boy factory with author/revision variants.</li> <li>[x] Add template tests using factory outputs.</li> </ul>"},{"location":"features/templates/titleblock_model/#progress-log","title":"Progress Log","text":"<p>2025-12-10: Created sub-feature for titleblock template model/factory. 2025-12-11: Implemented faker-backed metadata/options factories plus render tests.</p>"},{"location":"features/templates/titleblock_model/#sub-features","title":"Sub-Features","text":"<ul> <li>None</li> </ul>"},{"location":"features/templates/titleblock_model/#related-issues","title":"Related Issues","text":"<ul> <li>Parent: docs/features/templates/models.md</li> </ul>"},{"location":"features/templates/titlepage_model/","title":"titlepage model","text":"<p>uid: FEAT-RENDER-0012 status: DONE priority: medium owner_role: FEATURE estimate: 1d dependencies: [] risk: medium milestone: templates-models</p> <p>from: docs/features/templates/models.md</p>"},{"location":"features/templates/titlepage_model/#template-model-titlepage","title":"Template Model: titlepage","text":""},{"location":"features/templates/titlepage_model/#status","title":"Status","text":"<p>DONE</p>"},{"location":"features/templates/titlepage_model/#summary","title":"Summary","text":"<p>Implement a model for <code>titlepage.html</code> and a factory to cover title page metadata, notes, and assets.</p>"},{"location":"features/templates/titlepage_model/#requirements","title":"Requirements","text":"<ul> <li>Capture title page fields (name, pn, authors, revisions, logos/notes) used by <code>titlepage.html</code>.</li> <li>Factory should generate variants with optional logo/notes/authors.</li> </ul>"},{"location":"features/templates/titlepage_model/#steps","title":"Steps","text":"<ul> <li>[x] Extract context keys from <code>titlepage.html</code>.</li> <li>[x] Define titlepage template model with defaults.</li> <li>[x] Add factory_boy factory with metadata/logo/note variations.</li> <li>[x] Add template tests using factory outputs.</li> </ul>"},{"location":"features/templates/titlepage_model/#progress-log","title":"Progress Log","text":"<p>2025-12-10: Created sub-feature for titlepage template model/factory. 2025-12-11: Added faker-backed page options factory and rendered child templates in tests.</p>"},{"location":"features/templates/titlepage_model/#sub-features","title":"Sub-Features","text":"<ul> <li>None</li> </ul>"},{"location":"features/templates/titlepage_model/#related-issues","title":"Related Issues","text":"<ul> <li>Parent: docs/features/templates/models.md</li> </ul>"},{"location":"features/termination/termination-outputs/","title":"Termination outputs","text":"<p>uid: FEAT-TERM-0001 status: BACKLOG priority: medium owner_role: FEATURE estimate: TBD dependencies: [] risk: medium milestone: backlog</p>"},{"location":"features/termination/termination-outputs/#termination-outputs","title":"Termination Outputs","text":""},{"location":"features/termination/termination-outputs/#status","title":"Status","text":"<p>PROPOSED</p>"},{"location":"features/termination/termination-outputs/#priority","title":"Priority","text":"<p>Medium</p>"},{"location":"features/termination/termination-outputs/#summary","title":"Summary","text":"<p>Generate termination outputs (CSV/TSV tables and HTML) showing pin/cavity assignments, terminals/seals, strip lengths, tooling, shield/backshell details, and labels/notes. Optional simple connector face diagram later.</p>"},{"location":"features/termination/termination-outputs/#motivation","title":"Motivation","text":"<p>Shop-floor and service teams need clear pin tables with prep/tooling to assemble and verify connectors.</p>"},{"location":"features/termination/termination-outputs/#affected-users-fields","title":"Affected Users / Fields","text":"<ul> <li>Harness manufacturing/QA</li> <li>Service/diagnostics</li> </ul>"},{"location":"features/termination/termination-outputs/#scope","title":"Scope","text":"<ul> <li>CSV/TSV export with one row per pin/cavity termination.</li> <li>HTML table output for human review; optional embedding alongside diagrams.</li> <li>Optional connector face diagram (future) showing pin numbering, matched to table.</li> </ul>"},{"location":"features/termination/termination-outputs/#out-of-scope","title":"Out of Scope","text":"<ul> <li>3D models; full schematic redraw.</li> </ul>"},{"location":"features/termination/termination-outputs/#requirements","title":"Requirements","text":"<ul> <li>Pull from <code>terminations</code> schema; include connector-level info (family/backshell/shield style).</li> <li>Columns for pin/cavity, wire ref/gauge/color, terminal/seal, strip length, tooling, shield prep, notes, labels.</li> <li>Optional alternates/pricing if mapped via part model; exclude by default.</li> <li>Robust to missing optional fields.</li> </ul>"},{"location":"features/termination/termination-outputs/#steps","title":"Steps","text":"<ul> <li>[ ] Implement exporter to CSV/TSV and HTML for termination tables.</li> <li>[ ] Add optional face diagram placeholder/hook (future); ensure pin numbering aligns with table.</li> <li>[ ] Add CLI flag/output option to generate termination files.</li> <li>[ ] Add examples and regression outputs for sealed connectors, shielded terminations, and splices.</li> </ul>"},{"location":"features/termination/termination-outputs/#progress-log","title":"Progress Log","text":"<ul> <li>PROPOSED \u2014 termination output generation.</li> </ul>"},{"location":"features/termination/termination-outputs/#validation","title":"Validation","text":"<ul> <li>Regression outputs for sample termination YAMLs; verify columns and optional fields; check pin numbering alignment if diagram hook added.</li> </ul>"},{"location":"features/termination/termination-outputs/#dependencies-risks","title":"Dependencies / Risks","text":"<ul> <li>Depends on termination schema; optional face diagram requires pin layout knowledge (could use existing connector pin/pinlabels).</li> </ul>"},{"location":"features/termination/termination-schema/","title":"Termination schema","text":"<p>uid: FEAT-TERM-0002 status: BACKLOG priority: medium owner_role: FEATURE estimate: TBD dependencies: [] risk: medium milestone: backlog</p>"},{"location":"features/termination/termination-schema/#termination-schema","title":"Termination Schema","text":""},{"location":"features/termination/termination-schema/#status","title":"Status","text":"<p>PROPOSED</p>"},{"location":"features/termination/termination-schema/#priority","title":"Priority","text":"<p>Medium</p>"},{"location":"features/termination/termination-schema/#summary","title":"Summary","text":"<p>Define an optional termination schema describing how wires/cables terminate into connectors/splices: pin/cavity assignments, terminals/seals, strip lengths, tooling, shield/backshell details, and labels/notes.</p>"},{"location":"features/termination/termination-schema/#motivation","title":"Motivation","text":"<p>Manufacturing and service need explicit pin tables with prep/tooling to assemble or repair connectors correctly.</p>"},{"location":"features/termination/termination-schema/#affected-users-fields","title":"Affected Users / Fields","text":"<ul> <li>Harness manufacturing/QA</li> <li>Service/diagnostics</li> </ul>"},{"location":"features/termination/termination-schema/#scope","title":"Scope","text":"<ul> <li>Termination entries tied to existing connectors/splices and wires/cables.</li> <li>Per-pin/cavity data: assigned wire/conductor, terminal/seal/plug parts, strip length, tooling, shield prep, notes.</li> <li>Optional backshell/boot info and labels near connector.</li> </ul>"},{"location":"features/termination/termination-schema/#out-of-scope","title":"Out of Scope","text":"<ul> <li>Cut lengths (handled by cut list).</li> <li>Detailed 3D models; heavy face diagrams (separate feature if needed).</li> </ul>"},{"location":"features/termination/termination-schema/#requirements","title":"Requirements","text":"<ul> <li>Optional top-level <code>terminations</code> block; ignore-safe when absent.</li> <li>References to connector/splice IDs and wire/cable/wire IDs.</li> <li>Fields per pin/cavity: <code>pin_id/label</code>, <code>wire_ref</code>, <code>wire_gauge/color</code>, <code>terminal_pn</code>, <code>seal_pn</code>, <code>strip_length</code>, <code>tool_crimp</code>, <code>tool_extract</code>, <code>shield_prep</code>, <code>note</code>.</li> <li>Connector-level: <code>family/type</code>, <code>backshell/boot_pn</code>, <code>shield_style</code>, <code>labels</code>, <code>process_ref</code>.</li> </ul>"},{"location":"features/termination/termination-schema/#steps","title":"Steps","text":"<ul> <li>[ ] Define YAML schema for <code>terminations</code> with per-connector/splice entries and per-pin rows.</li> <li>[ ] Document schema with examples (sealed connector, shielded cable to backshell, splice).</li> <li>[ ] Ensure parser ignores when absent; validate references when present.</li> </ul>"},{"location":"features/termination/termination-schema/#progress-log","title":"Progress Log","text":"<ul> <li>PROPOSED \u2014 termination schema definition.</li> </ul>"},{"location":"features/termination/termination-schema/#validation","title":"Validation","text":"<ul> <li>Regression YAML with terminations for connectors (terminals/seals/tooling) and a shield style; confirm parsing.</li> </ul>"},{"location":"features/termination/termination-schema/#dependencies-risks","title":"Dependencies / Risks","text":"<ul> <li>Must align with existing connector/cable identifiers; keep optional fields to avoid burdening simple designs.</li> </ul>"},{"location":"features/termination/termination-template/","title":"Termination template","text":"<p>uid: FEAT-TERM-0003 status: BACKLOG priority: medium owner_role: FEATURE estimate: TBD dependencies: [] risk: medium milestone: backlog</p>"},{"location":"features/termination/termination-template/#termination-template","title":"Termination Template","text":""},{"location":"features/termination/termination-template/#status","title":"Status","text":"<p>PROPOSED</p>"},{"location":"features/termination/termination-template/#priority","title":"Priority","text":"<p>Medium</p>"},{"location":"features/termination/termination-template/#summary","title":"Summary","text":"<p>Define a configurable template for termination outputs (CSV/TSV/HTML) to control column selection/order and formatting (units, strip length formatting, per-pin tooling visibility), while keeping required pin/cavity info consistent.</p>"},{"location":"features/termination/termination-template/#motivation","title":"Motivation","text":"<p>Manufacturing/QA often need specific column layouts and visibility (e.g., show seal/plug columns for sealed connectors, hide tooling when not used); service may want simplified views.</p>"},{"location":"features/termination/termination-template/#affected-users-fields","title":"Affected Users / Fields","text":"<ul> <li>Harness manufacturing/QA</li> <li>Service/diagnostics</li> </ul>"},{"location":"features/termination/termination-template/#scope","title":"Scope","text":"<ul> <li>Template config for columns/labels/order; unit/format options for strip lengths; optional columns toggles (seal, tool, shield prep, notes).</li> <li>HTML styling hooks (visibility, striping) and CSV/TSV column ordering.</li> </ul>"},{"location":"features/termination/termination-template/#out-of-scope","title":"Out of Scope","text":"<ul> <li>Connector face graphics (handled separately if added).</li> </ul>"},{"location":"features/termination/termination-template/#requirements","title":"Requirements","text":"<ul> <li>Default template with required columns: connector/splice id, pin/cavity, wire ref, terminal, strip length.</li> <li>Optional columns toggles: seal/plug, tool_crimp/tool_extract, shield_prep, backshell/boot, labels, notes/process refs, gauge/color.</li> <li>Unit formatting for strip lengths; allow hiding empty columns.</li> <li>Templates optional; fall back to default if none provided.</li> </ul>"},{"location":"features/termination/termination-template/#steps","title":"Steps","text":"<ul> <li>[ ] Define template config schema (columns list with keys/labels/format rules; unit formatting for strip lengths).</li> <li>[ ] Provide default templates (full vs compact) and allow overrides via CLI/config.</li> <li>[ ] Apply template in termination exporters (CSV/TSV/HTML).</li> <li>[ ] Document usage with examples.</li> <li>[ ] Add regression outputs showing default vs custom templates.</li> </ul>"},{"location":"features/termination/termination-template/#progress-log","title":"Progress Log","text":"<ul> <li>PROPOSED \u2014 template specification for termination outputs.</li> </ul>"},{"location":"features/termination/termination-template/#validation","title":"Validation","text":"<ul> <li>Regression outputs for sample termination data with default and custom templates; verify column order/visibility/formatting.</li> </ul>"},{"location":"features/termination/termination-template/#dependencies-risks","title":"Dependencies / Risks","text":"<ul> <li>Depends on termination schema and output generation; must handle missing optional fields cleanly.</li> </ul>"},{"location":"graphs/architecture/","title":"Filare Architecture (Mermaid)","text":"<pre><code>flowchart TD\n  subgraph Models\n    A1[models: metadata/options]\n    A2[models: connector/cable/component]\n    A3[models: bom/types]\n  end\n\n  subgraph Parser\n    P1[yaml_loader]\n    P2[harness_parser]\n  end\n\n  subgraph Flows\n    F1[build_harness]\n    F2[render_outputs]\n    F3[shared_bom]\n    F4[index_pages]\n  end\n\n  subgraph Render\n    R1[graphviz]\n    R2[\"output (HTML/PDF/assets)\"]\n    R3[\"templates/html_utils\"]\n  end\n\n  subgraph CLI\n    C1[cli]\n  end\n\n  Parser --&gt; Flows\n  Models --&gt; Flows\n  Flows --&gt; Render\n  Render --&gt; Outputs[\"SVG/HTML/TSV/PDF\"]\n  CLI --&gt; Parser\n  CLI --&gt; Flows</code></pre>"},{"location":"graphs/data_flow/","title":"Data Flow (Mermaid)","text":"<pre><code>flowchart LR\n  Y[\"YAML harness files\"] --&gt; P1[\"parser.yamlloader&lt;br/&gt;parse_concat_merge_files\"]\n  M[\"Metadata YAML\"] --&gt; P1\n  P1 --&gt; F1[\"flows.build_harness&lt;br/&gt;(metadata, options, notes)\"]\n  F1 --&gt;|Harness model| H[Harness]\n  F1 --&gt;|DocumentRepresentation YAML| D1[\"document.yaml + hashes\"]\n  H --&gt;|Graph| R1[\"render.graphviz&lt;br/&gt;(node/edge templates)\"]\n  H --&gt;|BOM| R2[\"render.output&lt;br/&gt;BOM render\"]\n  R1 --&gt; SVG[SVG]\n  R1 --&gt; PNG[PNG]\n  R2 --&gt; TSV[\"BOM TSV\"]\n  R2 --&gt; HTML[\"HTML&lt;br/&gt;(titleblock + diagram embed)\"]\n  subgraph Shared BOM\n    F3[flows.shared_bom] --&gt; S1[render.output.generate_shared_bom]\n    S1 --&gt; SharedTSV[shared_bom.tsv]\n  end\n  subgraph Titlepage/PDF\n    F4[flows.index_pages] --&gt; T1[render.output.generate_titlepage]\n    T1 --&gt; TitleHTML[titlepage.html]\n    F4 --&gt; PDF[pdf bundle]\n  end\n  HTML -.-&gt; PDF</code></pre>"},{"location":"graphs/document_flow/","title":"Document Representation Flow (Mermaid)","text":"<pre><code>flowchart TD\n  subgraph Input\n    Y[YAML harness files]\n    M[Metadata YAML]\n  end\n\n  subgraph Build\n    P1[parser.parse_concat_merge_files]\n    F1[flows.build_harness]\n    DR[DocumentRepresentation]\n    DH[document_hashes.yaml]\n  end\n\n  subgraph Render\n    R1[render_outputs]\n    OUT[SVG/PNG/HTML/TSV/PDF]\n  end\n\n  Y --&gt; P1\n  M --&gt; P1\n  P1 --&gt; F1\n  F1 --&gt;|Harness| R1\n  F1 --&gt; DR\n  DR --&gt; DH\n  R1 --&gt; OUT</code></pre> <p>Key points:</p> <ul> <li><code>DocumentRepresentation</code> captures metadata, page stubs, notes, BOM (if enabled), and options.</li> <li>Written to <code>*.document.yaml</code> with hash tracking in <code>document_hashes.yaml</code>; user edits are preserved (no overwrite if hash changes).</li> <li>Rendering still operates on the harness; the document YAML is a pre-render view for inspection or manual tweaking.</li> <li>If a matching <code>*.document.yaml</code> already exists, it is loaded to drive options/page selection and merged formats before rendering. A companion <code>document_hashes.yaml</code> controls overwrite/lock behavior.</li> </ul>"},{"location":"graphs/models/","title":"Key Models (Mermaid)","text":"<pre><code>classDiagram\n  class Metadata {\n    +title\n    +pn\n    +company\n    +address\n    +template\n    +authors\n    +revisions\n  }\n  class PageOptions {\n    +bgcolor\n    +template_separator\n    +connector_pages\n  }\n  class Harness {\n    +metadata\n    +options\n    +notes\n    +connectors\n    +cables\n    +shared_bom\n  }\n  class Connector {\n    +designator\n    +pincount\n    +pin_objects\n    +loops\n    +style\n  }\n  class Cable {\n    +designator\n    +wirecount\n    +wire_objects\n    +category\n  }\n  class Component {\n    +type\n    +subtype\n    +qty\n    +qty_multiplier\n  }\n  class BomEntry {\n    +qty\n    +partnumbers\n    +description\n    +per_harness\n  }\n\n  Harness --&gt; Metadata\n  Harness --&gt; PageOptions\n  Harness --&gt; Connector\n  Harness --&gt; Cable\n  Connector --&gt; Component\n  Cable --&gt; Component\n  Component --&gt; BomEntry</code></pre>"},{"location":"issues/","title":"Issues Index","text":"<p>uid: ISS-0018 status: BACKLOG priority: medium owner_role: REWORK estimate: TBD dependencies: [] risk: medium milestone: backlog</p> <p>This section tracks documented issues and follow-ups that need code or documentation changes. Each page should summarize the problem, provide evidence (logs, repro YAML, screenshots), and list proposed next steps or owners.</p> <p>Use these entries to drive backlog triage: confirm scope, decide whether the fix belongs to FEATURE/REWORK/BUG workstreams, and link relevant tests or examples once resolved.</p>"},{"location":"issues/#representative-issue-writeups","title":"Representative issue writeups","text":"<ul> <li>CLI help and defaults: CLI help defaults and examples and CLI subcommand discovery</li> <li>Error messaging: Loop and GraphViz errors, connection parsing errors, path/component validation</li> <li>Templates and pagination: Template approvals, template BOM procurement, title page pagination</li> <li>Quantity and workflow gaps: Filare-qty help context, quantity workflow integration</li> <li>Tooling and config: Log handling configuration, pyright gaps, external tool error handling</li> </ul>"},{"location":"issues/align-installation-instructions-with-uv/","title":"Align installation instructions with uv (RESOLVED)","text":"<p>uid: ISS-0001 status: DONE priority: medium owner_role: REWORK estimate: TBD dependencies: [] risk: medium milestone: backlog</p> <p>Installation guidance previously pointed to <code>pip</code>/<code>virtualenv</code> instead of the uv-first workflow used throughout the repo. This was updated in this PR to use uv consistently.</p>"},{"location":"issues/align-installation-instructions-with-uv/#category","title":"Category","text":"<p>DOCUMENTATION</p>"},{"location":"issues/align-installation-instructions-with-uv/#evidence","title":"Evidence","text":"<ul> <li>Prior to this PR, README.md:184-215 and docs/README.md:172-203 described <code>pip3 install</code>, <code>virtualenv</code>, and editable installs even though the repository standards require uv for environment management.</li> <li>README.md:144-147 used <code>python3 -m http.server</code> directly while other commands relied on <code>uv run</code>, leaving the quickstart inconsistent about when uv was required.</li> </ul>"},{"location":"issues/align-installation-instructions-with-uv/#resolution","title":"Resolution","text":"<ol> <li>Installation and development setup sections were rewritten to use <code>uv venv</code>/<code>uv sync</code> and <code>uv run</code> consistently, keeping <code>pip</code> only as an explicit fallback note if needed.</li> <li>Local docs build and usage snippets were updated to show the uv workflow end-to-end (including serving docs/tests) so new users do not mix package managers.</li> <li>A brief note was added about avoiding mixed <code>pip</code>/<code>uv</code> environments to prevent dependency drift.</li> </ol>"},{"location":"issues/backlog-header-normalization/","title":"Backlog header normalization","text":"<p>uid: ISS-0002 status: BACKLOG priority: medium owner_role: REWORK estimate: TBD dependencies: [] risk: medium milestone: backlog</p>"},{"location":"issues/backlog-header-normalization/#add-standard-headers-to-all-backlog-files","title":"Add standard headers to all backlog files","text":"<p>Category: TOOLS</p>"},{"location":"issues/backlog-header-normalization/#summary","title":"Summary","text":"<p>Apply the new planning header (uid, status, priority, owner_role, estimate, dependencies, risk, milestone) to every file in <code>docs/issues/</code> and <code>docs/features/</code> to make work items addressable in manifests, Taskwarrior, Mermaid, and timeline exports.</p>"},{"location":"issues/backlog-header-normalization/#evidence","title":"Evidence","text":"<ul> <li>Current backlog markdown lacks consistent metadata; only some items list Category or Status.</li> <li>Project-management research recommends immutable UIDs and normalized fields for automation and conflict avoidance.</li> </ul>"},{"location":"issues/backlog-header-normalization/#recommended-steps","title":"Recommended steps","text":"<ol> <li>Assign UIDs using the standard format (<code>ISS-&lt;4 digits&gt;</code> for issues, <code>FEAT-&lt;AREA&gt;-&lt;4 digits&gt;</code> for features) as documented in <code>docs/issues/header-template.md</code>.</li> <li>Sweep all backlog files to insert the header block with unique UIDs and normalized fields.</li> <li>Add a manifest entry for each item using the new UIDs to prepare for generator outputs.</li> <li>Update contributor guidance to require the header on new backlog items (add the scheme to AGENTS.md and any contributor docs).</li> </ol>"},{"location":"issues/backlog-header-normalization/#risksnotes","title":"Risks/notes","text":"<ul> <li>Needs careful UID assignment to avoid duplicates; consider a simple allocator or maintainer review gate.</li> <li>Some files may already contain partial metadata; ensure canonical values are chosen during the sweep.</li> </ul>"},{"location":"issues/bom-and-splice-correctness/","title":"BOM and splice correctness","text":"<p>uid: ISS-0200 status: BACKLOG priority: medium owner_role: FEATURE estimate: TBD dependencies: [] risk: medium milestone: backlog</p>"},{"location":"issues/bom-and-splice-correctness/#category","title":"Category","text":"<p>FIXER</p>"},{"location":"issues/bom-and-splice-correctness/#evidence","title":"Evidence","text":"<ul> <li>Loopback connections without explicit cables may miss length/gauge capture in the BOM.</li> <li>Splices involving differing gauges should surface in BOM output with guidance (e.g., \u201cnear connector\u201d) but aren\u2019t explicitly tracked.</li> <li>A cables overview summarizing runs and key attributes isn\u2019t documented separately.</li> </ul>"},{"location":"issues/bom-and-splice-correctness/#expected-outcome","title":"Expected Outcome","text":"<ul> <li>BOM includes loopback lengths/gauges when no explicit cable is defined.</li> <li>Splices involving differing gauges surface in BOM with location guidance.</li> <li>Cables overview section summarizes runs and key attributes.</li> </ul>"},{"location":"issues/bom-and-splice-correctness/#proposed-next-steps","title":"Proposed Next Steps","text":"<ol> <li>Identify current BOM behavior for loopbacks and gauge-mismatch splices; add regression YAML if missing.</li> <li>Implement/verify loopback length/gauge capture and splice inclusion with guidance text.</li> <li>Add cables overview output and document its structure.</li> <li>Add tests/regressions for loopback and splice cases; update docs/examples accordingly.</li> </ol>"},{"location":"issues/bom-html-empty/","title":"BOM tables empty in generated HTML/TSV","text":""},{"location":"issues/bom-html-empty/#category","title":"Category","text":"<p>BUG</p>"},{"location":"issues/bom-html-empty/#evidence","title":"Evidence","text":"<ul> <li>Running <code>source scripts/agent-setup.sh &gt;/dev/null &amp;&amp; uv run --no-sync python src/filare/tools/build_examples.py --output-dir /tmp/filare-bom-scan</code> completes but produces empty BOM tables for many harnesses.</li> <li>Example: <code>/tmp/filare-bom-scan/examples/ex10.bom.html</code> renders only the header row (<code>&lt;tr&gt;</code> count = 1) with no items; <code>/tmp/filare-bom-scan/examples/ex10.tsv</code> is likewise header-only.</li> <li>Quick scan shows 18 <code>.bom.html</code> files with a single <code>&lt;tr&gt;</code> (header-only), e.g. <code>examples/ex01.bom.html</code>, <code>examples/ex02.bom.html</code>, <code>examples/ex03.bom.html</code>, <code>examples/ex04.bom.html</code>, <code>examples/ex05.bom.html</code>, <code>examples/ex06.bom.html</code>, <code>examples/ex07.bom.html</code>, <code>examples/ex08.bom.html</code>, <code>examples/ex09.bom.html</code>, <code>examples/ex10.bom.html</code>, <code>examples/ex11.bom.html</code>, and several tutorial BOMs.</li> </ul>"},{"location":"issues/bom-html-empty/#hypotheses","title":"Hypotheses","text":"<ul> <li><code>BomContent.filter_entries</code> drops any entry without part numbers; most example connectors/cables omit part numbers, so every BOM entry is filtered out before rendering.</li> <li>HTML/TSV rendering paths use <code>BomRenderOptions(filter_entries=True)</code> by default (e.g., in <code>Harness.output</code> and titlepage rendering), so the aggressive filtering is always active.</li> <li>The CLI happily succeeds even when BOM tables are empty, so the issue can slip through unnoticed until someone inspects the HTML.</li> </ul>"},{"location":"issues/bom-html-empty/#plan","title":"Plan","text":"<ul> <li>Add a build-time sanity check in <code>build_examples.py</code> that fails when a generated HTML contains a <code>&lt;div id=\"bom\"&gt;</code> with no data rows (header-only), so the problem is caught early.</li> <li>Relax BOM filtering so entries without part numbers are still rendered (only drop zero-quantity rows), ensuring example BOMs populate even when P/N fields are absent.</li> <li>Rebuild examples/tutorials/demos and verify BOM tables and TSVs now contain rows; keep the new sanity check passing.</li> </ul>"},{"location":"issues/bom-html-empty/#status","title":"Status","text":"<ul> <li>Resolved locally: BOM filtering now keeps entries without part numbers, and <code>build_examples.py</code> fails fast if any BOM HTML renders header-only. Examples/tutorials/demos rebuilt successfully with populated BOM tables.</li> </ul>"},{"location":"issues/build-examples-typeerror-cut-table/","title":"<code>just build-examples</code> fails on cut table generation","text":"<p>uid: ISS-0003 status: BACKLOG priority: medium owner_role: REWORK estimate: TBD dependencies: [] risk: medium milestone: backlog</p>"},{"location":"issues/build-examples-typeerror-cut-table/#category","title":"Category","text":"<p>BUG</p>"},{"location":"issues/build-examples-typeerror-cut-table/#evidence","title":"Evidence","text":"<ul> <li>Running <code>source scripts/agent-setup.sh &gt;/dev/null &amp;&amp; just build-examples</code> aborts on the first example (<code>examples/all-document/all-h1.yml</code>) with <code>TypeError: can only concatenate str (not \"int\") to str</code>.</li> <li>Repro via <code>source scripts/agent-setup.sh &gt;/dev/null &amp;&amp; uv run filare run examples/all-document/all-h1.yml -d examples/all-document/metadata.yml -f ghpstb -o examples</code> shows the failure originates in <code>_build_cut_table</code> (<code>src/filare/models/harness.py</code>), at <code>{\"wire\": f\"{cable.designator}-{idx + 1}\", ...}</code>.</li> <li>The cut-table builder iterates <code>cable.wire_objects</code>, whose keys include the shield id <code>'s'</code>; adding <code>1</code> to <code>'s'</code> raises the TypeError.</li> </ul>"},{"location":"issues/build-examples-typeerror-cut-table/#hypothesis","title":"Hypothesis","text":"<ul> <li>Cut table generation assumes all wire ids are numeric, but shield ids are strings (<code>\"s\"</code>). When options enable <code>include_cut_diagram</code> (true for <code>ex01</code>), the shield entry triggers <code>idx + 1</code> with a string id, crashing the run and stopping the examples build.</li> </ul>"},{"location":"issues/build-examples-typeerror-cut-table/#steps-taken","title":"Steps Taken","text":"<ul> <li>Reproduced with <code>just build-examples</code> and <code>uv run filare run examples/all-document/all-h1.yml -d examples/all-document/metadata.yml -f ghpstb -o examples</code>.</li> <li>Traced the stack to <code>_build_cut_table</code> (<code>src/filare/models/harness.py</code>) where <code>idx + 1</code> is evaluated on a shield id <code>\"s\"</code>.</li> <li>Implemented a guard that formats wire suffixes by coercing numeric ids to int and leaving non-numeric ids as-is.</li> <li>Added regression coverage for shielded cables with cut diagrams (<code>tests/models/test_harness_unit.py::test_build_cut_table_handles_shield_id</code>).</li> </ul>"},{"location":"issues/build-examples-typeerror-cut-table/#fix-summary","title":"Fix Summary","text":"<ul> <li><code>src/filare/models/harness.py</code>: avoid adding integers to non-numeric wire ids when building cut-table labels (handles shield <code>\"s\"</code> ids).</li> <li><code>tests/models/test_harness_unit.py</code>: regression test to ensure shield wires render without raising and keep a sensible <code>-s</code> suffix.</li> </ul>"},{"location":"issues/build-examples-typeerror-cut-table/#suggested-next-steps","title":"Suggested Next Steps","text":"<ul> <li>None; fix and regression test in place.</li> </ul>"},{"location":"issues/ci-build-examples-group-invalid/","title":"CI workflow calls build_examples with invalid group","text":"<p>uid: ISS-0215 status: IN_PROGRESS priority: high owner_role: FIXER estimate: TBD dependencies: [] risk: medium milestone: backlog</p>"},{"location":"issues/ci-build-examples-group-invalid/#category","title":"Category","text":"<p>BUG</p>"},{"location":"issues/ci-build-examples-group-invalid/#evidence","title":"Evidence","text":"<ul> <li>PR https://github.com/laurierloi/filare/pull/80 fails in CI when invoking <code>build_examples.py -g examples</code>.</li> <li>Local repro: <code>source scripts/agent-setup.sh &gt;/dev/null &amp;&amp; uv run --no-sync python src/filare/tools/build_examples.py -g examples</code> exits with <code>argument -g/--groups: invalid choice: 'examples'</code> and lists the allowed groups (<code>basic</code>, <code>minimal-document</code>, <code>document-cut</code>, <code>document-termination</code>, <code>multi-page</code>, <code>all-document</code>, <code>tutorial</code>).</li> </ul>"},{"location":"issues/ci-build-examples-group-invalid/#expected-behavior","title":"Expected Behavior","text":"<ul> <li>CI should call <code>build_examples.py</code> with supported groups (or omit <code>-g</code>) so example builds complete.</li> </ul>"},{"location":"issues/ci-build-examples-group-invalid/#actual-behavior","title":"Actual Behavior","text":"<ul> <li>CI passes <code>-g examples</code>, which is not a valid group name, causing argument parsing to fail before any examples are built.</li> </ul>"},{"location":"issues/ci-build-examples-group-invalid/#impact","title":"Impact","text":"<ul> <li>The workflow step fails immediately, blocking PR validation and preventing example outputs from being regenerated.</li> </ul>"},{"location":"issues/ci-build-examples-group-invalid/#hypotheses","title":"Hypotheses","text":"<p>Hypothesis A The GitHub Actions workflow hardcodes <code>-g examples</code>, a legacy/wrong group name.</p> <p>How to investigate:</p> <ul> <li>Inspect <code>.github/workflows</code> for <code>build_examples.py -g</code> usage and confirm arguments.</li> </ul> <p>Investigation results:</p> <ul> <li><code>.github/workflows/ci.yml</code> calls <code>uv run python src/filare/tools/build_examples.py --output-dir outputs --group examples</code> and <code>--group demos</code>; <code>examples</code> is invalid, and <code>demos</code> was not defined in the script until added in this fix.</li> </ul> <p>Is it relevant?</p> <ul> <li>Yes; the invalid arguments are exactly what argparse rejects in CI.</li> </ul> <p>Does it fix?</p> <ul> <li>Yes; updated the workflow to call <code>build_examples.py</code> with supported groups (basic, minimal-document, document-cut, document-termination, multi-page, all-document) and write to <code>outputs/examples</code>, removing the invalid <code>demos</code> step.</li> </ul> <p>Are there side effects?</p> <ul> <li>Low: examples now land under <code>outputs/examples/&lt;group&gt;</code> (still under <code>outputs/</code>), aligning with the docs sync step.</li> </ul> <p>Should another issue be created from this?</p> <ul> <li>No.</li> </ul>"},{"location":"issues/ci-build-examples-group-invalid/#resolution","title":"Resolution","text":"<ul> <li>Root cause: CI workflow invoked <code>build_examples.py</code> with unsupported groups (<code>examples</code>, <code>demos</code>), causing argparse validation failure.</li> <li>Fix: Updated <code>.github/workflows/ci.yml</code> to build valid groups (basic, minimal-document, document-cut, document-termination, multi-page, all-document) into <code>outputs/examples</code>, with one step per group; kept tutorial build separate and removed the invalid <code>demos</code> step.</li> <li>Added <code>demos</code> as a supported group in <code>src/filare/tools/build_examples.py</code> (covers <code>examples/demo01.yml</code> and <code>examples/demo02.yml</code>) and restored a CI step to build it.</li> <li>Status: Workflow commands use only supported group keys; CI should proceed past the example build stage.</li> </ul> <p>Hypothesis B <code>Justfile</code> or local helper scripts feed <code>-g examples</code> into CI, so the workflow inherits the invalid argument from a shared recipe.</p> <p>How to investigate:</p> <ul> <li>Check <code>Justfile</code> and any invoked scripts (<code>scripts/*.sh</code>) used by the CI job for build_examples arguments.</li> </ul> <p>Investigation results:</p> <ul> <li>No <code>Justfile</code> is present; no other scripts currently feed <code>-g examples</code> into CI. The bad arguments are only in <code>.github/workflows/ci.yml</code>.</li> </ul> <p>Is it relevant?</p> <ul> <li>No direct action needed beyond fixing the workflow.</li> </ul> <p>Does it fix?</p> <ul> <li>No; confirming the source only.</li> </ul> <p>Are there side effects?</p> <ul> <li>None.</li> </ul> <p>Should another issue be created from this?</p> <ul> <li>No.</li> </ul> <p>Hypothesis C Group definitions in <code>build_examples.py</code> changed recently, and CI is still using an outdated group alias (<code>examples</code>) that should be mapped or removed.</p> <p>How to investigate:</p> <ul> <li>Review <code>src/filare/tools/build_examples.py</code> group definitions and git history to see if <code>examples</code> used to be valid and whether a compatibility alias is needed.</li> </ul> <p>Investigation results:</p> <ul> <li><code>src/filare/tools/build_examples.py</code> defines groups: basic, minimal-document, document-cut, document-termination, multi-page, all-document, tutorial. No alias for <code>examples</code>/<code>demos</code> exists.</li> </ul> <p>Is it relevant?</p> <ul> <li>Yes; confirms CI must use these keys (or omit <code>--groups</code> to run all).</li> </ul> <p>Does it fix?</p> <ul> <li>No change needed in the script; fix belongs in workflow arguments.</li> </ul> <p>Are there side effects?</p> <ul> <li>None.</li> </ul> <p>Should another issue be created from this?</p> <ul> <li>No.</li> </ul>"},{"location":"issues/clarify-connector-loops-docs/","title":"Clarify connector loop syntax and examples (Resolved)","text":"<p>uid: ISS-0004 status: BACKLOG priority: medium owner_role: REWORK estimate: TBD dependencies: [] risk: medium milestone: backlog</p> <p>The connector <code>loops</code> documentation was previously mis-indented, missing accepted keys, and lacked a working YAML example.</p>"},{"location":"issues/clarify-connector-loops-docs/#category","title":"Category","text":"<p>DOCUMENTATION</p>"},{"location":"issues/clarify-connector-loops-docs/#evidence","title":"Evidence","text":"<ul> <li>Prior to PR #, docs/syntax.md:84-91 showed the <code>loops</code> section with mis-indented YAML and no example; the keys were unclear and omitted optional fields like <code>color</code> and supported tuple shorthand. <li>The previous text did not explain how <code>side</code> and <code>show_label</code> affect rendering or how loops interact with connector pin activation, leaving users to guess the proper structure.</li>"},{"location":"issues/clarify-connector-loops-docs/#resolution","title":"Resolution","text":"<p>The documentation was updated in PR # (docs/syntax.md lines 85-104) to clarify the <code>loops</code> subsection, provide a clean YAML snippet listing accepted keys (<code>first</code>, <code>second</code>, <code>side</code>, <code>show_label</code>, <code>color</code>), note the tuple shorthand, and add a minimal example. Rendering constraints and links to test/example harnesses were also added as appropriate."},{"location":"issues/clarify-connector-loops-docs/#status","title":"Status","text":"<p>Resolved</p>"},{"location":"issues/cli-help-defaults-and-examples/","title":"Clarify filare help defaults and add examples","text":"<p>uid: ISS-0005 status: BACKLOG priority: medium owner_role: REWORK estimate: TBD dependencies: [] risk: medium milestone: backlog</p>"},{"location":"issues/cli-help-defaults-and-examples/#category","title":"Category","text":"<p>UI</p>"},{"location":"issues/cli-help-defaults-and-examples/#evidence","title":"Evidence","text":"<ul> <li><code>filare --help</code> shows <code>-f, --formats</code> defaulting to <code>hpst</code> but does not expand the letters beside the option; the expansion is only in the epilog and mixes case (<code>p</code> vs <code>P</code>).</li> <li>Output directory default (first input file\u2019s folder) is not stated; users cannot predict where PNG/HTML land.</li> <li>Multiplier options (<code>--use-qty-multipliers</code>, <code>--multiplier-file-name</code>) do not show defaults or when the file is created/read.</li> <li>There are no example invocations, so new users must guess how to combine flags.</li> </ul>"},{"location":"issues/cli-help-defaults-and-examples/#user-impact","title":"User Impact","text":"<p>Persona A/D copy-paste nothing from the help, leading to trial-and-error with formats and output paths; Persona B cannot rely on deterministic defaults for automation; Persona C lacks predictable behavior for CI setups.</p>"},{"location":"issues/cli-help-defaults-and-examples/#suggested-next-steps","title":"Suggested Next Steps","text":"<ul> <li>Expand <code>hpst</code> inline and add a short table of format codes.</li> <li>Show default output directory and default multiplier file name in the option text.</li> <li>Add a \u201cCommon commands\u201d block (basic render, custom output name/dir, with and without multipliers).</li> <li>Mention multi-file ordering (sorted) and that <code>-c/-d</code> accept multiple inputs merged in order.</li> </ul>"},{"location":"issues/cli-subcommand-discovery/","title":"Make Filare CLI subcommands discoverable and cohesive","text":"<p>uid: ISS-0006 status: BACKLOG priority: medium owner_role: REWORK estimate: TBD dependencies: [] risk: medium milestone: backlog</p>"},{"location":"issues/cli-subcommand-discovery/#category","title":"Category","text":"<p>UI</p>"},{"location":"issues/cli-subcommand-discovery/#evidence","title":"Evidence","text":"<ul> <li><code>filare --help</code> never mentions <code>filare-qty</code>; users cannot see that quantity prep exists or when to run it.</li> <li>There is no <code>filare qty</code> subcommand/alias; instead there are two executables, so the relationship between rendering and multiplier prep is hidden.</li> <li>Short flag <code>-f</code> means formats in <code>filare</code> and force in <code>filare-qty</code>, breaking cross-command expectations.</li> <li>Default multiplier filename/location and workflow order (run <code>filare-qty</code> before <code>filare -u</code>) are not visible in either help.</li> </ul>"},{"location":"issues/cli-subcommand-discovery/#user-impact","title":"User Impact","text":"<p>Persona A/D miss BOM scaling entirely; Persona B/C cannot script reliably because commands feel unrelated and flags conflict; extra time is spent rediscovering defaults and wiring commands together.</p>"},{"location":"issues/cli-subcommand-discovery/#suggested-next-steps","title":"Suggested Next Steps","text":"<ul> <li>Add a <code>filare qty</code> subcommand or at least cross-link <code>filare-qty</code> from <code>filare --help</code> with a one-line description and default file name.</li> <li>Provide a command list section in help describing each command/task and the expected order (quantity prep then render with <code>-u</code>).</li> <li>Resolve or document the <code>-f</code> flag conflict and surface default multiplier filename/output dir in both helps.</li> </ul>"},{"location":"issues/color-and-part-validation-error-messages/","title":"Clarify color and component validation errors","text":"<p>uid: ISS-0007 status: BACKLOG priority: medium owner_role: REWORK estimate: TBD dependencies: [] risk: medium milestone: backlog</p>"},{"location":"issues/color-and-part-validation-error-messages/#category","title":"Category","text":"<p>REWORK</p>"},{"location":"issues/color-and-part-validation-error-messages/#evidence","title":"Evidence","text":"<ul> <li><code>src/filare/models/dataclasses.py:794</code> raises <code>Exception(\"Unknown color code\")</code> with no mention of the input value, designator, or accepted codes.</li> <li><code>dataclasses.py:806-814</code> raise generic <code>Exception</code> strings when additional component lists mismatch wirecount or are used on bundles, without pointing to the cable ID or the list length mismatch.</li> <li><code>dataclasses.py:639</code> raises <code>ValueError(f\"Failed to find a color for property: {self}\")</code> which prints an object repr instead of the specific missing field.</li> </ul>"},{"location":"issues/color-and-part-validation-error-messages/#suggested-next-steps","title":"Suggested Next Steps","text":"<ol> <li>Replace generic <code>Exception</code> with <code>ValueError</code> and include designator and offending value, e.g., <code>cable W1: color code 'PR' is not in ['BK','RD',...]</code>.</li> <li>For component list length checks, report the expected vs. actual counts and the field name: <code>cable W1 additional_components lengths (2) must match wirecount 4</code>.</li> <li>Add a regression test YAML that triggers each path (invalid color code, mismatched additional component list) and asserts the improved message text without changing behavior.</li> </ol>"},{"location":"issues/colors-macro-duplicate-texture/","title":"Note when color palette wraps in colors_macro","text":"<p>uid: ISS-0101 status: BACKLOG priority: medium owner_role: FEATURE estimate: TBD dependencies: [] risk: medium milestone: backlog</p> <p>When a color code palette is shorter than the requested legend color count, the generated legend repeats colors. The <code>colors_macro.html</code> template currently gives no user-facing indication of these duplicate entries. Add a small note or legend annotation when colors wrap, and consider adding textures/patterns to distinguish duplicates for accessibility. This likely involves extending the template macros to detect repeated colors and render an indicator, and possibly adding texture assets or CSS patterns.</p>"},{"location":"issues/component-factory-template-component/","title":"Issue: Add FakeComponentFactory and TemplateComponent derivation helper","text":"<p>uid: ISS-0102 status: BACKLOG priority: medium owner_role: FEATURE estimate: 1d dependencies: [] risk: medium milestone: templates-models</p>"},{"location":"issues/component-factory-template-component/#summary","title":"Summary","text":"<p>Add a faker-backed <code>FakeComponentFactory</code> in <code>src/filare/models/component.py</code> to generate realistic ComponentModel instances, plus a helper to derive the TemplateComponent used by <code>component_table.html</code> from it. This would reduce duplication across template factories and keep template payloads aligned with the core component model.</p>"},{"location":"issues/component-factory-template-component/#requirements","title":"Requirements","text":"<ul> <li>Implement a <code>FakeComponentFactory</code> alongside ComponentModel in <code>component.py</code>, producing populated fields (designators, partnumbers, notes, additional_components, etc.).</li> <li>Provide a conversion/helper to derive the <code>TemplateComponent</code> used in <code>component_table_template_model</code> directly from a generated ComponentModel.</li> <li>Keep factory parameters configurable (e.g., partnumber count, notes/images toggles).</li> </ul>"},{"location":"issues/component-factory-template-component/#related","title":"Related","text":"<ul> <li>src/filare/models/component.py</li> <li>src/filare/models/templates/component_table_template_model.py</li> <li>tests/templates/test_component_table_template_model.py</li> </ul>"},{"location":"issues/component-table-tests/","title":"Issue: Strengthen component_table template tests","text":"<p>uid: ISS-0203 status: BACKLOG priority: medium owner_role: FEATURE estimate: 1d dependencies: [] risk: medium milestone: templates-models</p>"},{"location":"issues/component-table-tests/#status","title":"Status","text":"<p>BACKLOG</p>"},{"location":"issues/component-table-tests/#summary","title":"Summary","text":"<p>Current component_table template tests only assert the presence of designators because the template rendering doesn\u2019t surface row descriptions directly. Improve the tests (and, if needed, the template/model payload) so descriptions/notes are validated explicitly.</p>"},{"location":"issues/component-table-tests/#requirements","title":"Requirements","text":"<ul> <li>Investigate why descriptions are not present in rendered component_table output.</li> <li>Update the model/test setup or the template to ensure row descriptions are rendered.</li> <li>Tighten assertions to check descriptions (and notes) instead of only designators.</li> </ul>"},{"location":"issues/component-table-tests/#progress-log","title":"Progress Log","text":"<p>2025-12-11: Filed issue after loosening assertions to designators in component_table tests.</p>"},{"location":"issues/component-table-tests/#related","title":"Related","text":"<ul> <li>tests/templates/test_component_table_template_model.py</li> <li>docs/features/templates/component_table_model.md</li> </ul>"},{"location":"issues/component-table-varied-partnumbers/","title":"Issue: Refine component_table template for varied partnumbers","text":"<p>uid: ISS-0103 status: BACKLOG priority: medium owner_role: FEATURE estimate: 1d dependencies: [] risk: medium milestone: templates-models</p>"},{"location":"issues/component-table-varied-partnumbers/#summary","title":"Summary","text":"<p>The component_table template currently assumes shared/duplicate partnumber fields when rendering lists. This can hide valid cases where partnumbers differ per entry. Refine the template/model/tests so varied partnumbers render gracefully without forcing duplication.</p>"},{"location":"issues/component-table-varied-partnumbers/#requirements","title":"Requirements","text":"<ul> <li>Allow non-duplicated partnumbers to render in component_table.html.</li> <li>Adjust the model/factory and tests to cover varied partnumber lists (distinct manufacturers/PN/MPN/etc.).</li> <li>Ensure shared-field optimization (keep_only_shared) still works but doesn\u2019t block varied displays.</li> </ul>"},{"location":"issues/component-table-varied-partnumbers/#related","title":"Related","text":"<ul> <li>src/filare/models/templates/component_table_template_model.py</li> <li>tests/templates/test_component_table_template_model.py</li> </ul>"},{"location":"issues/connection-parsing-error-messages/","title":"Clarify connection parsing errors","text":"<p>uid: ISS-0008 status: BACKLOG priority: medium owner_role: REWORK estimate: TBD dependencies: [] risk: medium milestone: backlog</p>"},{"location":"issues/connection-parsing-error-messages/#category","title":"Category","text":"<p>REWORK</p>"},{"location":"issues/connection-parsing-error-messages/#evidence","title":"Evidence","text":"<ul> <li><code>src/filare/flows/build_harness.py:203</code> raises <code>Exception(f\\\"{inp} - Found more than one separator ({separator})\\\")</code> without pointing to the specific connection entry or designator.</li> <li><code>build_harness.py:215</code> raises <code>Exception(f\\\"{inp} - Found unexpected characters, e.g. more than one separator\\\")</code> with no indication of which connection set failed.</li> <li><code>build_harness.py:237</code> raises <code>ValueError(\\\"No connection count found in connection set\\\")</code> without quoting the offending YAML snippet.</li> <li>Template checks (<code>build_harness.py:379</code>) emit <code>Exception(f\\\"{template} is an unknown template/designator\\\")</code> but do not list the available templates or the connection index.</li> </ul>"},{"location":"issues/connection-parsing-error-messages/#suggested-next-steps","title":"Suggested Next Steps","text":"<ol> <li>Include connection index and the offending connection entry in errors, e.g., <code>connections[2]: entry 'X1:1-2-3' has multiple separators '-'</code>.</li> <li>Replace bare <code>Exception</code> with <code>ValueError</code> and ensure messages are single-line, actionable strings.</li> <li>For unknown templates, suggest valid options: <code>Unknown template/designator 'ABC' (known: X1, W1, templates: ['CONN_A', 'CABLE_A'])</code>.</li> <li>Add a regression test that feeds malformed <code>connections</code> into <code>build_harness_from_files</code> and asserts the improved message content (do not change parsing behavior).</li> </ol>"},{"location":"issues/connector-pin-label-none/","title":"Hide <code>None</code> labels for unlabeled pins","text":"<p>uid: ISS-0009 status: BACKLOG priority: medium owner_role: REWORK estimate: TBD dependencies: [] risk: medium milestone: backlog</p>"},{"location":"issues/connector-pin-label-none/#category","title":"Category","text":"<p>FIXER</p>"},{"location":"issues/connector-pin-label-none/#evidence","title":"Evidence","text":"<ul> <li>Running <code>uv run filare run examples/basic/basic01.yml -f hs -o outputs/tmp-basic01</code> (with an existing output dir) shows unlabeled pins rendered with the literal <code>None</code> in the connector table when <code>pinlabels</code> are omitted.</li> <li>In <code>src/filare/models/dataclasses.py:372-386</code>, missing <code>pinlabels</code> leave <code>PinClass.label</code> as <code>None</code>.</li> <li>The Graphviz template <code>src/filare/templates/connector.html:21-23</code> renders <code>{{ pin.label }}</code> directly, so <code>None</code> is printed when no label is present.</li> </ul>"},{"location":"issues/connector-pin-label-none/#expected-behavior","title":"Expected Behavior","text":"<p>Unlabeled pins should display only their pin numbers; no literal <code>None</code> should appear in the diagram. When no label exists, the pin number should take the full row width where the label would normally appear.</p>"},{"location":"issues/connector-pin-label-none/#actual-behavior","title":"Actual Behavior","text":"<p>Graphviz connector tables display <code>None</code> in the label column for pins without labels.</p>"},{"location":"issues/connector-pin-label-none/#impact","title":"Impact","text":"<p>Diagrams for connectors without pin names look broken/confusing; users think the tool is exposing internal <code>None</code> values.</p>"},{"location":"issues/connector-pin-label-none/#hypotheses","title":"Hypotheses","text":"<p>Hypothesis A Template renders <code>pin.label</code> directly; when it is <code>None</code>, Jinja prints <code>None</code>.</p> <p>How to investigate: Inspect <code>src/filare/templates/connector.html</code> and render a connector with unlabeled pins to confirm the literal <code>None</code> text appears.</p> <p>Investigation results: <code>connector.html</code> line 21-23 renders <code>{{ pin.label }}</code> with a fixed colspan, so falsy/None values are emitted verbatim. Rendering connectors without <code>pinlabels</code> would surface the literal <code>None</code>.</p> <p>Is it relevant? Yes\u2014root cause for the <code>None</code> text.</p> <p>Does it fix? No by itself, but changing the template to guard <code>pin.label</code> fixes the rendering.</p> <p>Are there side effects? Minimal; template change only affects unlabeled pins.</p> <p>Should another issue be created from this? No.</p> <p>Hypothesis B <code>PinClass</code> initialization stores <code>label=None</code> instead of an empty string, so downstream renderers don\u2019t have a safe default.</p> <p>How to investigate: Trace <code>PinClass</code> creation in <code>src/filare/models/dataclasses.py</code> for connectors without <code>pinlabels</code>; confirm resulting <code>label</code> field and any fallback logic.</p> <p>Investigation results: <code>PinClass</code> is built at <code>dataclasses.py:372-386</code>; <code>label=str(pin_label) if pin_label is not None else None</code> leaves <code>label=None</code> when no label is provided. There is no fallback to pin id in the rendering path.</p> <p>Is it relevant? Yes\u2014it feeds the template with <code>None</code>.</p> <p>Does it fix? Not alone; needs either normalization to empty string or template fallback; opting for template fallback.</p> <p>Are there side effects? Changing the stored label could alter other label-dependent flows; safer to handle in template for display.</p> <p>Should another issue be created from this? No.</p> <p>Hypothesis C Graph rendering expects label cells even when labels are absent; the template may need to widen the pin-number cell (colspan) when labels are missing to avoid empty/None columns.</p> <p>How to investigate: Review how connector rows are structured in the template (ports + label + color cells) and experiment with conditional colspan adjustments when <code>pin.label</code> is falsy.</p> <p>Investigation results: Connector rows allocate a two-column label area (<code>colspan=\"2\"</code>) regardless of whether a label exists. Without a label, those columns show <code>None</code>/blank. Adjusting colspan and content to use <code>pin.id</code> when <code>pin.label</code> is falsy will meet the \u201cpin number takes all columns\u201d requirement.</p> <p>Is it relevant? Yes\u2014ties directly to the requested layout change.</p> <p>Does it fix? Yes, with a template conditional to swap label text for pin number and adjust colspan.</p> <p>Are there side effects? Low risk; keeps column structure consistent while improving unlabeled pins.</p> <p>Should another issue be created from this? No.</p>"},{"location":"issues/connector-pin-label-none/#resolution","title":"Resolution","text":"<ul> <li>Implemented template fallback: when <code>pin.label</code> is falsy, the connector row now spans the label/color columns with the pin number instead of printing <code>None</code>.</li> <li>Added regression test <code>tests/render/test_graphviz_smoke.py::test_connector_template_uses_pin_number_when_label_missing</code> to assert unlabeled pins omit <code>None</code> and render the pin number across the row.</li> </ul> <p>Tests:</p> <ul> <li><code>PYTHONPATH=src uv run pytest tests/render/test_graphviz_smoke.py</code></li> </ul>"},{"location":"issues/create-fake-factories-for-models/","title":"Issue: Create Fake Factories for Models","text":"<p>uid: ISS-0205 status: BACKLOG priority: medium owner_role: FEATURE estimate: 3d dependencies: [] risk: medium milestone: backlog</p>"},{"location":"issues/create-fake-factories-for-models/#status","title":"Status","text":"<p>BACKLOG</p>"},{"location":"issues/create-fake-factories-for-models/#summary","title":"Summary","text":"<p>Add faker-backed factory classes for every model in <code>src/filare/models/</code> so tests can generate realistic, varied data without hard-coded literals. Ensure tests are updated to consume these factories rather than constructing models manually.</p>"},{"location":"issues/create-fake-factories-for-models/#requirements","title":"Requirements","text":"<ul> <li>Add a <code>Fake&lt;MODEL&gt;Factory</code> per model module under <code>src/filare/models/</code>, colocated with the model definitions.</li> <li>Factories should supply sensible defaults using <code>faker</code> and allow overrides for specific fields.</li> <li>Update existing tests to build model instances via the new factories.</li> <li>Keep factories out of runtime paths (testing/fixtures only).</li> </ul>"},{"location":"issues/create-fake-factories-for-models/#steps","title":"Steps","text":"<ul> <li>[ ] Inventory all models under <code>src/filare/models/</code> and note missing faker factories.</li> <li>[ ] Implement faker factories per model module with override support.</li> <li>[ ] Refactor tests to use factories instead of inline model construction.</li> <li>[ ] Add targeted <code>just test-specific</code> notes/recipes where helpful.</li> <li>[ ] Close this issue once all models and tests are covered.</li> </ul>"},{"location":"issues/create-fake-factories-for-models/#progress-log","title":"Progress Log","text":"<p>2025-12-11: Filed issue to track faker factory coverage for all <code>src/filare/models/</code> modules and test adoption.</p>"},{"location":"issues/create-fake-factories-for-models/#related","title":"Related","text":"<ul> <li>docs/features/templates/models.md (faker-backed template factories)</li> <li>tests/templates/test_additional_components_model.py</li> </ul>"},{"location":"issues/dataclass-migration-plan/","title":"Dataclass migration plan for Connector/Cable/Wire","text":"<p>uid: ISS-0010 status: BACKLOG priority: medium owner_role: REWORK estimate: TBD dependencies: [] risk: medium milestone: backlog</p> <p>Category: REWORK</p>"},{"location":"issues/dataclass-migration-plan/#summary","title":"Summary","text":"<p>Gradually migrate remaining dataclass-heavy models (Connector, Cable, WireClass/ShieldClass, Connection/Loop wiring flows) to Pydantic BaseModels while keeping legacy imports stable.</p>"},{"location":"issues/dataclass-migration-plan/#evidence","title":"Evidence","text":"<ul> <li>Dataclass usage in <code>src/filare/models/dataclasses.py</code> underpins connectors/cables/wires and connection wiring; it couples rendering/flows to mutable objects and complicates validation.</li> <li>Recent primitives extraction and Pydantic models (Component/Cable/Connector/etc.) exist, but wiring objects (Pin/Loop/Connection) still rely solely on dataclasses.</li> <li>Tests still import dataclasses directly for enums/constants and wiring objects, indicating ongoing coupling.</li> </ul>"},{"location":"issues/dataclass-migration-plan/#recommended-steps","title":"Recommended steps","text":"<ol> <li>Introduce Pydantic models for Connector/Cable wiring that leverage the new Pin/Loop/Connection adapters; ensure parity converters to/from dataclasses.</li> <li>Update flows (<code>build_harness</code>, renderer helpers) to accept Pydantic wiring models while preserving legacy dataclass usage until full switch.</li> <li>Sweep tests to consume Pydantic adapters where possible; add regression coverage for connection/wire creation and BOM quantities.</li> <li>Deprecate direct dataclass imports in a staged manner (module-level shims) once consumers are migrated; then remove <code>models/dataclasses.py</code> or gate it behind compatibility layer.</li> </ol>"},{"location":"issues/dataclass-migration-plan/#risksnotes","title":"Risks/notes","text":"<ul> <li>Rendering code expects dataclass-specific attributes/mutability; adapters must retain behavior during transition.</li> <li>Graphviz output relies on pin activation side effects; ensure Pydantic-backed objects preserve those semantics or provide compatibility wrappers.</li> <li>Legacy YAML parsing might construct dataclasses implicitly; migration must keep backward compatibility paths until schemas are confirmed stable.</li> </ul>"},{"location":"issues/dataclass-migration-plan/#upcoming-steps-for-the-next-slice","title":"Upcoming steps for the next slice","text":"<ol> <li>Sweep remaining direct dataclass imports (<code>connections.py</code>, <code>wire.py</code>, <code>graphviz.py</code>, <code>models/__init__.py</code>) and replace them with model-first shims plus lazy dataclass fallbacks where compatibility requires.</li> <li>Thread connector/cable/wire models through harness/build_harness and renderer helpers so model inputs are normalized before touching dataclasses; add regression coverage for loop normalization and model-based adders.</li> <li>Once shims are in place, narrow <code>models/__init__.py</code> dataclass exports and document the compatibility layer to guide downstream consumers.</li> </ol>"},{"location":"issues/dataclass-migration-plan/#progress-2025-12-10","title":"Progress 2025-12-10","text":"<ul> <li>Color helpers: migrated <code>MultiColor</code> to a Pydantic model and kept legacy iteration/formatting semantics; validated usage surfaces for connectors/cables/render.</li> <li>Wiring shims: added <code>WireModel</code>/<code>ShieldModel</code> Pydantic adapters with round-trip converters to <code>WireClass</code>/<code>ShieldClass</code>; tests cover basic roundtrips and ConnectionModel now accepts wire models.</li> <li>Flow integration: <code>Harness.connect_model()</code> added to route ConnectionModel/dict through existing connect logic; build_harness_from_models can consume connection models for straight-through wiring setup.</li> <li>Next: peel renderer/graphviz to accept connection/wire models, and incrementally replace direct dataclass usage in graph building and BOM population.</li> </ul>"},{"location":"issues/dataclass-migration-plan/#progress-2025-12-10-later","title":"Progress 2025-12-10 (later)","text":"<ul> <li>Resolved rebase conflicts while keeping HEAD changes intact and added compatibility aliases for GraphicalComponent to smooth imports.</li> <li>Normalized <code>ConnectorModel.to_connector()</code> to emit loop dictionaries from <code>LoopModel</code>/<code>PinModel</code> inputs so the dataclass constructor can validate pins consistently.</li> <li>Extended <code>Harness.add_connector</code>/<code>add_cable</code> to accept models and dicts, keying by the resulting designator to avoid unhashable model keys; validated with <code>just test-all</code>.</li> <li>Next: continue peeling dataclass imports from <code>connections.py</code> and <code>wire.py</code>, and tighten <code>models/__init__.py</code> exports once the shim coverage is broader.</li> </ul>"},{"location":"issues/demo01-overlap-titleblock/","title":"demo01 HTML overlap in title block","text":"<p>uid: ISS-0206 status: BACKLOG priority: medium owner_role: FEATURE estimate: TBD dependencies: [] risk: medium milestone: backlog</p>"},{"location":"issues/demo01-overlap-titleblock/#category","title":"Category","text":"<p>BUG</p>"},{"location":"issues/demo01-overlap-titleblock/#evidence","title":"Evidence","text":"<ul> <li><code>filare-check-overlap</code> reports 2 errors on <code>/workspace/outputs/demo01.html</code>:</li> <li><code>BOM</code> overlaps a revision cell (<code>td.rev</code> text <code>a</code>) with depth ~2.5 px near the title block.</li> <li><code>Designators</code> overlaps <code>Content</code> header in the index table (depth ~12 px).</li> </ul>"},{"location":"issues/demo01-overlap-titleblock/#hypothesis","title":"Hypothesis","text":"<ul> <li>Title block/table headers are packed too tightly; BOM label and revision cell share the same horizontal space, and the index table headers crowd together. Likely template spacing/padding is insufficient for the header row layout on the demo page.</li> </ul>"},{"location":"issues/demo01-overlap-titleblock/#suggested-next-steps","title":"Suggested Next Steps","text":"<ul> <li>Add padding/column spacing in the title block/index header on the harness HTML template to separate BOM, revision, and content headers.</li> <li>Re-run <code>filare-check-overlap</code> to confirm <code>outputs/demo01.html</code> is clean.</li> </ul>"},{"location":"issues/din-legends-standards/","title":"Legends and standards references","text":"<p>uid: ISS-0051 status: BACKLOG priority: medium owner_role: FEATURE estimate: TBD dependencies: [] risk: medium milestone: backlog</p> <p>Category: FEATURE</p>"},{"location":"issues/din-legends-standards/#summary","title":"Summary","text":"<p>Add optional legend blocks for symbols/colors and standards references to each sheet, aligned with DIN/EN ISO expectations.</p>"},{"location":"issues/din-legends-standards/#evidence","title":"Evidence","text":"<ul> <li>DIN research identifies missing legends and standards reference fields.</li> <li>Compliant drawings typically list applicable standards and symbol/color legends.</li> </ul>"},{"location":"issues/din-legends-standards/#recommended-steps","title":"Recommended steps","text":"<ol> <li>Add metadata fields for legends and standards references.</li> <li>Render legend/standards blocks in templates when enabled.</li> <li>Add regression fixtures asserting legend and standards text in outputs.</li> </ol>"},{"location":"issues/din-line-weights-styles/","title":"DIN line weights and styles","text":"<p>uid: ISS-0050 status: BACKLOG priority: medium owner_role: FEATURE estimate: TBD dependencies: [] risk: medium milestone: backlog</p> <p>Category: FEATURE</p>"},{"location":"issues/din-line-weights-styles/#summary","title":"Summary","text":"<p>Parameterize line weights and styles (visible/hidden/center) to DIN 15 / EN ISO 128 defaults and apply them across rendered outputs.</p>"},{"location":"issues/din-line-weights-styles/#evidence","title":"Evidence","text":"<ul> <li>DIN research notes line weights are not standardized in current outputs.</li> <li>EN ISO 128 defines stroke widths/dash patterns expected on compliant drawings.</li> </ul>"},{"location":"issues/din-line-weights-styles/#recommended-steps","title":"Recommended steps","text":"<ol> <li>Define default stroke widths/dash patterns for line types.</li> <li>Apply styles in renderers/templates.</li> <li>Add regression fixture checking SVG strokes/classes against DIN defaults.</li> </ol>"},{"location":"issues/din-page-numbering/","title":"DIN page numbering and sheet totals","text":"<p>uid: ISS-0052 status: BACKLOG priority: medium owner_role: FEATURE estimate: TBD dependencies: [] risk: medium milestone: backlog</p> <p>Category: FEATURE</p>"},{"location":"issues/din-page-numbering/#summary","title":"Summary","text":"<p>Standardize page numbering (sheet/total) placement and format to DIN/EN ISO conventions in Filare outputs.</p>"},{"location":"issues/din-page-numbering/#evidence","title":"Evidence","text":"<ul> <li>DIN research notes inconsistent page numbering in templates.</li> <li>EN ISO 7200 expects sheet number/total in the title block/border.</li> </ul>"},{"location":"issues/din-page-numbering/#recommended-steps","title":"Recommended steps","text":"<ol> <li>Normalize page numbering format/placement in templates.</li> <li>Ensure metadata drives sheet/total values for multi-sheet docs.</li> <li>Add regression fixtures asserting numbering in rendered outputs.</li> </ol>"},{"location":"issues/din-projection-symbol/","title":"Projection symbol (first/third angle)","text":"<p>uid: ISS-0049 status: BACKLOG priority: medium owner_role: FEATURE estimate: TBD dependencies: [] risk: medium milestone: backlog</p> <p>Category: FEATURE</p>"},{"location":"issues/din-projection-symbol/#summary","title":"Summary","text":"<p>Provide projection symbols (first/third angle) with metadata to select and render the appropriate symbol in Filare outputs.</p>"},{"location":"issues/din-projection-symbol/#evidence","title":"Evidence","text":"<ul> <li>DIN research indicates projection symbols are missing from current templates.</li> <li>EN ISO/DIN drawings typically show projection method in the title block.</li> </ul>"},{"location":"issues/din-projection-symbol/#recommended-steps","title":"Recommended steps","text":"<ol> <li>Add metadata for projection type (first/third angle).</li> <li>Include symbol assets and positioning in templates.</li> <li>Add regression fixture asserting symbol presence/type in rendered outputs.</li> </ol>"},{"location":"issues/din-revision-table/","title":"DIN revision table support","text":"<p>uid: ISS-0048 status: BACKLOG priority: medium owner_role: FEATURE estimate: TBD dependencies: [] risk: medium milestone: backlog</p> <p>Category: FEATURE</p>"},{"location":"issues/din-revision-table/#summary","title":"Summary","text":"<p>Add a revision table to Filare outputs capturing revision ID, date, description, and approvals, per DIN/EN ISO practices.</p>"},{"location":"issues/din-revision-table/#evidence","title":"Evidence","text":"<ul> <li>DIN research identifies lack of revision table in current templates.</li> <li>Compliance often requires a revision history block on drawings.</li> </ul>"},{"location":"issues/din-revision-table/#recommended-steps","title":"Recommended steps","text":"<ol> <li>Define revision metadata schema.</li> <li>Render revision table in templates when provided.</li> <li>Add regression fixture verifying table structure/values in outputs.</li> </ol>"},{"location":"issues/din-scale-units/","title":"DIN scale and units","text":"<p>uid: ISS-0053 status: BACKLOG priority: medium owner_role: FEATURE estimate: TBD dependencies: [] risk: medium milestone: backlog</p> <p>Category: FEATURE</p>"},{"location":"issues/din-scale-units/#summary","title":"Summary","text":"<p>Expose scale and units in title blocks per DIN/EN ISO practices (metric default, explicit scale or NTS when not to scale).</p>"},{"location":"issues/din-scale-units/#evidence","title":"Evidence","text":"<ul> <li>DIN research shows scale/units are not consistently surfaced.</li> <li>Compliance requires clear scale/unit declaration in the title block.</li> </ul>"},{"location":"issues/din-scale-units/#recommended-steps","title":"Recommended steps","text":"<ol> <li>Add metadata for scale and units; default to metric with NTS option.</li> <li>Render scale/unit fields in title block templates.</li> <li>Add regression fixtures asserting scale/unit text in outputs.</li> </ol>"},{"location":"issues/din-sheet-format-margins-folding/","title":"DIN sheet format, margins, and folding marks","text":"<p>uid: ISS-0046 status: BACKLOG priority: medium owner_role: REWORK estimate: TBD dependencies: [] risk: medium milestone: backlog</p> <p>Category: REWORK</p>"},{"location":"issues/din-sheet-format-margins-folding/#summary","title":"Summary","text":"<p>Implement EN ISO 5457 / DIN 823 sheet sizes, margins, frames, and folding marks in Filare templates.</p>"},{"location":"issues/din-sheet-format-margins-folding/#evidence","title":"Evidence","text":"<ul> <li>DIN research highlights the need for standardized frames and folding marks.</li> <li>Current templates reference DIN sizes but lack folding marks and strict margin enforcement.</li> </ul>"},{"location":"issues/din-sheet-format-margins-folding/#recommended-steps","title":"Recommended steps","text":"<ol> <li>Add DIN presets for sheet sizes/margins and render folding marks.</li> <li>Provide configuration toggle and defaults that preserve existing outputs.</li> <li>Add regression checks on SVG viewBox/frame and folding mark coordinates.</li> </ol>"},{"location":"issues/docs-architecture-overview/","title":"Architecture and feature overview docs","text":"<p>uid: ISS-0207 status: BACKLOG priority: medium owner_role: DOCUMENTATION estimate: TBD dependencies: [] risk: medium milestone: backlog</p>"},{"location":"issues/docs-architecture-overview/#category","title":"Category","text":"<p>DOCUMENTATION</p>"},{"location":"issues/docs-architecture-overview/#evidence","title":"Evidence","text":"<ul> <li>Legacy tasks (<code>230327GTW3_create_an_architecture_of_filare</code>, <code>230329GTW2_list_features_of_perfect_harness_diagram</code>) tracked architecture and feature-overview documentation, but had no dedicated issue.</li> <li>Architecture docs exist (<code>docs/architecture.md</code>, <code>docs/graphs/*</code>), but need confirmation that they satisfy these tasks.</li> </ul>"},{"location":"issues/docs-architecture-overview/#expected-outcome","title":"Expected Outcome","text":"<ul> <li>Up-to-date architecture overview covering major components, flows, and data models.</li> <li>A concise \"perfect harness diagram\" feature list summarizing capabilities and desired qualities, linked from docs.</li> </ul>"},{"location":"issues/docs-architecture-overview/#proposed-next-steps","title":"Proposed Next Steps","text":"<ol> <li>Review current architecture docs (<code>docs/architecture.md</code>, <code>docs/graphs/*</code>) for gaps vs. task intent.</li> <li>Draft/refresh an architecture overview section and a \"perfect harness diagram\" feature list; link from main docs.</li> <li>Add diagrams or references as needed; ensure content reflects current behavior.</li> <li>Close legacy task entries once covered.</li> </ol>"},{"location":"issues/docs-architecture-overview/#related-items","title":"Related Items","text":"<ul> <li>Legacy documentation tasks from <code>docs/tasks.md</code>.</li> </ul>"},{"location":"issues/document-filare-qty-cli/","title":"Document filare-qty CLI usage","text":"<p>uid: ISS-0011 status: BACKLOG priority: medium owner_role: REWORK estimate: TBD dependencies: [] risk: medium milestone: backlog</p> <p>The quantity multiplier helper (<code>filare-qty</code>) is not documented anywhere alongside the primary CLI.</p>"},{"location":"issues/document-filare-qty-cli/#category","title":"Category","text":"<p>DOCUMENTATION</p>"},{"location":"issues/document-filare-qty-cli/#evidence","title":"Evidence","text":"<ul> <li>README.md:220-255 and docs/README.md:208-243 only describe the <code>filare</code> CLI; <code>filare-qty</code> (exposed via <code>pyproject.toml</code>) is not mentioned anywhere in the user-facing docs.</li> <li><code>rg \"filare-qty\" docs README.md</code> returns no matches, so users have no guidance on the quantity multiplier helper CLI that AGENTS.md calls out as stable.</li> </ul>"},{"location":"issues/document-filare-qty-cli/#suggested-next-steps","title":"Suggested Next Steps","text":"<ol> <li>Add a short section introducing <code>filare-qty</code>, what it computes (quantity multipliers/BOM scaling), and when to use <code>--use-qty-multipliers</code>, linking to an example YAML (e.g., <code>tests/bom/bomqty.yml</code>).</li> <li>Provide a basic invocation example using the uv workflow (<code>uv run filare-qty &lt;file&gt;.yml</code>) and clarify expected outputs.</li> <li>Cross-link this section from the main README and docs landing page so users discover the secondary CLI.</li> </ol>"},{"location":"issues/document-representation-followups/","title":"Document representation: input + split behavior","text":"<p>uid: ISS-0208 status: BACKLOG priority: medium owner_role: FEATURE estimate: 2d dependencies: [] risk: medium milestone: backlog</p>"},{"location":"issues/document-representation-followups/#category","title":"Category","text":"<p>FEATURE</p>"},{"location":"issues/document-representation-followups/#evidence","title":"Evidence","text":"<ul> <li>Need to accept <code>*.document.yaml</code> as input to drive generation (not just emit), preserving user edits per hash rules.</li> <li>Split components (BOM/notes/index) should be excluded from the combined page when split output is configured.</li> <li>Index table should link to all generated HTML docs (with split awareness).</li> <li>Templates for cut/termination diagram pages should exist and be integrated.</li> </ul>"},{"location":"issues/document-representation-followups/#expected-outcome","title":"Expected Outcome","text":"<ul> <li>Users can supply <code>*.document.yaml</code> to drive generation with edits preserved per hash guard.</li> <li>Combined pages honor split settings (exclude split sections when split output is requested).</li> <li>Index table links include all generated HTML docs, including split pages.</li> <li>Templates for cut/termination diagram pages are present and wired.</li> </ul>"},{"location":"issues/document-representation-followups/#proposed-next-steps","title":"Proposed Next Steps","text":"<ol> <li>Verify current behavior for document input loading and hash-guard preservation; add regression if missing.</li> <li>Ensure split components are excluded from combined page when split outputs are requested; add test.</li> <li>Audit index table links for split pages and fix if missing; add test.</li> <li>Confirm cut/termination templates exist and integrate; add regression if gaps.</li> <li>Update docs to describe document-input workflow and split/index behavior.</li> </ol>"},{"location":"issues/document-representation-followups/#related-items","title":"Related Items","text":"<ul> <li><code>docs/features/bom_pagination.md</code> (covers pagination but not document input/loading).</li> </ul>"},{"location":"issues/eniso7200-title-block/","title":"EN ISO 7200 title block fields","text":"<p>uid: ISS-0047 status: BACKLOG priority: medium owner_role: REWORK estimate: TBD dependencies: [] risk: medium milestone: backlog</p> <p>Category: REWORK</p>"},{"location":"issues/eniso7200-title-block/#summary","title":"Summary","text":"<p>Standardize title blocks to EN ISO 7200 fields (title, drawing number, revision, date, author/checker/approver, scale, projection, sheet/total, company) and validate presence.</p>"},{"location":"issues/eniso7200-title-block/#evidence","title":"Evidence","text":"<ul> <li>DIN research notes current title block templates are not aligned to EN ISO 7200.</li> <li>Missing mandatory fields can block compliance with EU suppliers.</li> </ul>"},{"location":"issues/eniso7200-title-block/#recommended-steps","title":"Recommended steps","text":"<ol> <li>Define metadata keys for each EN ISO 7200 field.</li> <li>Update templates to include all required fields in standard order/layout.</li> <li>Add lint/regression to ensure required fields are present in rendered outputs.</li> </ol>"},{"location":"issues/error-logging-patterns/","title":"Standardize error logging when wrapping exceptions (OPEN)","text":"<p>uid: ISS-0012 status: BACKLOG priority: medium owner_role: REWORK estimate: TBD dependencies: [] risk: medium milestone: backlog</p> <p>Exception wrapping now uses typed Filare errors, but logging behavior is inconsistent (some wrappers log before raising, others do not). Define a consistent guideline to avoid duplicate log noise while preserving context.</p>"},{"location":"issues/error-logging-patterns/#category","title":"Category","text":"<p>REWORK</p>"},{"location":"issues/error-logging-patterns/#evidence","title":"Evidence","text":"<ul> <li><code>src/filare/flows/build_harness.py</code> logs metadata errors before wrapping in <code>FilareFlowException</code>, while other conversions (e.g., parser/tools/model errors) do not log.</li> <li>No documented guideline for when to log-and-raise versus raise-only.</li> </ul>"},{"location":"issues/error-logging-patterns/#next-steps","title":"Next Steps","text":"<ol> <li>Adopt: only log at top-level call sites where errors are handled; do not log inside helpers that immediately re-raise.</li> <li>Apply consistently across flow/model/parser/render/tool layers.</li> <li>Document the pattern in developer docs and add a lint/checklist entry.</li> </ol>"},{"location":"issues/error-raises-consistency/","title":"Align error raises with input validation (RESOLVED)","text":"<p>uid: ISS-0013 status: DONE priority: medium owner_role: REWORK estimate: TBD dependencies: [] risk: medium milestone: backlog</p> <p>Generic <code>Exception</code> raises in the harness-building flow made it hard to distinguish user input errors from other failures. This update standardizes those cases to <code>ValueError</code> and adds regression tests for the failure paths.</p>"},{"location":"issues/error-raises-consistency/#category","title":"Category","text":"<p>REWORK</p>"},{"location":"issues/error-raises-consistency/#evidence","title":"Evidence","text":"<ul> <li><code>src/filare/flows/build_harness.py</code> raised bare <code>Exception</code> when no output formats/return types were provided, and when connection sets had inconsistent lengths or ambiguous designator separators.</li> <li>No tests asserted the expected exception types for these validation failures.</li> </ul>"},{"location":"issues/error-raises-consistency/#resolution","title":"Resolution","text":"<ol> <li>Replace the generic raises in <code>build_harness_from_files</code> and <code>_normalize_connection_set</code> with <code>ValueError</code> to signal invalid inputs.</li> <li>Add targeted tests covering missing outputs/returns, mismatched connection counts, and multiple-separator designators to lock in the expected error types.</li> </ol>"},{"location":"issues/external-tool-error-handling/","title":"Handle external tool failures with actionable errors","text":"<p>uid: ISS-0014 status: BACKLOG priority: medium owner_role: REWORK estimate: TBD dependencies: [] risk: medium milestone: backlog</p>"},{"location":"issues/external-tool-error-handling/#category","title":"Category","text":"<p>REWORK</p>"},{"location":"issues/external-tool-error-handling/#evidence","title":"Evidence","text":"<ul> <li><code>src/filare/render/pdf.py</code> directly calls <code>weasyprint.HTML(...).render().write_pdf(...)</code> without catching <code>ImportError</code>, missing file errors, or <code>weasyprint</code> runtime failures; users see stack traces with no hint to install system deps (Pango/fonts).</li> <li>Graphviz rendering relies on the <code>graphviz</code> Python package; when <code>dot</code> is missing or not on PATH, <code>graphviz.backend.ExecutableNotFound</code> bubbles up with a raw trace. There is no Filare-side message pointing to Graphviz installation requirements.</li> </ul>"},{"location":"issues/external-tool-error-handling/#suggested-next-steps","title":"Suggested Next Steps","text":"<ol> <li>Wrap PDF generation in try/except to emit a concise message: <code>PDF generation failed: WeasyPrint/GTK/Pango not available or input HTML missing (&lt;path&gt;). Install system deps or drop format 'P'.</code></li> <li>Detect <code>ExecutableNotFound</code> from Graphviz and rethrow a user-facing <code>RuntimeError</code> that mentions <code>dot</code>/Graphviz needs to be installed and on PATH (with a link to docs/README install section).</li> <li>Add a minimal regression test that mocks missing Graphviz/WeasyPrint to assert the improved error strings (behavior unchanged except clearer messaging).</li> </ol>"},{"location":"issues/filare-qty-help-context/","title":"Explain filare-qty workflow and flag meanings","text":"<p>uid: ISS-0015 status: BACKLOG priority: medium owner_role: REWORK estimate: TBD dependencies: [] risk: medium milestone: backlog</p>"},{"location":"issues/filare-qty-help-context/#category","title":"Category","text":"<p>UI</p>"},{"location":"issues/filare-qty-help-context/#evidence","title":"Evidence","text":"<ul> <li><code>filare-qty --help</code> lists only two flags and no command summary, so users cannot tell it generates/updates quantity multipliers for shared BOM scaling.</li> <li>Short flag <code>-f</code> here means \u201cforce new multipliers,\u201d conflicting with <code>filare -f</code> meaning \u201cformats,\u201d adding cognitive load when switching commands.</li> <li>The multiplier file default (<code>quantity_multipliers.txt</code>) and its location are unstated, so users do not know what file will be created or consumed.</li> <li>No guidance on how to use the resulting multipliers with <code>filare --use-qty-multipliers</code> or what to expect interactively.</li> </ul>"},{"location":"issues/filare-qty-help-context/#user-impact","title":"User Impact","text":"<p>Persona A/D do not know when to run <code>filare-qty</code> or where the file goes; Persona B cannot predict default paths or workflow order; Persona C cannot script around interactive prompts or differing <code>-f</code> semantics.</p>"},{"location":"issues/filare-qty-help-context/#suggested-next-steps","title":"Suggested Next Steps","text":"<ul> <li>Add a one-line command summary and a short workflow note (\u201crun before filare to create/update quantity_multipliers.txt for shared BOM scaling\u201d).</li> <li>Show the default multiplier file name and directory in the option help; clarify whether prompts occur and how to run non-interactively.</li> <li>Consider aligning the short flag for \u201cforce new\u201d with a non-conflicting letter or document the discrepancy prominently in the help.</li> </ul>"},{"location":"issues/fix-readme-link-targets/","title":"Fix README link targets","text":"<p>uid: ISS-0016 status: BACKLOG priority: medium owner_role: REWORK estimate: TBD dependencies: [] risk: medium milestone: backlog</p> <p>Landing-page links to syntax/tutorial/example docs point to missing paths, producing broken GitHub and docs-site navigation.</p>"},{"location":"issues/fix-readme-link-targets/#category","title":"Category","text":"<p>DOCUMENTATION</p>"},{"location":"issues/fix-readme-link-targets/#evidence","title":"Evidence","text":"<ul> <li>README.md:90-94 links to <code>syntax.md</code>, <code>tutorial/readme.md</code>, and <code>examples/readme.md</code> from repository root, but those files live under <code>docs/</code> and <code>tutorial/</code>, so the GitHub links are broken.</li> <li>docs/README.md:81-85 uses the same relative paths, which resolve to non-existent <code>docs/tutorial/...</code> and <code>docs/examples/...</code> locations when browsing the docs site.</li> </ul>"},{"location":"issues/fix-readme-link-targets/#suggested-next-steps","title":"Suggested Next Steps","text":"<ol> <li>Update links in both README files to target the actual files (e.g., <code>docs/syntax.md</code>, <code>tutorial/readme.md</code>, <code>examples/readme.md</code>) so they work on GitHub and in the rendered docs.</li> <li>Verify MkDocs navigation still resolves correctly after adjusting paths, adding site-relative links if needed.</li> <li>Add a quick smoke check note (or automated link check reference) to prevent regressions in internal documentation links.</li> </ol>"},{"location":"issues/functional-examples-test-oom/","title":"Functional examples test is skipped due to OOM risk","text":"<p>uid: ISS-0045 status: DONE priority: medium owner_role: REWORK estimate: TBD dependencies: [] risk: medium milestone: backlog</p>"},{"location":"issues/functional-examples-test-oom/#category","title":"Category","text":"<p>TEST</p>"},{"location":"issues/functional-examples-test-oom/#evidence","title":"Evidence","text":"<ul> <li><code>tests/documentation/test_examples_and_tutorial.py::test_examples_generate_outputs</code> is marked <code>@pytest.mark.skip(reason=\"This tests just gets the system OOM... there's some leak somewhere\")</code>.</li> <li>The test invokes <code>run_filare_cli(...)</code> to render all grouped examples (HTML) using the Typer callback <code>render_callback</code>, not a subprocess.</li> <li><code>just test-functional</code> reports this test as skipped.</li> </ul>"},{"location":"issues/functional-examples-test-oom/#hypothesis","title":"Hypothesis","text":"<ul> <li>Since the CLI moved from Click to Typer and the test now calls the Typer callback in-process, each example render keeps harness/Graphviz objects alive (e.g., <code>Harness._graph</code>, cached BOM/index tables). Rendering all examples in one process may accumulate large objects, triggering OOM.</li> <li>Running each example via the actual CLI binary (separate processes) likely avoided this in the past; the in-process Typer call makes any leak or missing cleanup visible.</li> </ul>"},{"location":"issues/functional-examples-test-oom/#suggested-next-steps","title":"Suggested Next Steps","text":"<ul> <li>Add explicit teardown/cleanup in <code>run_filare_cli</code> (e.g., drop <code>harness._graph</code>, close file handles) or run examples in subprocesses to isolate memory use.</li> <li>Profile memory during a reduced set of examples to confirm retention (look for lingering <code>Harness</code>/Graphviz objects).</li> <li>Unskip the test after tightening memory/cleanup and ensuring it completes on CI with Typer.</li> </ul>"},{"location":"issues/functional-examples-test-oom/#steps-taken","title":"Steps Taken","text":"<ul> <li>Adjusted <code>run_filare_cli</code> to render each example in its own <code>uv run filare run ...</code> subprocess, reusing the sanitized inputs but isolating memory between runs.</li> <li>Re-ran <code>tests/documentation/test_examples_and_tutorial.py::test_examples_generate_outputs</code> with a 1\u202fGB virtual memory limit (<code>ulimit -v 1048576</code>) and functional tests enabled; it now passes with ~105\u202fMB max RSS.</li> <li>Unskipped the test.</li> <li>Verified header normalization and backlog validation with <code>just check-backlog-headers</code>.</li> </ul>"},{"location":"issues/functional-examples-test-oom/#status","title":"Status","text":"<ul> <li>Resolved.</li> </ul>"},{"location":"issues/header-template/","title":"Issue/Feature Header Template","text":"<p>uid: ISS-0017 status: BACKLOG priority: medium owner_role: REWORK estimate: TBD dependencies: [] risk: medium milestone: backlog</p> <p>Use this header at the top of every file in <code>docs/issues/</code> and <code>docs/features/</code> to keep planning metadata consistent and to provide stable references for Taskwarrior/Mermaid/Graphviz exports.</p> <pre><code>uid: &lt;immutable-id&gt;          # Format: ISS-&lt;4 digits&gt; for issues (e.g., ISS-0012); FEAT-&lt;AREA&gt;-&lt;4 digits&gt; for features (e.g., FEAT-CLI-0003, FEAT-GRAPH-0010). Immutable after creation.\nstatus: BACKLOG|IN_PROGRESS|BLOCKED|DONE\npriority: low|medium|high|urgent\nowner_role: FEATURE|REWORK|TOOLS|DOCUMENTATION|COVERAGE|UI|EXPLORATOR|VALIDATOR|JUDGE\nestimate: &lt;duration&gt;         # e.g., 2d, 1w\ndependencies: [&lt;uid&gt;, ...]  # immutable IDs of blocking items\nrisk: low|medium|high\nmilestone: &lt;label&gt;           # e.g., Q1-2025, beta-1.5\n</code></pre> <p>Guidelines:</p> <ul> <li><code>uid</code> is the primary key reused across manifest, Taskwarrior, Mermaid, and timelines; keep it short and unique.</li> <li>Place the header immediately after the title (or at the top) and keep it in YAML-style key/value lines.</li> <li>If an item spans multiple files, pick one canonical <code>uid</code> and reference it from related documents.</li> <li>Avoid renaming <code>uid</code>; if a mistake occurs, add an alias list in the manifest rather than mutating the identifier.</li> <li>Suggested area codes for FEAT UIDs: CLI, RENDER, GRAPH, BOM, MECH, DOCS, TOOLS, PERF, UI. Use GENERAL if unsure.</li> </ul>"},{"location":"issues/just-example-first-fail/","title":"<code>just example-first</code> fails on titlepage generation","text":"<p>uid: ISS-0019 status: BACKLOG priority: medium owner_role: REWORK estimate: TBD dependencies: [] risk: medium milestone: backlog</p>"},{"location":"issues/just-example-first-fail/#category","title":"Category","text":"<p>BUG</p>"},{"location":"issues/just-example-first-fail/#evidence","title":"Evidence","text":"<ul> <li>Running <code>source scripts/agent-setup.sh &gt;/dev/null &amp;&amp; just example-first</code> exits with <code>KeyError: 'template'</code> while generating the titlepage HTML.</li> <li>Stack trace points to <code>src/filare/render/html.py:572</code> (<code>titlepage_metadata[\"template\"][\"name\"] = \"titlepage\"</code>) invoked from <code>_render_cli</code> during HTML rendering of <code>examples/demo01.yml</code>.</li> <li>The extra metadata assembled for the titlepage lacks a <code>template</code> key, so <code>generate_titlepage</code> attempts to index into a missing dict.</li> </ul>"},{"location":"issues/just-example-first-fail/#steps-taken","title":"Steps Taken","text":"<ul> <li>Reproduced with <code>source scripts/agent-setup.sh &gt;/dev/null &amp;&amp; just example-first</code>.</li> <li>Added a template metadata fallback in <code>generate_titlepage</code> to always set <code>template.name = \"titlepage\"</code>.</li> <li>Updated <code>_render_cli</code> to pass harness metadata files when none are provided, so titlepage metadata includes required fields (title/pn/company/address).</li> <li>Re-ran <code>just example-first</code>; it now completes successfully and writes outputs for <code>demo01</code>.</li> </ul>"},{"location":"issues/just-example-first-fail/#fix-summary","title":"Fix Summary","text":"<ul> <li><code>src/filare/render/html.py</code>: ensure titlepage metadata has a <code>template</code> dict with name forced to <code>titlepage</code>.</li> <li><code>src/filare/cli/render.py</code>: use harness files as metadata input when no explicit metadata files are passed, preventing missing required Metadata fields.</li> <li><code>tests/flows/test_shared_bom_and_index.py</code>: added regression test to cover titlepage generation when only harness metadata is provided (mirrors <code>just example-first</code>).</li> </ul>"},{"location":"issues/just-example-first-fail/#status","title":"Status","text":"<p>Resolved (manual verification via <code>just example-first</code>; regression test added).</p>"},{"location":"issues/just-example-first-fail/#remaining-tasks","title":"Remaining Tasks","text":"<ul> <li>None.</li> </ul>"},{"location":"issues/just-header-export/","title":"Just header export","text":"<p>uid: ISS-0020 status: BACKLOG priority: medium owner_role: REWORK estimate: TBD dependencies: [] risk: medium milestone: backlog</p>"},{"location":"issues/just-header-export/#add-just-command-to-extract-backlog-headers","title":"Add just command to extract backlog headers","text":"<p>Category: TOOLS</p>"},{"location":"issues/just-header-export/#summary","title":"Summary","text":"<p>Provide a <code>just</code> recipe that scans <code>docs/issues/**</code> and <code>docs/features/**</code>, extracts their header blocks (<code>uid</code>, <code>status</code>, <code>priority</code>, <code>owner_role</code>, <code>estimate</code>, <code>dependencies</code>, <code>risk</code>, <code>milestone</code>), and writes a consolidated report to <code>outputs/headers.md</code> for quick auditing and manifest generation.</p>"},{"location":"issues/just-header-export/#evidence","title":"Evidence","text":"<ul> <li>Headers now exist across all backlog items but require a fast, repeatable way to audit and export them for planning pipelines (Mermaid, Taskwarrior, Graphviz).</li> <li>Current inventory was produced ad hoc; a reusable command improves consistency and prevents drift.</li> </ul>"},{"location":"issues/just-header-export/#recommended-steps","title":"Recommended steps","text":"<ol> <li>Add a <code>just</code> target (e.g., <code>just export-headers</code>) that runs a script to parse header blocks from <code>docs/issues/**</code> and <code>docs/features/**</code>.</li> <li>Emit <code>outputs/headers.md</code> containing a table or list of all entries with <code>uid</code>, title, path, status, owner_role, priority, milestone, and dependencies.</li> <li>Ensure the command can run offline and fails if required fields are missing.</li> <li>Optionally provide a machine-readable export (JSON/YAML) alongside the markdown for downstream tools.</li> </ol>"},{"location":"issues/just-header-export/#risksnotes","title":"Risks/notes","text":"<ul> <li>Must avoid overwriting non-generated files; ensure <code>outputs/headers.md</code> is the only target.</li> <li>Needs basic validation to catch missing or malformed headers before emitting.</li> </ul>"},{"location":"issues/log-handling-configuration/","title":"Log handling and configuration switches","text":"<p>uid: ISS-0021 status: BACKLOG priority: medium owner_role: REWORK estimate: TBD dependencies: [] risk: medium milestone: backlog</p> <p>Filare currently emits logs from flow fallbacks, option normalization, and tooling, but there is no centralized way to configure log levels/handlers. Users must rely on defaults or set global Python logging manually.</p>"},{"location":"issues/log-handling-configuration/#category","title":"Category","text":"<p>FEATURE</p>"},{"location":"issues/log-handling-configuration/#motivation","title":"Motivation","text":"<ul> <li>Provide a consistent way to enable/disable logging noise across commands (<code>filare</code>, <code>filare-qty</code>, tools).</li> <li>Allow redirecting logs to files or structured outputs without custom wrappers.</li> <li>Align CLI flags/env vars with documentation and developer expectations.</li> </ul>"},{"location":"issues/log-handling-configuration/#proposal","title":"Proposal","text":"<ol> <li>Introduce a logging configuration helper backed by Pydantic settings:</li> <li>Env prefix: <code>FIL_LOG_</code>.</li> <li>Settings fields: <code>level</code> (default INFO), <code>dir</code> (optional), <code>config_file</code> (YAML path), <code>config</code> (pre-parsed dict).</li> <li>Support Python logging YAML configs:</li> <li>Load YAML \u2192 dict \u2192 <code>logging.config.dictConfig</code>.</li> <li>If both YAML and settings are provided, apply YAML first, then override <code>level</code>/<code>dir</code> from settings/env.</li> <li>Warn if the YAML cannot be parsed; fall back to default console logging.</li> <li>CLI flags take precedence over all other inputs:</li> <li><code>--log-level</code> overrides settings/env/YAML level.</li> <li><code>--log-dir</code> overrides settings/env/YAML handler destinations when applicable (e.g., FileHandler root path).</li> <li>Document precedence:</li> <li>CLI flags &gt; env (<code>FIL_LOG_*</code>) &gt; YAML config file &gt; built-in defaults.</li> <li>Add regression tests ensuring CLI invocations honor the requested log level and file output.</li> </ol>"},{"location":"issues/log-handling-configuration/#notes","title":"Notes","text":"<p>This issue focuses on configuring handling (levels, destinations); log source guidelines are tracked separately in <code>docs/dev/logging-sources.md</code>.</p>"},{"location":"issues/loop-and-graphviz-error-messages/","title":"Improve loop validation and graph rendering errors","text":"<p>uid: ISS-0022 status: BACKLOG priority: medium owner_role: REWORK estimate: TBD dependencies: [] risk: medium milestone: backlog</p>"},{"location":"issues/loop-and-graphviz-error-messages/#category","title":"Category","text":"<p>REWORK</p>"},{"location":"issues/loop-and-graphviz-error-messages/#evidence","title":"Evidence","text":"<ul> <li><code>src/filare/models/dataclasses.py:408</code> raises <code>ValueError(f\"Unsupported loop definition: {loop}\")</code> without showing valid shapes or the connector designator.</li> <li><code>src/filare/render/graphviz.py:72</code> raises <code>Exception(\"No side for loops\")</code> with no connector/pin context when rendering loops.</li> <li>Unsupported loop values or missing sides result in opaque crashes during render instead of pointing to the specific connector in YAML.</li> </ul>"},{"location":"issues/loop-and-graphviz-error-messages/#suggested-next-steps","title":"Suggested Next Steps","text":"<ol> <li>For invalid loop shapes, include the connector name and expected keys: <code>connector X1: loop entry {'foo': 1} is invalid; expected {'first', 'second', optional 'side'|'show_label'|'color'} or [&lt;first&gt;, &lt;second&gt;]</code>.</li> <li>For missing side in graphviz, include connector and loop pins: <code>connector X1: loop between pins 1-2 missing side; set side: LEFT|RIGHT or omit to auto-place</code>.</li> <li>Add a small YAML regression in <code>tests/rendering/</code> with a bad loop entry and assert the improved error string.</li> </ol>"},{"location":"issues/multi-page-sheet-numbering/","title":"Sheet numbering incorrect in multi-page documents","text":"<p>uid: ISS-0023 status: BACKLOG priority: medium owner_role: REWORK estimate: TBD dependencies: [] risk: medium milestone: backlog</p>"},{"location":"issues/multi-page-sheet-numbering/#category","title":"Category","text":"<p>FEATURE</p>"},{"location":"issues/multi-page-sheet-numbering/#evidence","title":"Evidence","text":"<ul> <li>Multi-page outputs (e.g., paginated BOM/cut/termination pages) show sheet numbers that do not align with page suffixes or split pages. Example: sheet numbering remains static or mismatched when lettered suffixes are present.</li> </ul>"},{"location":"issues/multi-page-sheet-numbering/#suggested-next-steps","title":"Suggested Next Steps","text":"<ul> <li>Reproduce with <code>examples/multi-page</code> builds and inspect sheet number rendering across base and lettered pages.</li> <li>Ensure sheet_current/sheet_suffix are set appropriately per split page and propagated into titleblocks/index metadata.</li> <li>Add regression tests to validate correct sheet numbering for split BOM/cut/termination pages with letter suffixes.</li> </ul>"},{"location":"issues/number-unit-error-messages/","title":"Make number/unit validation errors actionable","text":"<p>uid: ISS-0024 status: BACKLOG priority: medium owner_role: REWORK estimate: TBD dependencies: [] risk: medium milestone: backlog</p>"},{"location":"issues/number-unit-error-messages/#category","title":"Category","text":"<p>REWORK</p>"},{"location":"issues/number-unit-error-messages/#evidence","title":"Evidence","text":"<ul> <li><code>src/filare/models/numbers.py:25-41</code> raises <code>Exception(f\\\"{inp} is not a valid number and unit...\\\")</code> without indicating the YAML field/key being parsed. Users only see the raw value, not where it came from.</li> <li><code>src/filare/models/numbers.py:44-55</code> raises <code>ValueError(f\\\"Cannot add {self} and {other}, units not matching\\\")</code> but omits the field name and suggests no fix (e.g., which side needs a unit change).</li> </ul>"},{"location":"issues/number-unit-error-messages/#suggested-next-steps","title":"Suggested Next Steps","text":"<ol> <li>Include the field/key/context in the error (e.g., <code>invalid length 'abc' on cable W1; expected '&lt;number&gt; [unit]'</code>).</li> <li>Use <code>ValueError</code> consistently (avoid bare <code>Exception</code>) and format messages as one concise line; example: <code>ValueError: length '1 ft' and '2 m' cannot be added (units must match)</code>.</li> <li>Add a minimal YAML regression in <code>tests/rendering/</code> that triggers the invalid number path to ensure the new message surfaces the field name and designator.</li> </ol>"},{"location":"issues/path-and-component-validation-errors/","title":"Make path/component validation errors contextual","text":"<p>uid: ISS-0025 status: BACKLOG priority: medium owner_role: REWORK estimate: TBD dependencies: [] risk: medium milestone: backlog</p>"},{"location":"issues/path-and-component-validation-errors/#category","title":"Category","text":"<p>REWORK</p>"},{"location":"issues/path-and-component-validation-errors/#evidence","title":"Evidence","text":"<ul> <li><code>src/filare/models/utils.py:119-125</code> raises <code>\"{filename} does not exist.\"</code> or <code>\"{filename} is not a file.\"</code> without showing cwd or the referencing YAML field, making it hard to locate the bad path.</li> <li><code>src/filare/models/harness.py:323-338</code> raise generic <code>Exception</code> strings for mismatched types in <code>connections</code>/templates without quoting the designator or the type mismatch details.</li> <li><code>src/filare/models/harness_quantity.py:55-63</code> raises <code>ValueError</code> when <code>quantity_multipliers.txt</code> JSON is invalid but does not echo the file path or the malformed content that failed.</li> </ul>"},{"location":"issues/path-and-component-validation-errors/#suggested-next-steps","title":"Suggested Next Steps","text":"<ol> <li>Include full resolved path and caller context in path errors, e.g., <code>image 'docs/img/missing.png' not found (cwd=/app, referenced by connector X1.image)</code>.</li> <li>Replace generic connection/type errors with value-aware <code>ValueError</code> messages: <code>connections[1] uses template 'W1' as connector but expected connector template; check metadata/templates</code>.</li> <li>When parsing <code>quantity_multipliers.txt</code>, echo the file path and JSON error: <code>invalid JSON in outputs/quantity_multipliers.txt: Expecting value at line 1 column 5; delete or fix the file to re-prompt</code>.</li> <li>Add regression tests that provoke each error and assert the improved messaging without altering behavior.</li> </ol>"},{"location":"issues/puppeteer-preview/","title":"Puppeteer-based doc/diagram preview","text":"<p>uid: ISS-0209 status: BACKLOG priority: medium owner_role: TOOLS estimate: TBD dependencies: [] risk: medium milestone: backlog</p>"},{"location":"issues/puppeteer-preview/#category","title":"Category","text":"<p>TOOLS</p>"},{"location":"issues/puppeteer-preview/#evidence","title":"Evidence","text":"<ul> <li>No dedicated feature/issue documents current state of browser-based preview/automation for docs or diagrams.</li> </ul>"},{"location":"issues/puppeteer-preview/#expected-outcome","title":"Expected Outcome","text":"<ul> <li>Decision and implementation note on whether Puppeteer (or alternative) is used for previewing/rendering docs/diagrams.</li> <li>If adopted, a minimal script/workflow documented; if rejected, rationale recorded.</li> </ul>"},{"location":"issues/puppeteer-preview/#proposed-next-steps","title":"Proposed Next Steps","text":"<ol> <li>Assess current preview flows (mkdocs serve, static builds) and whether Puppeteer adds value.</li> <li>If useful, prototype a small Puppeteer script to snapshot diagrams/pages; document usage and dependencies.</li> <li>If not needed, close this task with rationale and remove the legacy entry from <code>docs/tasks.md</code>.</li> </ol>"},{"location":"issues/puppeteer-preview/#related-items","title":"Related Items","text":"<ul> <li><code>docs/tasks.md</code> tooling tasks.</li> </ul>"},{"location":"issues/pyright/","title":"Pyright typing cleanup plan","text":"<p>uid: ISS-0026 status: BACKLOG priority: medium owner_role: REWORK estimate: TBD dependencies: [] risk: medium milestone: backlog</p> <p>Pyright currently reports ~262 errors across CLI, flows, models, render, and tooling. This plan tracks goals and phased fixes.</p>"},{"location":"issues/pyright/#goals","title":"Goals","text":"<ul> <li>Bring Pyright to zero errors on the codebase under <code>./scripts/pyright.sh</code> using the config in <code>pyproject.toml</code>.</li> <li>Avoid behavior changes; prioritize typing correctness and narrow annotations.</li> <li>Keep changes incremental with passing pytest.</li> </ul>"},{"location":"issues/pyright/#scope","title":"Scope","text":"<ul> <li>CLI and flow argument types (<code>cli.py</code>, <code>filare.py</code>, <code>flows/build_harness.py</code>, <code>parser/harness_parser.py</code>).</li> <li>Model construction and validators (BOM, cable, metadata, partnumber, template inputs).</li> <li>Render utilities (graphviz/html/html_utils/pdf).</li> <li>Harness/index table typing.</li> </ul>"},{"location":"issues/pyright/#phased-steps","title":"Phased steps","text":"<ol> <li>CLI/entrypoints: Fix <code>cli.py</code> and <code>filare.py</code> signatures and data shims; ensure tuples/sets are coerced to expected types.</li> <li>Flows/build_harness: Type the connection/templates metadata and resolve Optional Path/str issues; adjust helper signatures for dict/model unions.</li> <li>Parser: Narrow YAML merge function inputs (List vs tuple).</li> <li>Models (BOM/partnumber/cable/component): Clean setter overloads, Optional handling, and enum coercions; fix logging reference in <code>bom.py</code>.</li> <li>Render (graphviz/html/pdf/html_utils): Align return types (Table vs str), handle optional ImportedSVGOptions, and correct iterable types.</li> <li>Harness/index_table: Fix tuple/list type expressions and Optional fields.</li> <li>Final sweep: Re-run Pyright and pytest; document remaining suppressions if any.</li> </ol>"},{"location":"issues/pyright/#progress","title":"Progress","text":"<ul> <li>[ ] Step 1: CLI/entrypoints</li> <li>[ ] Step 2: Flows/build_harness</li> <li>[ ] Step 3: Parser</li> <li>[ ] Step 4: Models (BOM/partnumber/cable/component) \u2014 in progress</li> <li>[ ] Step 5: Render</li> <li>[ ] Step 6: Harness/index_table</li> <li>[ ] Step 7: Final sweep (pyright + pytest)</li> </ul>"},{"location":"issues/pyright/#models-progress-step-4","title":"Models progress (Step 4)","text":"<ul> <li>Adjusted <code>models/bom.py</code> qty_multiplier typing and added logging import.</li> <li>Updated <code>models/utils.py</code> signature for <code>smart_file_resolve</code> (broader path types).</li> <li>Guarded NumberAndUnit arithmetic against <code>None</code>.</li> </ul>"},{"location":"issues/pyright/#notes","title":"Notes","text":"<ul> <li>Use minimal structural changes; prefer explicit casts/narrowing helpers where inputs are permissive.</li> <li>If any change appears user-visible, pause and consult.***</li> </ul>"},{"location":"issues/quantity-workflow-integration/","title":"Make quantity workflow discoverable and integrated","text":"<p>uid: ISS-0027 status: BACKLOG priority: medium owner_role: REWORK estimate: TBD dependencies: [] risk: medium milestone: backlog</p>"},{"location":"issues/quantity-workflow-integration/#category","title":"Category","text":"<p>UI</p>"},{"location":"issues/quantity-workflow-integration/#evidence","title":"Evidence","text":"<ul> <li><code>filare --help</code> never references quantity multipliers or <code>filare-qty</code>; users miss BOM scaling.</li> <li><code>filare-qty --help</code> lacks defaults, examples, and workflow order; short flag <code>-f</code> conflicts with <code>filare -f</code>.</li> <li>Default multiplier filename/location are implicit; no validation/reporting commands exist.</li> </ul>"},{"location":"issues/quantity-workflow-integration/#user-impact","title":"User Impact","text":"<p>Persona A/D skip the quantity step; Persona B/C cannot script reliable flows or verify applied multipliers; wasted reruns and inconsistent BOM counts.</p>"},{"location":"issues/quantity-workflow-integration/#suggested-next-steps","title":"Suggested Next Steps","text":"<ul> <li>Integrate quantity commands under the main CLI (e.g., <code>filare harness qty ...</code>) with visible defaults.</li> <li>Provide validate/report subcommands (table/JSON) and examples showing init \u2192 validate \u2192 apply sequence.</li> <li>Keep <code>filare-qty</code> as a shim with a deprecation notice pointing to the integrated commands.</li> </ul>"},{"location":"issues/rendering-templating-audit/","title":"Rendering split and templating audit","text":"<p>uid: ISS-0210 status: BACKLOG priority: medium owner_role: REWORK estimate: 3d dependencies: [] risk: medium milestone: backlog</p>"},{"location":"issues/rendering-templating-audit/#category","title":"Category","text":"<p>REWORK</p>"},{"location":"issues/rendering-templating-audit/#evidence","title":"Evidence","text":"<ul> <li>Outstanding render/templating work: finish splitting render/output responsibilities (html/pdf/assets) and audit templating vs. code-built strings; add render smoke tests.</li> <li>Layout polish needed for overlapping sections (notes covering diagrams, BOM covering changelog) and connector line merge artifacts.</li> <li>Templating changes (e.g., connector pin labels) show the need for broader audit and tests.</li> </ul>"},{"location":"issues/rendering-templating-audit/#expected-outcome","title":"Expected Outcome","text":"<ul> <li>Clear separation of rendering modules (html/pdf/assets) with templates covering presentational output and minimal string concatenation in code.</li> <li>Smoke tests for template loading and HTML helpers.</li> <li>Layout fixes for overlapping sections and connector merge artifacts.</li> </ul>"},{"location":"issues/rendering-templating-audit/#proposed-next-steps","title":"Proposed Next Steps","text":"<ol> <li>Inventory templates vs. code-built markup; move inline HTML generation into templates where appropriate.</li> <li>Add render smoke tests to cover template loading and key helpers (html_utils, assets).</li> <li>Address layout edge cases: overlapping sections, connector merge \u201cbubble\u201d artifacts; add regressions.</li> <li>Document the rendering split and template ownership (which module renders what).</li> </ol>"},{"location":"issues/rendering-templating-audit/#related-items","title":"Related Items","text":"<ul> <li><code>docs/features/bom_pagination.md</code> (rendering/layout changes already done).</li> </ul>"},{"location":"issues/tasklist-audit/","title":"Audit legacy task lists (RefactorPlan, TODO, docs/tasks)","text":"<p>uid: ISS-0211 status: BACKLOG priority: medium owner_role: DOCUMENTATION estimate: 2d dependencies: [] risk: medium milestone: backlog</p>"},{"location":"issues/tasklist-audit/#category","title":"Category","text":"<p>DOCUMENTATION</p>"},{"location":"issues/tasklist-audit/#evidence","title":"Evidence","text":"<ul> <li><code>RefactorPlan.txt</code> still lists major work items (coverage gaps, Pydantic migration, config/graph models, rendering split, release hygiene, layout polish) with no corresponding entries under <code>docs/features/</code> or <code>docs/issues/</code> beyond <code>docs/features/bom_pagination.md</code>.</li> <li><code>TODO.md</code> contains release/branding tasks (PyPI metadata, icons/style, publish on tags, GH Pages) with no tracking docs.</li> <li><code>docs/tasks.md</code> lists many legacy tasks (pydantic BaseModel migration, pupeteer preview, ruff hook, connection-only view, dual-color wire, light/dark mode, part library, recursive cables, etc.) without links to current feature/issue records. One item (<code>bom_on_separate_page_by_config</code>) is covered by <code>docs/features/bom_pagination.md</code>.</li> </ul>"},{"location":"issues/tasklist-audit/#expected-state","title":"Expected State","text":"<p>Each active task in RefactorPlan/TODO/docs/tasks should be represented by a <code>docs/features/*</code> or <code>docs/issues/*</code> entry (or marked obsolete), with cross-links so the lists don\u2019t drift from the tracked work.</p>"},{"location":"issues/tasklist-audit/#findings","title":"Findings","text":"<ul> <li>Covered: BOM pagination/derivative diagrams already tracked and marked DONE in <code>docs/features/bom_pagination.md</code> (covers RefactorPlan step 11 and <code>bom_on_separate_page_by_config</code> in <code>docs/tasks.md</code>).</li> <li>Not tracked: Coverage hardening (RefactorPlan 1\u20132), Pydantic migration (3, 7, 8, 13), config/graph modeling (4), rendering split/templating audit (5), release/publish hygiene (6 + TODO.md items), BOM correctness (9), layout polish (10), document representation follow-ups (12).</li> <li>Legacy task list items without trackers: pydantic BaseModel migration, puppeteer preview, ruff pre-commit, connection-only view, dual-color wires, light/dark mode, part library and recursive cables, networkx graph representation, etc.</li> </ul>"},{"location":"issues/tasklist-audit/#suggested-next-steps","title":"Suggested Next Steps","text":"<ol> <li>Create <code>docs/issues/coverage-hardening.md</code> to consolidate RefactorPlan steps 1\u20132 with current coverage data. \u2705</li> <li>Create <code>docs/features/pydantic-migration.md</code> (covering RefactorPlan 3, 7, 8, 13 and <code>docs/tasks</code> pydantic item). \u2705</li> <li>Create <code>docs/features/config-graph-models.md</code> (RefactorPlan 4 + docs/tasks networkx/config items). \u2705</li> <li>Create <code>docs/issues/rendering-templating-audit.md</code> (RefactorPlan 5 + layout polish from step 10). \u2705</li> <li>Create <code>docs/issues/release-hygiene.md</code> to track TODO.md release/branding tasks and RefactorPlan step 6. \u2705</li> <li>Create <code>docs/issues/bom-and-splice-correctness.md</code> (RefactorPlan 9). \u2705</li> <li>Triaging <code>docs/tasks.md</code>: add links to the above trackers, mark <code>bom_on_separate_page_by_config</code> as covered by <code>docs/features/bom_pagination.md</code>, and prune/close obsolete items after operator review. (Partially done: coverage note added.)</li> </ol>"},{"location":"issues/tasklist-audit/#impact","title":"Impact","text":"<p>Without trackers, task lists drift and contributors can\u2019t tell what\u2019s active or already delivered. Aligning lists with issues/features restores a single source of truth for planning and documentation.</p>"},{"location":"issues/tasklist-audit/#questions-for-operator","title":"Questions for Operator","text":"<ul> <li>Are any items in <code>docs/tasks.md</code> obsolete and safe to drop instead of tracking (e.g., puppeteer preview, light/dark mode, part library work)?</li> <li>Should the release/branding tasks in <code>TODO.md</code> move into a single release-hygiene issue, or be split (PyPI metadata vs. GH Pages)?</li> </ul>"},{"location":"issues/template-approvals/","title":"Template: Approvals / Signoff Page","text":"<p>uid: ISS-0028 status: BACKLOG priority: medium owner_role: REWORK estimate: TBD dependencies: [] risk: medium milestone: backlog</p>"},{"location":"issues/template-approvals/#category","title":"Category","text":"<p>UI \u2014 Importance: High</p>"},{"location":"issues/template-approvals/#proposal","title":"Proposal","text":"<p>Add an approvals/signoff template for engineering release packets. The page captures designer/reviewer (and optional approver) signatures with dates and comments, without diagrams/BOM.</p>"},{"location":"issues/template-approvals/#model","title":"Model","text":"<pre><code>class ApprovalSlot(BaseModel):\n    role: str           # e.g., Designer, Reviewer, Approver\n    name: Optional[str]\n    date: Optional[str]\n    comment: Optional[str]\n    signature: Optional[str]  # path/URL to image or base64 data URI\n\nclass ApprovalPageContext(BaseModel):\n    metadata: Metadata        # part number, revision, title, company\n    approvals: List[ApprovalSlot]  # at least Designer + Reviewer\n    notes: Optional[str]      # optional release note/summary\n    options: PageOptions      # fonts/colors/page size\n</code></pre>"},{"location":"issues/template-approvals/#template-content","title":"Template Content","text":"<ul> <li>Based on <code>page.html</code> sizing, with no diagram/BOM.</li> <li>Header showing part number, revision, title, and company.</li> <li>Two or three signature blocks (Designer, Reviewer, optional Approver) with printed name, date, comment, and signature image placeholder line if no image provided.</li> <li>Optional notes section for release rationale or scope.</li> </ul>"},{"location":"issues/template-approvals/#where-used","title":"Where Used","text":"<ul> <li>Release/QA packages requiring explicit signoff from designer and reviewer.</li> <li>Front-matter page in bundled PDFs for compliance workflows.</li> </ul>"},{"location":"issues/template-bom-procurement/","title":"Template: Procurement BOM (minimal layout)","text":"<p>uid: ISS-0029 status: BACKLOG priority: medium owner_role: REWORK estimate: TBD dependencies: [] risk: medium milestone: backlog</p>"},{"location":"issues/template-bom-procurement/#category","title":"Category","text":"<p>UI \u2014 Importance: High</p>"},{"location":"issues/template-bom-procurement/#proposal","title":"Proposal","text":"<p>Add a procurement-focused BOM template that outputs a clean table (no title block/diagram) for purchasing teams. Keep page size flexible (A4/A3), with optional grouping by supplier.</p>"},{"location":"issues/template-bom-procurement/#model","title":"Model","text":"<pre><code>class ProcurementBomRow(BaseModel):\n    line: int\n    part_number: str\n    description: str\n    quantity: float\n    unit: str = \"ea\"\n    supplier: Optional[str]\n    supplier_pn: Optional[str]\n    reference: Optional[str]  # harness/page reference\n\nclass ProcurementBomContext(BaseModel):\n    rows: List[ProcurementBomRow]\n    metadata: Metadata  # for title/part numbers\n    options: PageOptions  # for fonts/colors\n</code></pre>"},{"location":"issues/template-bom-procurement/#template-content","title":"Template Content","text":"<ul> <li>Page wrapper reuses <code>page.html</code> base sizing but hides diagram/titleblock.</li> <li>Simple table: columns for Line, Part Number, Description, Qty, Unit, Supplier, Supplier PN, Reference.</li> <li>Optional grouping by supplier (toggle flag in context).</li> <li>Summary footer (total unique parts, total quantity).</li> </ul>"},{"location":"issues/template-bom-procurement/#where-used","title":"Where Used","text":"<ul> <li>Standalone export for purchasing/procurement handoff.</li> <li>CI artifact when <code>formats</code> includes a procurement flag (e.g., <code>B</code>).</li> </ul>"},{"location":"issues/template-checklist/","title":"Template: Assembly/Test Checklist","text":"<p>uid: ISS-0030 status: BACKLOG priority: medium owner_role: REWORK estimate: TBD dependencies: [] risk: medium milestone: backlog</p>"},{"location":"issues/template-checklist/#category","title":"Category","text":"<p>UI \u2014 Importance: Medium</p>"},{"location":"issues/template-checklist/#proposal","title":"Proposal","text":"<p>Add a checklist template for assembly or test steps tied to a harness. Provides step descriptions, expected results, and pass/fail/notes columns for technicians.</p>"},{"location":"issues/template-checklist/#model","title":"Model","text":"<pre><code>class ChecklistItem(BaseModel):\n    step: int\n    description: str\n    expected: Optional[str]\n    tools: Optional[str]\n    note: Optional[str]\n\nclass ChecklistContext(BaseModel):\n    title: str\n    metadata: Metadata\n    items: List[ChecklistItem]\n    options: PageOptions\n</code></pre>"},{"location":"issues/template-checklist/#template-content","title":"Template Content","text":"<ul> <li>Header with part number, revision, title, and optional harness/page name.</li> <li>Table columns: Step, Description, Expected, Tools, Result (checkbox), Notes.</li> <li>Space for technician initials/date at bottom.</li> <li>Printable spacing and alternating row shading for readability.</li> </ul>"},{"location":"issues/template-checklist/#where-used","title":"Where Used","text":"<ul> <li>Assembly and verification workflows accompanying diagrams/BOMs.</li> <li>QA signoff packages requiring step-by-step confirmation.</li> </ul>"},{"location":"issues/template-connector-pinout-summary/","title":"Template: Connector Pinout Summary","text":"<p>uid: ISS-0031 status: BACKLOG priority: medium owner_role: REWORK estimate: TBD dependencies: [] risk: medium milestone: backlog</p>"},{"location":"issues/template-connector-pinout-summary/#category","title":"Category","text":"<p>UI \u2014 Importance: High</p>"},{"location":"issues/template-connector-pinout-summary/#proposal","title":"Proposal","text":"<p>Add a connector pinout summary template that lists each connector with its pins, functions, colors, and mating info, aggregated on a single page.</p>"},{"location":"issues/template-connector-pinout-summary/#model","title":"Model","text":"<pre><code>class PinInfo(BaseModel):\n    pin: str\n    signal: Optional[str]\n    color: Optional[str]\n    gauge: Optional[str]\n    termination: Optional[str]\n\nclass ConnectorSummary(BaseModel):\n    name: str           # designator (e.g., J1)\n    description: Optional[str]\n    part_number: Optional[str]\n    mate: Optional[str]\n    pins: List[PinInfo]\n\nclass ConnectorPinoutContext(BaseModel):\n    connectors: List[ConnectorSummary]\n    metadata: Metadata\n    options: PageOptions\n</code></pre>"},{"location":"issues/template-connector-pinout-summary/#template-content","title":"Template Content","text":"<ul> <li>Table per connector: header with name/description/PN/mate; pin table with Pin, Signal, Color, Gauge, Termination columns.</li> <li>Optional compact multi-connector layout for A4/A3; alternating row shading for readability.</li> </ul>"},{"location":"issues/template-connector-pinout-summary/#where-used","title":"Where Used","text":"<ul> <li>Technician reference sheet for wiring/testing without full diagrams.</li> <li>QA packs needing quick pin/function lookup.</li> </ul>"},{"location":"issues/template-cut-table-basemodel/","title":"Add BaseModel for cut_table rows","text":"<p>uid: ISS-0032 status: BACKLOG priority: medium owner_role: REWORK estimate: TBD dependencies: [] risk: medium milestone: backlog</p>"},{"location":"issues/template-cut-table-basemodel/#category","title":"Category","text":"<p>UI</p>"},{"location":"issues/template-cut-table-basemodel/#evidence","title":"Evidence","text":"<ul> <li><code>src/filare/templates/cut_table.html</code> expects <code>rows</code> with <code>.wire</code>, <code>.partno</code>, <code>.color</code>, <code>.length</code> but no defined BaseModel or schema for those rows.</li> <li>Context is assembled ad hoc in rendering; StrictUndefined will fail at runtime without guiding contributors on required fields.</li> </ul>"},{"location":"issues/template-cut-table-basemodel/#user-impact","title":"User Impact","text":"<p>Persona A/B/C contributors cannot safely modify or extend the cut table; mistakes surface as runtime template errors instead of schema validation. CI cannot validate inputs before render.</p>"},{"location":"issues/template-cut-table-basemodel/#suggested-next-steps","title":"Suggested Next Steps","text":"<ul> <li>Introduce a Pydantic BaseModel (e.g., <code>CutTableRow</code>) with fields <code>wire</code>, <code>partno</code>, <code>color</code>, <code>length</code> and use it to build the <code>rows</code> collection passed to the template.</li> <li>Document the expected shape in template docs and tests.</li> </ul>"},{"location":"issues/template-grid-border/","title":"Template: Diagram Grid Border (Lettered)","text":"<p>uid: ISS-0033 status: BACKLOG priority: medium owner_role: REWORK estimate: TBD dependencies: [] risk: medium milestone: backlog</p>"},{"location":"issues/template-grid-border/#category","title":"Category","text":"<p>UI \u2014 Importance: Medium</p>"},{"location":"issues/template-grid-border/#proposal","title":"Proposal","text":"<p>Add an optional lettered/numbered grid border around diagram pages so users can pinpoint locations (standard drawing practice). Grid labels (A, B, C\u2026 on one axis; 1, 2, 3\u2026 on the other) should overlay margins without obscuring diagrams.</p>"},{"location":"issues/template-grid-border/#model","title":"Model","text":"<pre><code>class GridBorderOptions(BaseModel):\n    enabled: bool = True\n    columns: int = 4     # number of vertical divisions (A, B, C, D\u2026)\n    rows: int = 4        # number of horizontal divisions (1, 2, 3, 4\u2026)\n    offset_mm: float = 5 # margin offset from frame\n    font_size_mm: float = 3\n    color: str = \"#000\"\n\nclass GridBorderContext(BaseModel):\n    metadata: Metadata\n    options: PageOptions\n    grid: GridBorderOptions\n</code></pre>"},{"location":"issues/template-grid-border/#template-content","title":"Template Content","text":"<ul> <li>Overlay around <code>page.html</code>/<code>harness</code> diagrams: small labels on top/bottom (letters) and left/right (numbers) positioned in the margin.</li> <li>Non-intrusive CSS so diagrams remain unchanged; labels sit outside the frame border.</li> <li>Configurable divisions, font size, and color via <code>grid</code> options; default 4x4 grid.</li> </ul>"},{"location":"issues/template-grid-border/#where-used","title":"Where Used","text":"<ul> <li>Harness diagrams for technicians/reviewers who need to reference locations (\u201cSee A3 for issue\u201d).</li> <li>Printed/PDF outputs where standard drawing grids are expected.</li> </ul>"},{"location":"issues/template-image-gallery/","title":"Template: Image Gallery / Reference Photos","text":"<p>uid: ISS-0034 status: BACKLOG priority: medium owner_role: REWORK estimate: TBD dependencies: [] risk: medium milestone: backlog</p>"},{"location":"issues/template-image-gallery/#category","title":"Category","text":"<p>UI \u2014 Importance: Low</p>"},{"location":"issues/template-image-gallery/#proposal","title":"Proposal","text":"<p>Add a template to present reference images (photos, diagrams) with captions and optional tags, useful for assembly guidance and visual QA.</p>"},{"location":"issues/template-image-gallery/#model","title":"Model","text":"<pre><code>class GalleryImage(BaseModel):\n    src: str         # path/URL to image\n    caption: str\n    tags: List[str] = []\n    width_mm: Optional[float]  # optional sizing override\n\nclass GalleryContext(BaseModel):\n    title: str\n    metadata: Metadata\n    images: List[GalleryImage]\n    options: PageOptions  # fonts/colors/page size\n</code></pre>"},{"location":"issues/template-image-gallery/#template-content","title":"Template Content","text":"<ul> <li>Page layout with responsive grid of images; optional tag badges under captions.</li> <li>Supports per-image width override or auto-fit within columns.</li> <li>Optional \u201cbillboard\u201d lead image at top, followed by grid.</li> <li>Printable-friendly (A4/A3) with consistent margins.</li> </ul>"},{"location":"issues/template-image-gallery/#where-used","title":"Where Used","text":"<ul> <li>Assembly and inspection packets requiring annotated photos.</li> <li>Reference pages in PDF bundles when sharing harness visuals without full diagrams.</li> </ul>"},{"location":"issues/template-label-sheet/","title":"Template: Label Sheet (Wire/Connector Tags)","text":"<p>uid: ISS-0035 status: BACKLOG priority: medium owner_role: REWORK estimate: TBD dependencies: [] risk: medium milestone: backlog</p>"},{"location":"issues/template-label-sheet/#category","title":"Category","text":"<p>UI \u2014 Importance: Medium</p>"},{"location":"issues/template-label-sheet/#proposal","title":"Proposal","text":"<p>Add a label-sheet template to generate printable tags for wires/connectors. Users can print adhesive labels with designator, pin, color, and optional QR/shortcode.</p>"},{"location":"issues/template-label-sheet/#model","title":"Model","text":"<pre><code>class LabelEntry(BaseModel):\n    ref: str            # e.g., W1, J2-3\n    text: str           # display text (pin/function)\n    color: Optional[str]\n    qty: int = 1\n    qr: Optional[str]   # data to encode (optional)\n\nclass LabelSheetContext(BaseModel):\n    labels: List[LabelEntry]\n    metadata: Metadata\n    options: PageOptions\n    columns: int = 3         # grid columns\n    rows: int = 8            # grid rows\n    cell_width_mm: float = 60\n    cell_height_mm: float = 20\n</code></pre>"},{"location":"issues/template-label-sheet/#template-content","title":"Template Content","text":"<ul> <li>Grid layout with configurable rows/columns and cell dimensions.</li> <li>Each cell shows ref, text, color swatch, optional QR/shortcode block.</li> <li>Minimal borders for cutting; supports repeating labels per <code>qty</code>.</li> </ul>"},{"location":"issues/template-label-sheet/#where-used","title":"Where Used","text":"<ul> <li>Printing wire/connector markers for assembly.</li> <li>Providing quick ID stickers for QA/testing.</li> </ul>"},{"location":"issues/template-nesting-fixtures/","title":"Issue: Add fixtures for nested template rendering","text":"<p>uid: ISS-0104 status: BACKLOG priority: medium owner_role: FEATURE estimate: 1d dependencies: [] risk: medium milestone: templates-models</p>"},{"location":"issues/template-nesting-fixtures/#summary","title":"Summary","text":"<p>Several templates render the output of other templates (e.g., page includes titleblock, din-6771 includes notes/BOM). Identify all such dependencies and update tests to use fixtures that render the dependent templates before embedding them in the parent\u2019s factory/test. This ensures nested rendering paths stay consistent and exercised.</p>"},{"location":"issues/template-nesting-fixtures/#requirements","title":"Requirements","text":"<ul> <li>Inventory templates that include/extend other template renders (e.g., page/titleblock, din-6771/notes/bom, cut/cut_table, cable/component_table, connector/component_table).</li> <li>For each dependent relationship, add a pytest fixture that renders the child template via its factory and injects it into the parent factory in tests.</li> <li>Ensure tests assert that nested rendered content is present in the parent render.</li> </ul>"},{"location":"issues/template-nesting-fixtures/#related","title":"Related","text":"<ul> <li>tests/templates/test_page_template_model.py</li> <li>tests/templates/test_din_6771_template_model.py</li> <li>tests/templates/test_cut_template_model.py</li> <li>tests/templates/test_cable_template_model.py</li> <li>tests/templates/test_connector_template_model.py</li> </ul>"},{"location":"issues/template-notes-changelog/","title":"Template: Notes/Changelog Page","text":"<p>uid: ISS-0036 status: BACKLOG priority: medium owner_role: REWORK estimate: TBD dependencies: [] risk: medium milestone: backlog</p>"},{"location":"issues/template-notes-changelog/#category","title":"Category","text":"<p>UI \u2014 Importance: Medium</p>"},{"location":"issues/template-notes-changelog/#proposal","title":"Proposal","text":"<p>Add a notes-only/changelog template to capture release notes, approvals, and revision history without diagrams or BOM. Provides a clean page for managers/QA signoff.</p>"},{"location":"issues/template-notes-changelog/#model","title":"Model","text":"<pre><code>class ChangeLogEntry(BaseModel):\n    revision: str\n    date: str\n    author: str\n    summary: str\n\nclass NotesPageContext(BaseModel):\n    title: str\n    metadata: Metadata  # for part number/company/revision\n    notes: List[str]    # bullet notes or paragraphs\n    changelog: List[ChangeLogEntry]\n    options: PageOptions  # fonts/colors/page size\n</code></pre>"},{"location":"issues/template-notes-changelog/#template-content","title":"Template Content","text":"<ul> <li>Based on <code>page.html</code> sizing; removes diagram/BOM blocks.</li> <li>Sections: Title header (from metadata/title), Notes list, Changelog table (Rev/Date/Author/Summary), optional approvals/signatures row.</li> <li>Uses shared CSS tokens for spacing to align with other pages.</li> </ul>"},{"location":"issues/template-notes-changelog/#where-used","title":"Where Used","text":"<ul> <li>Release packages where a narrative or signoff page is required alongside harness diagrams.</li> <li>QA/manager review packets; front-matter in PDF bundles.</li> </ul>"},{"location":"issues/template-render-artifacts/","title":"Issue: Save rendered template outputs for review","text":"<p>uid: ISS-0105 status: BACKLOG priority: medium owner_role: FEATURE estimate: 1d dependencies: [] risk: medium milestone: templates-models</p>"},{"location":"issues/template-render-artifacts/#summary","title":"Summary","text":"<p>When running template tests, rendered HTML/diagrams aren\u2019t persisted. Add an option/fixture to write rendered outputs to a dedicated directory (e.g., <code>outputs/tests/templates/&lt;template_name&gt;.html</code>) so operators can review artifacts after test runs.</p>"},{"location":"issues/template-render-artifacts/#requirements","title":"Requirements","text":"<ul> <li>Identify all template render tests (under <code>tests/templates/</code>).</li> <li>Add a consistent mechanism (pytest fixture or helper) to save rendered output for each template into <code>outputs/tests/templates/</code>.</li> <li>Ensure directory creation is handled and paths are deterministic per template/test.</li> <li>Keep saving optional/configurable to avoid polluting outputs during normal runs.</li> </ul>"},{"location":"issues/template-render-artifacts/#related","title":"Related","text":"<ul> <li>tests/templates/*</li> </ul>"},{"location":"issues/template-simple-din6771-basemodel/","title":"Add BaseModel/context schema for legacy simple templates","text":"<p>uid: ISS-0037 status: BACKLOG priority: medium owner_role: REWORK estimate: TBD dependencies: [] risk: medium milestone: backlog</p>"},{"location":"issues/template-simple-din6771-basemodel/#category","title":"Category","text":"<p>UI</p>"},{"location":"issues/template-simple-din6771-basemodel/#evidence","title":"Evidence","text":"<ul> <li><code>src/filare/templates/simple.html</code>, <code>simple-connector.html</code>, and <code>din-6771.html</code> rely on implicit context keys (<code>generator</code>, <code>title</code>, <code>diagram</code>, <code>notes</code>, etc.) with no documented BaseModel.</li> <li>Usage is unclear; no schema validation protects contributors from missing/mistyped keys.</li> </ul>"},{"location":"issues/template-simple-din6771-basemodel/#user-impact","title":"User Impact","text":"<p>Developers cannot confidently reuse or extend these templates; errors show up only at render time. Personas A/D have no guidance on when or how to use these templates.</p>"},{"location":"issues/template-simple-din6771-basemodel/#suggested-next-steps","title":"Suggested Next Steps","text":"<ul> <li>Define a small Pydantic view model describing the expected context for these templates (title, generator, diagram HTML/SVG, notes text, optional component info).</li> <li>Document intended use cases (e.g., lightweight outputs) and include example data in template docs/tests.</li> </ul>"},{"location":"issues/template-termination-table-basemodel/","title":"Add BaseModel for termination_table rows","text":"<p>uid: ISS-0038 status: BACKLOG priority: medium owner_role: REWORK estimate: TBD dependencies: [] risk: medium milestone: backlog</p>"},{"location":"issues/template-termination-table-basemodel/#category","title":"Category","text":"<p>UI</p>"},{"location":"issues/template-termination-table-basemodel/#evidence","title":"Evidence","text":"<ul> <li><code>src/filare/templates/termination_table.html</code> iterates <code>rows</code> with <code>.source</code>, <code>.target</code>, <code>.source_termination</code>, <code>.target_termination</code> but no BaseModel/schema defines this shape.</li> <li>Missing or misspelled fields surface only as template errors due to StrictUndefined, with no pre-validation.</li> </ul>"},{"location":"issues/template-termination-table-basemodel/#user-impact","title":"User Impact","text":"<p>Contributors and users get runtime failures instead of schema feedback; automation cannot verify inputs before rendering termination tables.</p>"},{"location":"issues/template-termination-table-basemodel/#suggested-next-steps","title":"Suggested Next Steps","text":"<ul> <li>Define a Pydantic BaseModel (e.g., <code>TerminationRow</code>) capturing the required fields and types.</li> <li>Build the <code>rows</code> collection from these models before rendering; document expected shape in template docs and tests.</li> </ul>"},{"location":"issues/template-wirelist/","title":"Template: Wire List / Netlist","text":"<p>uid: ISS-0039 status: BACKLOG priority: medium owner_role: REWORK estimate: TBD dependencies: [] risk: medium milestone: backlog</p>"},{"location":"issues/template-wirelist/#category","title":"Category","text":"<p>UI \u2014 Importance: High</p>"},{"location":"issues/template-wirelist/#proposal","title":"Proposal","text":"<p>Add a wire list template that outputs a concise netlist-style table for each connection, useful for technicians and testers. Focus on source/target pins, wire IDs, colors, lengths, and terminations.</p>"},{"location":"issues/template-wirelist/#model","title":"Model","text":"<pre><code>class WireListRow(BaseModel):\n    wire_id: str\n    from_ref: str        # e.g., connector_a.1\n    to_ref: str          # e.g., connector_b.1\n    color: Optional[str]\n    length: Optional[str]\n    source_term: Optional[str]\n    target_term: Optional[str]\n    note: Optional[str]\n\nclass WireListContext(BaseModel):\n    rows: List[WireListRow]\n    metadata: Metadata\n    options: PageOptions\n</code></pre>"},{"location":"issues/template-wirelist/#template-content","title":"Template Content","text":"<ul> <li>Table columns: Wire ID, From, To, Color, Length, Source Termination, Target Termination, Note.</li> <li>Optional grouping by harness/page; print page title/part number in header.</li> <li>Printable layout with wrap/ellipsis for long labels; alternate row shading.</li> </ul>"},{"location":"issues/template-wirelist/#where-used","title":"Where Used","text":"<ul> <li>Assembly/test teams needing a compact netlist separate from diagrams.</li> <li>CI artifacts for connectivity checks.</li> </ul>"},{"location":"issues/termination-pin-labels/","title":"Termination table omits pin details","text":"<p>uid: ISS-0040 status: BACKLOG priority: medium owner_role: REWORK estimate: TBD dependencies: [] risk: medium milestone: backlog</p>"},{"location":"issues/termination-pin-labels/#category","title":"Category","text":"<p>BUG</p>"},{"location":"issues/termination-pin-labels/#evidence","title":"Evidence","text":"<ul> <li>Termination diagram rows show only connector designators under \"Source\" and \"Target\" but drop the specific pin numbers, making the table ambiguous.</li> </ul>"},{"location":"issues/termination-pin-labels/#suggested-next-steps","title":"Suggested Next Steps","text":"<ul> <li>Update termination table generation to include both connector and pin identifiers for each endpoint.</li> <li>Add a regression sample (multi-page termination) that asserts pin numbers appear in rendered HTML.</li> <li>Rebuild multi-page examples and verify links still point to paginated termination pages (including <code>.a</code> for the first page when multiple pages exist).</li> </ul>"},{"location":"issues/titleblock-formatting-titlepage/","title":"Titleblock formatting on titlepage is incorrect","text":"<p>uid: ISS-0041 status: BACKLOG priority: medium owner_role: REWORK estimate: TBD dependencies: [] risk: medium milestone: backlog</p>"},{"location":"issues/titleblock-formatting-titlepage/#category","title":"Category","text":"<p>FEATURE</p>"},{"location":"issues/titleblock-formatting-titlepage/#evidence","title":"Evidence","text":"<ul> <li>Observed in titlepage output: titleblock layout appears improperly formatted (spacing/alignment issues) on the titlepage template.</li> </ul>"},{"location":"issues/titleblock-formatting-titlepage/#suggested-next-steps","title":"Suggested Next Steps","text":"<ul> <li>Reproduce with current examples/titlepage to identify the misalignment in the titleblock.</li> <li>Adjust titleblock template/CSS for titlepage context to restore correct spacing/alignment.</li> <li>Add a regression test that renders the titlepage and asserts expected structure/positions.</li> </ul>"},{"location":"issues/titlepage-bom-pagination/","title":"Paginate titlepage BOM when large","text":"<p>uid: ISS-0042 status: BACKLOG priority: medium owner_role: REWORK estimate: TBD dependencies: [] risk: medium milestone: backlog</p>"},{"location":"issues/titlepage-bom-pagination/#category","title":"Category","text":"<p>FEATURE</p>"},{"location":"issues/titlepage-bom-pagination/#evidence","title":"Evidence","text":"<ul> <li>The titlepage currently embeds the full BOM on the first page, which overflows when many items are present. There is no automatic pagination to a separate page.</li> </ul>"},{"location":"issues/titlepage-bom-pagination/#suggested-next-steps","title":"Suggested Next Steps","text":"<ul> <li>Add a threshold (default 30 rows) to split the titlepage BOM into a dedicated page when the BOM exceeds that size.</li> <li>Ensure split BOM pages integrate with existing pagination/lettered suffix behavior and are reflected in the index table.</li> <li>Provide a harness option to override the threshold.</li> <li>Add regression coverage with a sample exceeding the threshold.</li> </ul>"},{"location":"issues/titlepage-contents-pagination/","title":"Paginate titlepage contents table when large","text":"<p>uid: ISS-0043 status: BACKLOG priority: medium owner_role: REWORK estimate: TBD dependencies: [] risk: medium milestone: backlog</p>"},{"location":"issues/titlepage-contents-pagination/#category","title":"Category","text":"<p>FEATURE</p>"},{"location":"issues/titlepage-contents-pagination/#evidence","title":"Evidence","text":"<ul> <li>The titlepage content/index table can grow long (multiple harnesses/split pages) and currently stays on the titlepage without pagination. When it exceeds a reasonable length, it should be split out.</li> </ul>"},{"location":"issues/titlepage-contents-pagination/#suggested-next-steps","title":"Suggested Next Steps","text":"<ul> <li>Introduce a threshold (default 20 rows) to emit the content/index table on its own page when it exceeds that size.</li> <li>Keep links and sheet numbering consistent with lettered suffix behavior for split pages.</li> <li>Make the threshold configurable via options.</li> <li>Add a regression example and test covering a multi-harness document exceeding the threshold.</li> </ul>"},{"location":"issues/titlepage-harness-content/","title":"Titlepage includes harness content","text":"<p>uid: ISS-0044 status: BACKLOG priority: medium owner_role: REWORK estimate: TBD dependencies: [] risk: medium milestone: backlog</p>"},{"location":"issues/titlepage-harness-content/#category","title":"Category","text":"<p>FEATURE</p>"},{"location":"issues/titlepage-harness-content/#evidence","title":"Evidence","text":"<ul> <li>Titlepage output currently shows a \"Harness\" content entry when split pages or content listings are generated; titlepage should be limited to index/title information only.</li> </ul>"},{"location":"issues/titlepage-harness-content/#suggested-next-steps","title":"Suggested Next Steps","text":"<ul> <li>Adjust titlepage rendering/index generation to omit any harness content rows for the titlepage.</li> <li>Add regression test to ensure titlepage pages do not list or embed harness content blocks.</li> <li>Verify downstream templates and index tables remain correct once titlepage content is pruned.</li> </ul>"},{"location":"issues/titlepage-overlap-examples/","title":"Overlaps on examples titlepage (outputs/examples/titlepage.html)","text":"<p>uid: ISS-0212 status: BACKLOG priority: medium owner_role: FEATURE estimate: TBD dependencies: [] risk: medium milestone: backlog</p>"},{"location":"issues/titlepage-overlap-examples/#category","title":"Category","text":"<p>BUG</p>"},{"location":"issues/titlepage-overlap-examples/#evidence","title":"Evidence","text":"<ul> <li><code>docker run --rm -v \"$PWD:/workspace\" filare-overlap \"outputs/**/*.html\" --viewport 1280x720 --warn-threshold 1 --error-threshold 2 --json outputs/overlap-report.json</code> reports 26 errors on <code>/workspace/outputs/examples/titlepage.html</code>.</li> <li>Sample errors (depth in px):</li> <li><code>BOM</code> overlaps <code>INDEX TABLE</code> (depth ~17) near the title block headers.</li> <li>Long note text (<code>Cover all cables with 1/2\" or 1/8\" black sleeving ...</code>) overlaps multiple signature fields (<code>Harness</code>, <code>Date</code>, <code>Name</code>, <code>created</code> labels).</li> <li><code>Designators</code> overlaps <code>Content</code> in the index table header (depth ~11).</li> <li>Various index entries (e.g., <code>ex10.termination.html</code>) overlap <code>Rev</code>/changelog fields and signature blocks.</li> </ul>"},{"location":"issues/titlepage-overlap-examples/#hypothesis","title":"Hypothesis","text":"<ul> <li>The shared examples titlepage packs signature fields, index table headers, and long notes into the same vertical region without enough spacing or line wrapping. Long notes bleed into the signature row; the BOM/INDEX headers collide because they sit on the same line with minimal padding. The template likely needs additional vertical spacing/padding and/or truncation/wrapping for long note strings on the titlepage layout.</li> </ul>"},{"location":"issues/titlepage-overlap-examples/#suggested-next-steps","title":"Suggested Next Steps","text":"<ul> <li>Increase vertical spacing between the notes area and the signature row; wrap or clamp long note text on the titlepage.</li> <li>Add margin/padding between BOM/INDEX headers in the titlepage grid to avoid header collisions.</li> <li>Re-run <code>filare-check-overlap</code> after template tweaks to confirm zero errors on <code>outputs/examples/titlepage.html</code>.</li> </ul>"},{"location":"issues/titlepage-overlap-root/","title":"Overlap on root titlepage (outputs/titlepage.html)","text":"<p>uid: ISS-0213 status: BACKLOG priority: medium owner_role: FEATURE estimate: TBD dependencies: [] risk: medium milestone: backlog</p>"},{"location":"issues/titlepage-overlap-root/#category","title":"Category","text":"<p>BUG</p>"},{"location":"issues/titlepage-overlap-root/#evidence","title":"Evidence","text":"<ul> <li><code>filare-check-overlap</code> flags <code>/workspace/outputs/titlepage.html</code> with an error: <code>BOM</code> overlaps <code>INDEX TABLE</code> (depth ~17 px) in the title block header area.</li> </ul>"},{"location":"issues/titlepage-overlap-root/#hypothesis","title":"Hypothesis","text":"<ul> <li>The shared titlepage template renders BOM and INDEX headers on the same line with tight spacing; without padding/margin, the labels collide. Likely the same layout/padding issue seen on the examples/tutorial titlepages.</li> </ul>"},{"location":"issues/titlepage-overlap-root/#suggested-next-steps","title":"Suggested Next Steps","text":"<ul> <li>Adjust titlepage header layout to separate BOM/INDEX labels (e.g., add horizontal padding or split onto distinct cells/lines).</li> <li>Re-run overlap checker to ensure the root titlepage is clean.</li> </ul>"},{"location":"issues/titlepage-overlap-tutorial/","title":"Overlaps on tutorial titlepage (outputs/tutorial/titlepage.html)","text":"<p>uid: ISS-0214 status: BACKLOG priority: medium owner_role: FEATURE estimate: TBD dependencies: [] risk: medium milestone: backlog</p>"},{"location":"issues/titlepage-overlap-tutorial/#category","title":"Category","text":"<p>BUG</p>"},{"location":"issues/titlepage-overlap-tutorial/#evidence","title":"Evidence","text":"<ul> <li><code>filare-check-overlap</code> (via Playwright container) reports 9 errors on <code>/workspace/outputs/tutorial/titlepage.html</code>.</li> <li>Examples:</li> <li><code>Notes:</code> text overlaps <code>tutorial08</code> and <code>tutorial08.bom</code> entries (depths ~8.4 and 6.6 px).</li> <li>Note body lines (e.g., <code>Wire color is a recommendation</code>, <code>Label harnesses with text given in diagram</code>) overlap index entries (<code>tutorial08.index</code>) with depths up to ~10 px.</li> <li>BOM rows (e.g., <code>Wire, 0.25 mm\u00b2, BK/RD/YE</code>) overlap signature fields (<code>Date</code>, <code>created</code>, <code>2023-03-29</code>).</li> </ul>"},{"location":"issues/titlepage-overlap-tutorial/#hypothesis","title":"Hypothesis","text":"<ul> <li>The tutorial titlepage shares the same layout constraints as the examples titlepage: long note lines and dense index/BOM rows are vertically colliding with signature/header fields due to insufficient padding/line-height. The issue is layout/padding in the titlepage template rather than data errors.</li> </ul>"},{"location":"issues/titlepage-overlap-tutorial/#suggested-next-steps","title":"Suggested Next Steps","text":"<ul> <li>Add vertical spacing/wrapping for notes and index rows on the titlepage; ensure BOM and signature blocks have dedicated padding.</li> <li>Re-run <code>filare-check-overlap</code> to confirm tutorial titlepage is clean.</li> </ul>"},{"location":"projects/part-ingestion/","title":"Part Ingestion Project Plan","text":""},{"location":"projects/part-ingestion/#goals","title":"Goals","text":"<ul> <li>Build an optional, adapter-based part ingestion tool to pull manufacturer/distributor data (MPN, specs, datasheets, lifecycle, pricing/availability, alternates) into Filare\u2019s part model.</li> <li>Support region-aware distributor queries and manufacturer detail lookups without breaking offline workflows.</li> <li>Provide CLI/automation to fetch/update a local cache, keeping design files free of transient pricing while enabling enriched BOMs.</li> </ul>"},{"location":"projects/part-ingestion/#requirements","title":"Requirements","text":"<ul> <li>Interfaces</li> <li>CLI commands to fetch/update parts by MPN or by query (manufacturer + category).</li> <li>Configurable preferred distributor (Mouser, Digi-Key, Newark/element14) and region (country, currency, language).</li> <li>Optional manufacturer lookups (Molex, Samtec; Belden via distributor) for specs/datasheets when distributor data is insufficient.</li> <li>Output mapped to Filare\u2019s part model (common fields + type-specific attributes) with supplier lists and alternates.</li> <li>Local cache (file/DB) to store fetched data; design files reference stable part IDs.</li> <li>Dry-run and diff/report modes to review changes before applying to caches.</li> <li>Behavior</li> <li>Use official APIs (OAuth/API keys); avoid scraping.</li> <li>Graceful handling of missing keys/network: tool is optional; core workflows stay offline-safe.</li> <li>Rate-limit friendly: caching, pagination, backoff/retry.</li> <li>Locale-aware pricing/availability; specs/datasheets captured regardless of locale.</li> <li>Mapping layer normalizes distributor/manufacturer responses into Filare\u2019s schema; preserves source URLs and timestamps.</li> <li>Data scope</li> <li>Fields: pn/mpn, manufacturer, description, datasheet URL, lifecycle/rohs/reach, specs (type-specific), suppliers with price/qty/stock/lead/currency, alternates if provided.</li> <li>No bulk redistribution of pricing; store only as local cache; avoid embedding in versioned design files unless configured.</li> <li>Security &amp; Config</li> <li>API keys via env/config; never committed.</li> <li>Per-user/per-project config for preferred distributor/region and cache location.</li> </ul>"},{"location":"projects/part-ingestion/#phases-and-steps","title":"Phases and Steps","text":"<ul> <li>Phase 0: Foundations</li> <li>Define part model mapping (from ingestion to Filare schema).</li> <li>Specify config format (distributor preference, region, API keys, cache path).</li> <li> <p>Choose cache store (JSON/SQLite) and schema.</p> </li> <li> <p>Phase 1: Distributor Adapters (baseline)</p> </li> <li>Implement Mouser adapter (OAuth API): search by MPN, by keyword with manufacturer filter; pagination; map to part model.</li> <li>Implement Digi-Key adapter (OAuth + locale headers): search by MPN/category/manufacturer; map specs, pricing, availability.</li> <li>Implement Newark/element14 adapter (API key + region params): search by MPN/manufacturer/category; map to part model.</li> <li>Add CLI commands: <code>parts fetch --mpn ...</code>, <code>parts search --manufacturer ... --category ...</code>.</li> <li> <p>Add caching and rate-limit/backoff.</p> </li> <li> <p>Phase 2: Manufacturer Adapters (spec-first)</p> </li> <li>Molex adapter (product/details APIs) for specs/datasheets; fallback to distributors for pricing.</li> <li>Samtec adapter for specs/datasheets; optional key.</li> <li> <p>Belden via distributor data (unless official API secured).</p> </li> <li> <p>Phase 3: Enrichment &amp; Alternates</p> </li> <li>Normalize alternates/substitutes when provided by APIs; store with source.</li> <li>Add lifecycle/rohs/reach normalization.</li> <li> <p>Optional URL checker for datasheets/manufacturer links.</p> </li> <li> <p>Phase 4: Integration with Filare Outputs</p> </li> <li>Provide CLI to export cache entries into Filare-friendly artifacts (e.g., JSON library, YAML snippet).</li> <li>Update docs on linking design YAML to cached part IDs without embedding pricing.</li> <li> <p>Optional BOM enrichment step that merges cached supplier data when generating outputs (behind a flag).</p> </li> <li> <p>Phase 5: UX &amp; Ops</p> </li> <li>Add diff/report mode to review cache updates.</li> <li>Add per-source enable/disable flags; graceful degradation when keys/online not present.</li> <li>Provide examples for region selection (country/currency) per distributor.</li> </ul>"},{"location":"projects/part-ingestion/#hints-and-implementation-notes","title":"Hints and Implementation Notes","text":"<ul> <li>Keep adapters isolated; version their API interactions; mock responses for tests.</li> <li>Use a normalization layer to map differing field names into a common part schema.</li> <li>Treat pricing as volatile: cache with timestamp; default to omit from committed artifacts.</li> <li>Prefer pagination over large page sizes; respect distributor rate limits.</li> <li>Make region configurable per command; default to project config.</li> <li>Avoid schema churn by keeping the ingestion output a superset mapped onto Filare\u2019s part model; stash extra fields under <code>source_data</code> if needed.</li> </ul>"},{"location":"projects/part-ingestion/#validation","title":"Validation","text":"<ul> <li>Mocked integration tests per adapter (sample responses).</li> <li>CLI tests for fetch/search, caching, locale handling, and diff/report.</li> <li>Manual spot checks against known MPNs from Molex, Belden, Samtec, and distributor queries.</li> </ul>"},{"location":"research/","title":"Research Index","text":"<p>Research notes live here: architectural explorations, performance investigations, ingestion studies, and other spikes. Subfolders organize topics (e.g., <code>architecture/</code>, <code>performance-tools/</code>, vendor/parts research).</p> <p>Use these documents to capture findings and recommendations before committing to a design. When a direction is chosen, link the relevant feature or issue page so downstream work inherits the context.</p>"},{"location":"research/#highlighted-research-notes","title":"Highlighted research notes","text":"<ul> <li>Architecture explorations: Caching and incremental builds, configuration-layer unification, renderer plugin registry</li> <li>Pipeline and validation: Pipeline context refactor, validation contract layer</li> <li>Performance tooling: Performance tooling platform</li> <li>Mechanical and diagram studies: Mechanical harness diagrams, mechanical diagram elements</li> <li>Parts ingestion: Vendor parts ingestion, vendor parts integration, parts databases</li> </ul>"},{"location":"research/agent-container/","title":"Codex CLI Agent Container (Filare)","text":""},{"location":"research/agent-container/#summary","title":"Summary","text":"<p>Specification for a Docker image that bundles Filare tooling plus Codex CLI prerequisites, supports host UID/GID mapping, and allows bind-mounting the repo so changes persist. Includes tmux/neovim for operator comfort and headless Chromium/Playwright for tests.</p>"},{"location":"research/agent-container/#key-points","title":"Key Points","text":"<ul> <li>Image: <code>docker/Dockerfile.codex</code> installs uv/gh/git/rg/fd/jq/yq/just, Graphviz, npm, mermaid-cli, Playwright/Chromium, tmux, neovim, fonts, git-lfs.</li> <li>Build: <code>just codex-container-build</code> (tags <code>filare-codex</code>).</li> <li>Shell: <code>just codex-container-sh</code> uses <code>--user $(id -u):$(id -g)</code> and <code>-v $PWD:/workspace</code> so files are host-owned and persistent.</li> <li>Host dotfiles/configs: bind-mount optional <code>~/.tmux.conf</code>, <code>~/.config/nvim</code>, and <code>~/.codex</code> into the container user home (<code>/home/agent/...</code>) when running with <code>--user $(id -u):$(id -g)</code> and <code>-v $PWD:/home/agent/workspace</code>. The run wrapper mounts a temporary writable <code>.ssh</code> containing only the provided key; operators can accept host keys inside the container.</li> <li>Codex credentials: use host <code>~/.codex</code> mount; avoid baking secrets into the image.</li> <li>Branch sync: mount the repo so you control branch/cleanliness; otherwise clone in the container entry if needed.</li> </ul>"},{"location":"research/agent-container/#next-steps","title":"Next Steps","text":"<ul> <li>Add <code>just codex-container-sh</code> variants to inject env files for Codex creds. <code>just codex-container-run</code> wraps <code>scripts/run_codex_container.sh</code> and enforces SSH key/env file plus workspace seeding if empty.</li> <li>Optional: entrypoint to auto-clone/checkout a branch when repo is not mounted.</li> <li>Optional: volume for uv cache to speed repeated runs.</li> </ul>"},{"location":"research/belden-cable-ingestion/","title":"Belden Cable Part Number and Specs Ingestion","text":""},{"location":"research/belden-cable-ingestion/#summary","title":"Summary","text":"<p>Outlines how to gather Belden cable part numbers and specifications at scale. Direct Belden APIs are not documented in this environment, so the recommended path is to use official distributor APIs (Mouser, Digi-Key, Newark/element14) filtered to Belden cables. Provides curl examples and notes for confirming Belden-first endpoints when available.</p>"},{"location":"research/belden-cable-ingestion/#use-cases-for-filare","title":"Use Cases for Filare","text":"<ul> <li>Populate a catalog of Belden cables with part numbers, electrical/mechanical specs, and datasheets.</li> <li>Feed Filare\u2019s part model with trusted data without manual entry.</li> <li>Optionally keep pricing/availability from distributors alongside specs.</li> </ul>"},{"location":"research/belden-cable-ingestion/#technical-evaluation","title":"Technical Evaluation","text":"<ul> <li>Direct Belden endpoints: Public API documentation is not available here. Belden\u2019s site exposes product pages and search, but using undocumented endpoints risks breakage and TOS violations. Prefer documented sources.</li> <li>Distributor APIs (documented, stable):</li> <li>Mouser: REST API with OAuth; supports manufacturer filter and category filters (e.g., \u201cWire &amp; Cable\u201d).</li> <li>Digi-Key: REST API with OAuth + locale headers; supports manufacturer filter and family/category for cable.</li> <li>Newark/element14/Farnell: REST product API with API key; region via domain/params; supports manufacturer filtering.</li> <li>Data returned (per distributor):</li> <li>MPN (Belden part number), manufacturer (Belden), description, datasheet URL, key specs (gauge, conductor count, shielding, jacket, OD, impedance), lifecycle, RoHS/REACH, pricing/availability.</li> <li>Strategy:</li> <li>Use distributor APIs to bulk list all Belden cable SKUs via manufacturer + category filters.</li> <li>Paginate through results; cache locally.</li> <li>If a Belden-official feed/API is found, map it into the same ingestion adapter, but keep distributor path as baseline.</li> </ul>"},{"location":"research/belden-cable-ingestion/#complexity-score-15","title":"Complexity Score (1\u20135)","text":"<p>3 \u2014 Requires API auth, pagination, filtering, and mapping to Filare\u2019s part model; avoids scraping risk.</p>"},{"location":"research/belden-cable-ingestion/#maintenance-risk","title":"Maintenance Risk","text":"<ul> <li>Distributor APIs are stable but may change auth/version; keys and rate limits apply.</li> <li>Belden direct endpoints (if used) could be undocumented; mitigate by relying on distributors first.</li> </ul>"},{"location":"research/belden-cable-ingestion/#industry-business-usage","title":"Industry / Business Usage","text":"<ul> <li>PLM/ERP and sourcing tools commonly pull manufacturer data from distributor APIs for completeness and availability.</li> </ul>"},{"location":"research/belden-cable-ingestion/#who-uses-it-why-it-works-for-them","title":"Who Uses It &amp; Why It Works for Them","text":"<ul> <li>Procurement/engineering: need authoritative part numbers/specs plus availability/pricing for Belden cables.</li> <li>QA/Service: need datasheets and consistent IDs for replacements.</li> </ul>"},{"location":"research/belden-cable-ingestion/#feasibility","title":"Feasibility","text":"<ul> <li>Feasible now via distributor APIs; add optional Belden-first adapter if official docs/keys are available.</li> </ul>"},{"location":"research/belden-cable-ingestion/#required-work","title":"Required Work","text":"<ul> <li>REWORK tasks: Define ingestion adapter interface and mapping to Filare\u2019s part model for cables (gauge, conductor count, shield, impedance, OD, jacket, approvals).</li> <li>FEATURE tasks: Implement distributor adapters (Mouser, Digi-Key, Newark) with manufacturer/category filters for Belden cables; pagination; caching.</li> <li>TOOLS tasks: CLI to fetch/update Belden cable catalog; handle locale selection per distributor.</li> <li>DOCUMENTATION tasks: How to obtain API keys, set region, and run ingest; mapping of fields to Filare part schema.</li> <li>COVERAGE tasks: Mocked tests with sample API responses; ensure filters and pagination work; validate field mapping.</li> </ul>"},{"location":"research/belden-cable-ingestion/#recommendation","title":"Recommendation","text":"<p>ADOPT_LATER \u2014 Start with distributor APIs (Mouser/Digi-Key/Newark) to enumerate Belden cables; add Belden-official adapter only if documented endpoints/keys are secured.</p>"},{"location":"research/belden-cable-ingestion/#references","title":"References","text":"<ul> <li>Mouser API docs (product search).</li> <li>Digi-Key API docs (product search).</li> <li>Newark/element14/Farnell product API docs.</li> <li>Belden product catalog (for manual verification of MPNs/specs).</li> </ul>"},{"location":"research/belden-cable-ingestion/#optional-appendix","title":"Optional Appendix","text":"<ul> <li>Mouser (Belden cables; assumes <code>MOUSER_API_KEY</code>):</li> </ul> <pre><code>curl -X POST \"https://api.mouser.com/api/v1/search/partnumber?apiKey=${MOUSER_API_KEY}\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"SearchByKeywordRequest\": {\n      \"keyword\": \"Belden cable\",\n      \"records\": 50,\n      \"startingRecord\": 0,\n      \"searchOptions\": \"string\",\n      \"searchWithYourSignUpLanguage\": \"EN\"\n    }\n  }'\n</code></pre> <p>For full enumeration, use the keyword <code>\"Belden\"</code> with a category filter if supported (e.g., <code>\"Wire &amp; Cable\"</code>) and paginate <code>startingRecord</code>.</p> <ul> <li>Digi-Key (Belden manufacturer filter; assumes OAuth access token and locale):</li> </ul> <pre><code>curl -X GET \"https://api.digikey.com/Search/v3/Products\" \\\n  -H \"Content-Type: application/json\" \\\n  -H \"X-DIGIKEY-Client-Id: ${DIGIKEY_CLIENT_ID}\" \\\n  -H \"Authorization: Bearer ${DIGIKEY_TOKEN}\" \\\n  -H \"X-DIGIKEY-Locale: {\\\"Country\\\":\\\"US\\\",\\\"Language\\\":\\\"en\\\",\\\"Currency\\\":\\\"USD\\\"}\" \\\n  --data-urlencode \"manufacturer=Belden\" \\\n  --data-urlencode \"category=Wire &amp; Cable\" \\\n  --data-urlencode \"page=0\" \\\n  --data-urlencode \"pageSize=50\"\n</code></pre> <p>Adjust <code>page/pageSize</code> to iterate through all results; set locale for desired region/currency.</p> <ul> <li>Newark/element14 (manufacturer filter; assumes API key and region):   <pre><code>curl \"https://api.element14.com/catalog/products\" \\\n  --get \\\n  --data-urlencode \"term=manu:Belden\" \\\n  --data-urlencode \"category=wire%20and%20cable\" \\\n  --data-urlencode \"results=50\" \\\n  --data-urlencode \"offset=0\" \\\n  --data-urlencode \"callInfo.apiKey=${NEWARK_API_KEY}\" \\\n  --data-urlencode \"storeInfo.country=US\" \\\n  --data-urlencode \"storeInfo.language=en\" \\\n  --data-urlencode \"storeInfo.currency=USD\"\n</code></pre>   Increment <code>offset</code> for pagination; switch <code>country/currency</code> for region choice.</li> </ul>"},{"location":"research/cut-diagram-requirements/","title":"Cut Diagram Requirements","text":""},{"location":"research/cut-diagram-requirements/#summary","title":"Summary","text":"<p>Outlines what a cut diagram (wire/cable cutting instruction) should contain so shop-floor teams can cut and prep harness wires/cables correctly. Focus on fields, annotations, and symbology relevant to Filare.</p>"},{"location":"research/cut-diagram-requirements/#use-cases-for-filare","title":"Use Cases for Filare","text":"<ul> <li>Generate cut lists/diagrams with lengths, prep, labeling, and material details for manual or automated cutting/printing equipment.</li> <li>Provide clear instructions for wires versus multi-conductor cables (bundles), including shielding/termination prep.</li> </ul>"},{"location":"research/cut-diagram-requirements/#technical-evaluation","title":"Technical Evaluation","text":"<ul> <li>Core contents:</li> <li>Unique ID per wire/cable segment.</li> <li>Length with units and tolerance; optionally total length vs. cut length (if trim/margin needed).</li> <li>Material reference: cable/wire part number, gauge, color, stranding, jacket/insulation type; for cables: wire count, color map, shield, twist/pairs.</li> <li>End prep per side (Side A/Side B):<ul> <li>Strip length, tin/crimp/solder instructions.</li> <li>Terminal type/part number; seal/plug part (if applicable); tooling reference.</li> <li>Shield prep: braid/drain trim length, fold-back, pigtail length, backshell/ground tie note.</li> <li>Boot/heat-shrink/tape instructions at ends.</li> </ul> </li> <li>Labels:<ul> <li>Label text/ID; position from end (Side A/Side B or center); label type/part; print template reference.</li> </ul> </li> <li>Breakouts (for cables):<ul> <li>Breakout point distances from a datum (e.g., Side A) and assignment of conductors to branches; prep per branch if applicable.</li> </ul> </li> <li>Notes/quality:<ul> <li>Special handling (min bend radius, no nicks), torque/strain-relief notes, IPC/WHMA workmanship ref.</li> </ul> </li> <li>Helpful symbology/format:</li> <li>Table-based cut list with one row per cut item; columns for length, part, color, gauge, prep A/B, labels, notes.</li> <li>Simple line sketch per item (optional) showing length, labels, and end treatments; text annotations usually sufficient.</li> <li>Side identifiers (A/B) clearly mapped to connector/wire IDs in the main harness design.</li> <li>Data fields (suggested):</li> <li><code>item_id</code>, <code>source_design</code> (cable/wire id), <code>description</code>.</li> <li><code>length</code>, <code>unit</code>, <code>tolerance</code>, optional <code>extra_allowance</code>.</li> <li><code>part_ref</code> (wire/cable MPN), <code>gauge</code>, <code>color</code>, <code>stranding</code>, <code>jacket</code>, <code>wire_count/colors</code> (for cable), <code>shield</code> (type).</li> <li><code>end_a</code> / <code>end_b</code>: <code>{strip_length, terminal_pn, seal_pn, tool, shield_prep, boot/shrink/tape, notes}</code>.</li> <li><code>labels</code>: <code>{text, position_from_end, side, label_part, template}</code>.</li> <li><code>breakouts</code>: <code>{position_from_end, conductors_assigned, prep/label per branch}</code> (for cables).</li> <li><code>quality_notes</code>, <code>process_ref</code> (e.g., IPC/WHMA-A-620 class), <code>inspection_criteria</code>.</li> </ul>"},{"location":"research/cut-diagram-requirements/#complexity-score-15","title":"Complexity Score (1\u20135)","text":"<p>2 \u2014 Mostly schema and output formatting; no deep render changes if kept as tabular/text instructions.</p>"},{"location":"research/cut-diagram-requirements/#maintenance-risk","title":"Maintenance Risk","text":"<ul> <li>Low; cut instruction formats are stable. Ensure optional fields so minimal datasets still render.</li> </ul>"},{"location":"research/cut-diagram-requirements/#industry-business-usage","title":"Industry / Business Usage","text":"<ul> <li>Harness shops use cut sheets/lists to program cutting/strip/tin machines and prepare terminals/seals.</li> <li>IPC/WHMA-A-620 workmanship specs often referenced; automotive/aero shops specify strip lengths, shield prep, and labels.</li> </ul>"},{"location":"research/cut-diagram-requirements/#who-uses-it-why-it-works-for-them","title":"Who Uses It &amp; Why It Works for Them","text":"<ul> <li>Manufacturing/QA: uses lengths, prep, and tooling to cut/terminate correctly.</li> <li>Service: may reference labels and end IDs to replace wires.</li> </ul>"},{"location":"research/cut-diagram-requirements/#feasibility","title":"Feasibility","text":"<ul> <li>Feasible to add a cut-list schema and output (CSV/TSV and HTML/PDF) leveraging existing BOM metadata.</li> </ul>"},{"location":"research/cut-diagram-requirements/#required-work","title":"Required Work","text":"<ul> <li>REWORK tasks: Define cut-list data model, tie to existing cables/wires/connectors; ensure optional fields.</li> <li>FEATURE tasks: Add cut-list generation and export (CSV/TSV + HTML table), include end prep, labels, breakouts, shield prep.</li> <li>DOCUMENTATION tasks: Syntax for cut list; examples; note optional fields and defaults.</li> <li>COVERAGE tasks: Regression data for wires and multi-conductor cables with prep/labels/breakouts.</li> </ul>"},{"location":"research/cut-diagram-requirements/#recommendation","title":"Recommendation","text":"<p>ADOPT_LATER \u2014 Add cut-list schema and outputs; keep rendering simple (tables) with optional line sketches later.</p>"},{"location":"research/din-standard/","title":"DIN Standards Alignment for Filare Drawings","text":""},{"location":"research/din-standard/#summary","title":"Summary","text":"<p>Survey relevant DIN/EN ISO drawing standards (e.g., DIN 6771/823, EN ISO 5457, DIN 15/EN ISO 128 line weights, DIN 406/5 title blocks) to identify required elements for wiring/harness documents. Provide a verification matrix mapping each expected element to current Filare support and gaps.</p>"},{"location":"research/din-standard/#use-cases-for-filare","title":"Use Cases for Filare","text":"<ul> <li>Producing harness documentation that can be filed in engineering change packages requiring DIN/EN ISO compliance (sheet sizes, borders, title blocks, revision stamps).</li> <li>Ensuring generated SVG/HTML/PDF can be printed on standardized formats (A0\u2013A4) with correct margins and fold lines.</li> <li>Aligning title blocks, revision history, and projection symbols with supplier/manufacturer expectations in Europe (DIN-heavy ecosystems).</li> <li>Making line weights, symbol usage, and annotations acceptable for auditors who reference DIN/EN ISO drawing practices.</li> </ul>"},{"location":"research/din-standard/#technical-evaluation","title":"Technical Evaluation","text":"<ul> <li>Features expected by DIN/EN ISO drawing standards (core references: EN ISO 5457/DIN 823 for sheet sizes and margins; DIN 6771 for wiring diagrams; EN ISO 7200 for title blocks; EN ISO 128/DIN 15 for line weights; DIN 406 for text fields; DIN 1986/EN 60617 for symbols when electrical is involved):</li> <li>Sheet formats: A0\u2013A4 sizes, orientation, fixed margins, frame/border, folding marks.</li> <li>Title block: document title, drawing number, revision, date, author/checker/approver, scale, sheet count, projection method, company name/address.</li> <li>Revision table: revision identifier, date, description, approvals.</li> <li>Scale and units: metric default, explicit note if non-metric.</li> <li>Projection symbol (first/third angle), surface finish/weight where relevant.</li> <li>Line types/weights: consistent line hierarchy (visible, hidden, center, cutting plane) with minimum weights (e.g., 0.18\u20130.70 mm) per DIN 15/EN ISO 128.</li> <li>Grid, coordinate references, and legends for symbols/colors.</li> <li>Page numbering: sheet number / total sheets in a consistent field.</li> <li>Notes/metadata: material, environmental class, standards referenced.</li> <li>Folding marks and print-safe areas.</li> <li>Strengths in Filare:</li> <li>Uses DIN-derived canvas sizes and margins in examples (e.g., demo files reference DIN 823/6771/EN ISO 5457).</li> <li>Title block and sheet/page numbering features exist (title block templates, pagination issues filed).</li> <li>Color codes and symbol metadata exist via YAML (can be surfaced in legends).</li> <li>Weaknesses:</li> <li>No explicit enforcement of title-block fields per EN ISO 7200 (author/approver/scale/projection).</li> <li>Line weights/styles are not parameterized to DIN 15/EN ISO 128.</li> <li>Folding marks and projection symbols are not systematically generated.</li> <li>Revision table support is unclear; no dedicated revision block.</li> <li>Verification tooling against DIN elements is absent.</li> <li>Limitations:</li> <li>Some standards are licensed; we rely on public summaries and domain knowledge.</li> <li>Exact numeric margins/line weights must be confirmed against official texts.</li> <li>Compatibility:</li> <li>Filare\u2019s templating and output (SVG/HTML) can host these elements without schema breaks; changes likely confined to templates and metadata.</li> <li>No impact on YAML schema unless new fields for title block/projection/revision are added.</li> <li>Required integrations:</li> <li>Template updates for title block, revision table, borders/folding marks.</li> <li>Optional lint/check script to assert presence of required fields in outputs.</li> </ul>"},{"location":"research/din-standard/#complexity-score-15","title":"Complexity Score (1\u20135)","text":"<p>3 \u2014 Requires coordinated template changes, metadata additions, and rendering updates, but no deep parser or model rewrites.</p>"},{"location":"research/din-standard/#maintenance-risk","title":"Maintenance Risk","text":"<ul> <li>External standards are stable; low churn.</li> <li>Filare-side cost is in keeping templates/config aligned and adding verification scripts.</li> <li>Risk: partial implementations may be mistaken for compliance; needs clear flags/labels.</li> </ul>"},{"location":"research/din-standard/#industry-business-usage","title":"Industry / Business Usage","text":"<ul> <li>European aerospace/rail/automotive suppliers often require DIN/EN ISO-compliant drawings for harness and cable assemblies.</li> <li>Contract manufacturers request EN ISO 5457 sheet framing and EN ISO 7200 title blocks to accept documentation packages.</li> <li>Compliance improves acceptability in regulated audits and supplier onboarding.</li> </ul>"},{"location":"research/din-standard/#who-uses-it-why-it-works-for-them","title":"Who Uses It &amp; Why It Works for Them","text":"<ul> <li>Automotive wiring diagrams commonly follow DIN 72552/6771 conventions (sheet format, symbols, title blocks) to align across OEM/Tier1 suppliers.</li> <li>Industrial control panel drawings in the EU adopt EN ISO 5457 sheet formats and EN ISO 7200 title blocks for consistent archival.</li> <li>Rail/rolling stock documentation uses DIN-style borders and revision tables to satisfy safety/maintenance traceability.</li> </ul>"},{"location":"research/din-standard/#feasibility","title":"Feasibility","text":"<ul> <li>Feasible now by updating templates and adding verification logic; no core engine changes required.</li> </ul>"},{"location":"research/din-standard/#required-work","title":"Required Work","text":"<ul> <li>REWORK tasks:</li> <li>Align title block template to EN ISO 7200 fields (title, drawing number, revision, date, author/checker/approver, scale, projection, sheet/total).</li> <li>Add folding marks and standardized margins per EN ISO 5457/DIN 823.</li> <li>Parameterize line weights/styles to DIN 15/EN ISO 128 (visible/hidden/center lines).</li> <li>Provide projection symbols and legend placement.</li> <li>FEATURE tasks:</li> <li>Add revision table support (schema + template).</li> <li>Add optional DIN compliance mode that toggles required fields and warnings.</li> <li>Add folding marks render option for print/plot.</li> <li>DOCUMENTATION tasks:</li> <li>Document DIN compliance expectations and how to enable/verify them.</li> <li>Provide examples of DIN-compliant pages.</li> <li>Document limitations where exact DIN tables are approximated.</li> <li>TOOLS tasks:</li> <li>Create a validation script that checks rendered SVG/HTML for presence of required blocks/fields.</li> <li>Add a lint for title-block metadata completeness.</li> <li>COVERAGE tasks (per required element):</li> <li>Sheet format/margins/folding marks: render a minimal DIN page and assert SVG viewBox/frame sizes and folding mark coordinates.</li> <li>Title block fields (EN ISO 7200): fixture asserting all required fields/text nodes exist with correct labels/ordering in SVG/HTML.</li> <li>Revision table: render with multiple revisions and snapshot the table structure and values.</li> <li>Projection symbol: assert presence of the first/third-angle symbol asset when enabled.</li> <li>Line weights/styles: check SVG stroke widths/class names match configured DIN defaults for visible/hidden/center lines.</li> <li>Legends/standards references: render with legends enabled and assert legend content plus standards reference text.</li> <li>Page numbering and sheet/total: fixture asserting sheet numbering is present and formatted per spec.</li> <li>Scale/units: assert scale/unit text is rendered in the title block.</li> </ul>"},{"location":"research/din-standard/#recommendation","title":"Recommendation","text":"<p>ADOPT_LATER \u2014 Valuable for EU-centric deployments; proceed after defining template changes and validation approach to avoid pseudo-compliance.</p>"},{"location":"research/din-standard/#references","title":"References","text":"<ul> <li>EN ISO 5457 / DIN 823 (sheet sizes, margins, folding marks)</li> <li>EN ISO 7200 (title blocks)</li> <li>DIN 15 / EN ISO 128 (line weights/styles)</li> <li>DIN 406 (text fields)</li> <li>DIN 6771 (wiring diagrams practices)</li> <li>DIN 72552 (automotive terminal designations) \u2014 context for legends/labels</li> </ul>"},{"location":"research/din-standard/#optional-appendix","title":"Optional Appendix","text":""},{"location":"research/din-standard/#verification-matrix-filare-coverage-vs-din-expectations","title":"Verification Matrix (Filare coverage vs DIN expectations)","text":"Element DIN/EN ISO Expectation Filare Coverage (current) Gaps / Follow-up Sheet format (A0\u2013A4, margins, frame) EN ISO 5457/DIN 823: defined sizes, margins, frames, folding marks Examples reference DIN 823/6771/EN ISO 5457 (HTML demos). Add explicit frame/margins/folding marks in templates; configurable sizes. Title block fields EN ISO 7200: title, drawing number, revision, date, author/checker/approver, scale, projection, sheet/total, company Title block templates exist but not strictly EN ISO 7200; fields vary. Standardize template fields; enforce presence via metadata lint. Revision table Revision ID/date/description/approvals No dedicated revision table in templates. Add schema + template block; allow multiple revisions. Projection symbol First/third-angle symbol + note Not rendered today. Add projection option and symbol asset in template. Line weights/styles EN ISO 128/DIN 15: defined weights for visible/hidden/center lines Line weights not standardized; ad-hoc in renderers. Parameterize line styles/weights to DIN defaults with overrides. Units &amp; scale Metric default; scale noted in title block; \u201cNTS\u201d allowed Scale/units not consistently surfaced. Add scale/unit fields to title block; default metric. Legends (symbols/colors) Reference legend for symbols/colors per sheet set Color codes exist; legends optional. Provide legend placement option and default content. Page numbering Sheet n / total Present in pagination features/issues. Ensure consistent location per EN ISO 7200; add validation. Folding marks Marks for folding to A4 Not generated. Add optional folding marks per EN ISO 5457. Standards references List applicable standards on sheet Not standardized. Add metadata field for standards references."},{"location":"research/din-standard/#notes","title":"Notes","text":"<ul> <li>Use <code>scripts/check_backlog_headers.py</code> and <code>just check-backlog-headers</code> to keep metadata consistent.</li> <li>Potential lint: scan rendered SVG for title block fields and folding marks once implemented.</li> </ul>"},{"location":"research/harness-diagram-components/","title":"Standard Harness Diagram Components","text":""},{"location":"research/harness-diagram-components/#summary","title":"Summary","text":"<p>Survey of the component types that appear most often in industry harness diagrams (automotive, aerospace, industrial equipment). The goal is to ensure Filare can represent the canonical parts, metadata, and symbology that engineers expect when reading or generating harness drawings.</p>"},{"location":"research/harness-diagram-components/#use-cases-for-filare","title":"Use Cases for Filare","text":"<ul> <li>Authoring harness diagrams that match OEM and supplier drawing conventions.</li> <li>Generating BOMs that map directly to connector housings, terminals, seals, splices, and protection hardware.</li> <li>Validating completeness (grounds, shielding termination, strain relief) during design reviews.</li> <li>Exchanging data with CAD/PLM systems that expect standard component classes.</li> </ul>"},{"location":"research/harness-diagram-components/#technical-evaluation","title":"Technical Evaluation","text":"<ul> <li>Features: Connectors (housings, pins, cavities, gender, keying), wires/cables (gauge, color, insulation, shielding, twisting), splices and junctions, ground points, inline protection (fuses, breakers), termination hardware (backshells, boots, strain relief), sealing (grommets, gaskets, cavity plugs), protective coverings (conduit, braid, tape, heat-shrink), mechanical supports (clips, clamps, tie-downs), labels/ID markers, test points, inline devices (resistors/diodes for sense lines), bulkhead and pass-through hardware, reference datums for harness boards.</li> <li>Strengths: Widely adopted across IPC/WHMA-A-620, ISO 6722/19642, USCAR-2, SAE J1939-13/J1962, MIL-STD-5088, and OEM drafting guides; clear mapping to BOM line items; consistent symbols (connector rectangle with pin table, splice dot or barrel symbol, shield drains, ground lug).</li> <li>Weaknesses: Symbol sets vary slightly by industry (aerospace vs automotive); some vendors add proprietary codes for cavities/seals; shield representation differs between single-core and multi-core cables.</li> <li>Limitations: Environmental details (temperature class, fluid exposure) often live in notes rather than symbols; strain relief and boots may be depicted textually; braid/conduit coverage percentages rarely shown graphically.</li> <li>Compatibility with Filare: Fits existing notion of components and nets but would benefit from explicit types for connectors, splices, grounds, shields, protection, sealing, and support hardware. Symbology could map to Graphviz/HTML layers; BOM already accommodates extra metadata.</li> <li>Required integrations: Schema fields for cavity definitions, terminal/crimp spec, seal/plug part numbers, shield termination style, strain relief/backshell references, wire dress (twist, bundle, breakout), and mounting hardware callouts.</li> </ul>"},{"location":"research/harness-diagram-components/#complexity-score-15","title":"Complexity Score (1\u20135)","text":"<p>3 \u2014 Adds structured component categories and attributes beyond current generic parts. Requires schema extensions (cavities, sealing, shield termination), updated render symbols, and BOM grouping, but does not require deep architectural changes.</p>"},{"location":"research/harness-diagram-components/#maintenance-risk","title":"Maintenance Risk","text":"<ul> <li>External tool stability: Standards are mature and slow-changing (IPC/WHMA, ISO 6722/19642, USCAR-2, MIL-STD-5088). Low risk of churn.</li> <li>Ecosystem health: Strong vendor support (TE, Molex, Aptiv, Amphenol, Deutsch), and PLM/CAD suites model the same component classes.</li> <li>Filare-side work: Maintaining symbol set, schema mappings, and reference metadata tables; occasional updates when OEM drafting guides change.</li> <li>Expected ongoing cost: Low to moderate; mainly keeping part-type dictionaries and render icons aligned with new connectors/seals.</li> </ul>"},{"location":"research/harness-diagram-components/#industry-business-usage","title":"Industry / Business Usage","text":"<ul> <li>Automotive harness drawings: Connector housings with cavity tables, terminal/plug/seal callouts, splice barrels, shield drains, ground lugs, convolute tubing and tape wraps, P-clamps/edge clips, and labels at breakouts.</li> <li>Aerospace/defense: Circular connectors with backshells and environmental sealing, shield termination to backshell or pigtail, grounding studs, lacing/tie wraps, strain relief boots, in-line splices and junction modules per MIL-STD-5088.</li> <li>Heavy equipment/industrial: Bulkhead feedthroughs, gland plates, armored cable, inline fuses/breakers, conduit, and clamp spacing notes for vibration control.</li> <li>Service diagnostics: Standard interface connectors (SAE J1962 OBD-II, SAE J1939-13) with pin assignments and protective caps.</li> </ul>"},{"location":"research/harness-diagram-components/#who-uses-it-why-it-works-for-them","title":"Who Uses It &amp; Why It Works for Them","text":"<ul> <li>OEM harness teams (automotive and heavy equipment): Ensures suppliers can build and QC harnesses from standardized symbols; aligns BOM with procurement catalogs.</li> <li>Aerospace integrators: Depend on explicit backshell/shield/strain-relief callouts for EMI and environmental sealing compliance.</li> <li>Service and diagnostics teams: Need recognizable connector symbols with cavity numbering for probing and repair.</li> <li>Harness manufacturing partners: Use splice/terminal/seal detail to set up crimping, sealing, and over-mold processes.</li> </ul>"},{"location":"research/harness-diagram-components/#feasibility","title":"Feasibility","text":"<ul> <li>Feasible now with schema and renderer extensions; no external dependencies beyond expanding component dictionaries and symbols.</li> </ul>"},{"location":"research/harness-diagram-components/#required-work","title":"Required Work","text":"<ul> <li>REWORK tasks: Align component taxonomy (connectors, splices, protection, sealing, support) and ensure BOM grouping/sorting can handle new categories.</li> <li>FEATURE tasks: Add schema fields for cavities, terminal/seal/plug parts, shield termination style, backshell/boot/strain relief references, protective coverings, and clamp/label definitions; add standard symbols for splices, shield drains, grounds, protective devices, and support hardware; support connector families (OBD-II, J1939-13, circular, micro-fit, etc.).</li> <li>DOCUMENTATION tasks: Update syntax docs with component categories and examples; provide symbol legend and drafting notes aligned with IPC/WHMA and OEM guides.</li> <li>TOOLS tasks: Optional library of pre-defined connector families with pin maps; validation checks for missing seals/terminals; import/export mappings for PLM/CAD formats.</li> <li>COVERAGE tasks: Regression YAMLs covering connectors with cavity tables, shielded cables with drains, splices, protection devices, sealing hardware, and mounting supports.</li> </ul>"},{"location":"research/harness-diagram-components/#recommendation","title":"Recommendation","text":"<p>ADOPT_LATER \u2014 Recommended to formalize these component classes and symbols in Filare after schema/design alignment, so harness outputs match industry expectations without breaking existing users.</p>"},{"location":"research/harness-diagram-components/#references","title":"References","text":"<ul> <li>IPC/WHMA-A-620 (Cable and Wire Harness Assemblies)</li> <li>ISO 6722-1 / ISO 19642 (Road vehicle cables)</li> <li>USCAR-2 (Performance specs for automotive electrical connector systems)</li> <li>SAE J1939-13 and SAE J1962 (Diagnostic connectors)</li> <li>MIL-STD-5088 (Aircraft wiring practices)</li> <li>Typical OEM drafting guides from automotive/aerospace suppliers (TE, Molex, Amphenol, Deutsch)</li> </ul>"},{"location":"research/harness-diagram-components/#optional-appendix","title":"Optional Appendix","text":"<ul> <li>Candidate symbol set: rectangular connector blocks with cavity tables; circular connector with backshell; splice barrel/dot symbol; shield drain to ground; fuse/breaker inline symbol; ground lug; P-clamp/edge clip; conduit/heat-shrink notation; label flag at breakout.</li> <li>Filare coverage snapshot (schema/docs review):</li> <li>Already covered: connectors with pin tables and labels; connector/cable images and colors; shielded cables (with <code>s</code> wire access); bundles; auto-generated single-pin connectors; additional BOM components with qty multipliers (pins, populated, wirecount, terminations, length); basic loop/short notation; per-node styling and hide-disconnected flags.</li> <li>Missing or implicit today (low-friction additions): explicit cavity tables with occupancy/population; terminal/seal/plug part numbers tied to cavities; shield termination metadata (drain, backshell/pigtail target, continuity note); explicit splice/junction type instead of generic connector; protection/support/sealing/label elements as first-class component categories (now only possible via generic additional components); connector family presets (OBD-II, J1939-13, circular/bulkhead) with default pin maps; strain relief/back-shell/boot references and mounting hardware callouts.</li> </ul>"},{"location":"research/mechanical-diagram-elements/","title":"Mechanical Harness Diagram Elements and Models","text":""},{"location":"research/mechanical-diagram-elements/#summary","title":"Summary","text":"<p>Identifies the elements and symbology used in mechanical harness diagrams (nailboard/fixture drawings, routing overlays) and proposes data models to capture geometry, annotations, materials, and hardware. Focus covers dimensions, splicing, shielding, wraps, ties, labels, and correlations between logical and mechanical views.</p>"},{"location":"research/mechanical-diagram-elements/#use-cases-for-filare","title":"Use Cases for Filare","text":"<ul> <li>Generate mechanical overlays for manufacturing (board builds, clamp placement, length checks).</li> <li>Provide field/service diagrams with physical routing, labels, and splice/shield details.</li> <li>Maintain traceability between electrical nets, BOM items, and mechanical placement.</li> </ul>"},{"location":"research/mechanical-diagram-elements/#technical-evaluation","title":"Technical Evaluation","text":"<ul> <li>Core elements (mechanical view):</li> <li>Board/fixture outline; datum/grid; reference holes.</li> <li>Harness path polylines with segment lengths, bend radii, breakout points.</li> <li>Features: clamps/tie-downs/edge clips, grommets/bulkheads, pass-throughs, strain relief, boots/backshells.</li> <li>Protective coverings: convolute/conduit, tape wraps, braid, heat-shrink sections with start/end positions.</li> <li>Splices/junctions: inline barrel splices, junction blocks/modules; callouts for splice type and orientation.</li> <li>Shielding: shield drain/termination location; backshell tie vs pigtail vs isolated.</li> <li>Labels/markers: flag labels at breakouts, wire/cable IDs, zone references.</li> <li>Dimensions: overall length, segment lengths, clamp spacing, breakout lengths; tolerance notes.</li> <li>Symbols (commonly used):</li> <li>Path: solid polyline with arrows for direction or assembly sequence.</li> <li>Clamps/ties: circles/squares with clamp code; sometimes P-clamp icon; spacing note.</li> <li>Grommet/bulkhead: ring/doorway symbol; callout for hole size and grommet part.</li> <li>Splice: dot for simple inline, or barrel symbol with part number; junction block as rectangle with ports.</li> <li>Shield termination: ground symbol or backshell glyph at connector end; pigtail shown as short branch to ground.</li> <li>Protective coverings: hatched or double-line segments; heat-shrink/tape annotated with start/end distances and part.</li> <li>Labels: flag icon or rectangular tag tied to path; text includes ID and sometimes barcode ref.</li> <li>Dimensions: leader lines with measurement text; chain dimensions along path.</li> <li>Symbol candidates (Unicode-friendly for HTML/SVG legends, with text fallback):<ul> <li>Path node: <code>\u25cf</code> (fallback: \"o\"); path direction arrow: <code>\u279d</code>.</li> <li>Clamp/tie: <code>\u2299</code> or <code>\u2a00</code> (fallback: \"CL\"); P-clamp shorthand: <code>[C]</code>.</li> <li>Grommet/bulkhead: <code>\u25c9</code> (fallback: \"GR\").</li> <li>Splice (inline dot): <code>\u2022</code>; splice barrel: <code>\u25ad</code> with text \"SP\".</li> </ul> </li> <li>Junction block: <code>\u25ad</code> with ports; fallback text \"JB\".</li> <li>Shield to ground: <code>\u23da</code> (ground) or backshell glyph <code>\u2312</code>; pigtail branch: short line ending <code>\u23da</code>.</li> <li>Covering start/end: <code>\u25b9</code> / <code>\u25c3</code> markers with hatched segment between.</li> <li>Label flag: <code>\u2691</code> (fallback: \"LBL\").</li> <li>Dimension: <code>\u2194</code> with text (e.g., <code>\u2194 250 mm</code>).</li> <li>Icon guidance:</li> <li>Prefer self-drawn SVG primitives (circles, rectangles, arcs, hatch patterns) for clamps, splices, junctions, coverings, labels, and dimensions; avoids font licensing and keeps style consistent.</li> <li>Ground/backshell can be drawn with simple shapes mirroring IPC/WHMA/IEC styles (e.g., <code>\u23da</code>-like ground, arc for backshell).</li> <li>Reference styles (for consistency, not embedding): IPC/WHMA-A-620 nailboard symbols (clamp circles, splice dots/barrels, grommet rings, shield ground at connector). Use them as visual inspiration but render your own SVG.</li> <li>Avoid external icon fonts (Font Awesome/Material) for these domain-specific shapes; they add dependencies and don\u2019t match harness drafting conventions.</li> <li>Information captured:</li> <li>Geometry: 2D coordinates in chosen units; orientation of clamps and splice rotation when relevant.</li> <li>Materials: part numbers for clamps, grommets, splices, protective coverings, backshells/boots.</li> <li>Processes: wrap overlap %, tape turns per unit length, heat-shrink recovery note, torque/strain-relief notes.</li> <li>Electrical tie: map mechanical nodes to connector pins/wires/splices for traceability.</li> <li>Environment: notes for temperature/fluids near segments; routing constraints (min bend radius).</li> </ul>"},{"location":"research/mechanical-diagram-elements/#complexity-score-15","title":"Complexity Score (1\u20135)","text":"<p>3 \u2014 Modeling requires coordinated geometry + materials + annotations but fits within an extended mechanical view without changing electrical core.</p>"},{"location":"research/mechanical-diagram-elements/#maintenance-risk","title":"Maintenance Risk","text":"<ul> <li>Symbols and drafting practices are stable (IPC/WHMA-A-620, OEM nailboard guides).</li> <li>Risk lies in scope creep if 3D routing or FEA-style checks are attempted; keeping to 2D with optional CAD reference limits churn.</li> <li>Optional materials catalogs (clamps, wraps) may need periodic refresh.</li> </ul>"},{"location":"research/mechanical-diagram-elements/#industry-business-usage","title":"Industry / Business Usage","text":"<ul> <li>Automotive: nailboard drawings with clamp spacing, convolute/tape sections, splice barrels, shield terminations to backshells, label flags at breakouts.</li> <li>Aerospace/defense: backshell/boot details, grommets at bulkheads, lacing/tie intervals, shield pigtails or 360\u00b0 terminations, strain-relief callouts.</li> <li>Heavy equipment/industrial: armored/conduit runs, bulkhead glands, vibration-resistant clamps, inline protection devices.</li> </ul>"},{"location":"research/mechanical-diagram-elements/#who-uses-it-why-it-works-for-them","title":"Who Uses It &amp; Why It Works for Them","text":"<ul> <li>Manufacturing/QA: needs clamp/grommet placements, coverings, and lengths for board setup.</li> <li>Service: uses labels, splice locations, and shielding notes to troubleshoot/repair.</li> <li>Mechanical/electrical integration: checks pass-throughs, bend radii, and shield terminations against packaging/EMI needs.</li> </ul>"},{"location":"research/mechanical-diagram-elements/#feasibility","title":"Feasibility","text":"<ul> <li>Feasible with an extended mechanical schema and renderer; symbology can be implemented in SVG/DXF without heavy CAD.</li> </ul>"},{"location":"research/mechanical-diagram-elements/#fit-with-existing-filare-models","title":"Fit with Existing Filare Models","text":"<ul> <li>Current fit:</li> <li>Connectors/cables/connections already model electrical nets; <code>additional_components</code> can carry clamps/wraps as BOM-only items but lack geometry/placement.</li> <li><code>metadata/options</code> can store drawing-level info but not geometry.</li> <li>Graphviz/HTML renderers are logical-only, so mechanical elements are currently unrendered.</li> <li>Gaps: No place for 2D geometry (board outline, paths), feature placement (clamps/grommets/splices), covering intervals, or dimensions. No linkage from mechanical items to nets beyond informal notes.</li> <li>Proposed schema additions (compatible path):</li> <li>Add optional top-level <code>mechanical:</code> block with: units, datum/grid, outline, reference holes; <code>paths</code> with point lists and per-segment metadata; <code>features</code> (clamp/tie/grommet/splice/bulkhead/strain-relief) with positions and part refs; <code>coverings</code> with start/end distances and material refs; <code>annotations</code> for labels/dimensions/notes; <code>shield_terminations</code> to locate style/target.</li> <li>Mechanical items reference existing components via IDs (connector, cable, wire, splice id) to correlate mechanical placement to electrical nets/BOM.</li> <li>BOM linkage: features/coverings carry part refs and qty multipliers (length-based or count-based) similar to <code>additional_components</code>.</li> <li>Alternative implementations:</li> <li>Alt A (inline): Single YAML with <code>mechanical</code> block coexisting with existing <code>connectors/cables</code>; renderers detect and produce extra SVG/DXF plus HTML embed. Easiest for authors (one file), optional and ignore-safe.</li> <li>Alt B (sidecar): Allow <code>mechanical:</code> to accept file refs (include) so large mechanical data can live in a sidecar YAML while core nets stay small. Useful when mechanical data is auto-generated.</li> <li>Alt C (hybrid BOM-only): Keep geometry in an external tool; only attach mechanical part refs as <code>additional_components</code> and hyperlink to an external mechanical drawing. Minimal change but loses render integration.</li> <li>Renderer integration:</li> <li>New mechanical renderer writes SVG (and optional DXF) alongside existing outputs; HTML includes a tab/section for mechanical view.</li> <li>Symbols table/legend added to HTML for user clarity; defaults chosen to match Filare style.</li> <li>User impact:</li> <li>Backward compatibility: existing YAMLs unaffected; <code>mechanical</code> is optional.</li> <li>Authoring complexity: adds coordinate entry and feature definitions; mitigated by templates/examples and optional sidecar flow.</li> <li>Output: users gain mechanical SVG/DXF plus legend; may need to learn symbol mapping but aligns with industry nailboard drawings.</li> </ul>"},{"location":"research/mechanical-diagram-elements/#required-work","title":"Required Work","text":"<ul> <li>REWORK tasks: Define mechanical entities (path, feature, protective segment, splice, label, dimension) and their relationships to electrical components.</li> <li>FEATURE tasks: Add rendering support for symbols (clamp/grommet/splice/shield termination/covering/labels) with distance annotations; support path-based dimensions and breakout markers.</li> <li>DOCUMENTATION tasks: Provide a legend of symbols and example mechanical YAML; describe units and datum usage.</li> <li>TOOLS tasks: Optional catalogs for clamps/wraps/splices with default symbols; validators for min bend radius and clamp spacing rules.</li> <li>COVERAGE tasks: Regression YAMLs covering paths with coverings, clamps, splices, shields, labels, and dimensions.</li> </ul>"},{"location":"research/mechanical-diagram-elements/#recommendation","title":"Recommendation","text":"<p>ADOPT_LATER \u2014 Define the mechanical model first, then implement 2D rendering and validations incrementally.</p>"},{"location":"research/mechanical-diagram-elements/#models","title":"Models","text":"<ul> <li>Geometry Model:</li> <li>Units, datum/grid.</li> <li>Board/outline polygon; reference holes.</li> <li>Path polylines with points, segment metadata (length, bend radius, covering refs).</li> <li>Breakouts: path nodes marking where bundles split; mapping to connector/wire groups.</li> <li>Feature Model:</li> <li>Clamps/ties/edge clips: type, position, orientation, part ref, spacing rule.</li> <li>Grommets/bulkheads: position, opening size, part ref, pass-through link to path.</li> <li>Strain relief/boots/backshells: association to connector end; part refs.</li> <li>Splices/junctions: position, splice type, part ref, involved wires/nets; orientation optional.</li> <li>Covering Model:</li> <li>Segments referencing path intervals with material (conduit, braid, tape, heat-shrink), start/end distances, overlap %, color, part ref.</li> <li>Shield termination: end association, style (backshell/pigtail/isolated), hardware ref.</li> <li>Annotation Model:</li> <li>Labels/markers tied to path positions or features; text, ID, optional barcode ref.</li> <li>Dimensions: chain/ordinate along path, clamp spacing, breakout lengths; tolerance.</li> <li>Notes: process notes (tape turns per unit, shrink temp), environment notes.</li> <li>Correlations:</li> <li>Path nodes \u2194 connectors/cables/wires to trace mechanical to electrical.</li> <li>Feature/covering parts \u2194 BOM items and to-wire counts (e.g., qty multiplier by terminations or segment length).</li> <li>Shield termination \u2194 connector/ground point and BOM backshell/ground hardware.</li> </ul>"},{"location":"research/mechanical-diagram-elements/#references","title":"References","text":"<ul> <li>IPC/WHMA-A-620 (workmanship and harness drawings)</li> <li>OEM nailboard/fixture drafting guides (automotive, aerospace)</li> <li>Common CAD/CAM nailboard outputs (DXF) used in harness shops</li> </ul>"},{"location":"research/mechanical-diagram-elements/#optional-appendix","title":"Optional Appendix","text":"<ul> <li>Symbol legend candidates: polyline path; P-clamp icon; grommet ring; splice dot/barrel; shield ground/backshell glyph; hatched covering; tape/heat-shrink start-end ticks; flag label; chain dimensions along path.</li> </ul>"},{"location":"research/mechanical-harness-diagrams/","title":"Mechanical Harness Diagrams and CAD Links","text":""},{"location":"research/mechanical-harness-diagrams/#summary","title":"Summary","text":"<p>Explores how Filare could represent mechanical aspects of harnesses: 2D board/routing diagrams (fixtures, datum, tie-downs) and optional links to CAD/STEP data. Reviews lightweight 2D approaches first, then options to consume CAD/STEP in Python or browser JS for previews or geometry overlays.</p>"},{"location":"research/mechanical-harness-diagrams/#use-cases-for-filare","title":"Use Cases for Filare","text":"<ul> <li>Add a 2D mechanical view showing harness routing, clamp positions, grommets, and lengths for board builds.</li> <li>Annotate pass-throughs/bulkheads with spatial context and strain-relief details.</li> <li>Link to CAD/STEP geometry for reference previews, dimensions, or silhouette extraction without embedding heavy CAD into Filare core.</li> <li>Allow browser consumption (HTML output) for interactive previews or measurements.</li> </ul>"},{"location":"research/mechanical-harness-diagrams/#technical-evaluation","title":"Technical Evaluation","text":"<ul> <li>Features (desired): 2D board outline + datum grid; mounting holes/tie-down/clamp positions; pass-throughs and bend radii; harness path polyline with segment lengths; callouts for clips/boots/grommets; optional background from CAD/STEP projection; hyperlinks to external CAD.</li> <li>Python options:</li> <li>2D SVG/canvas: <code>svgwrite</code>, <code>cairosvg</code>, <code>matplotlib</code> (for plotting), <code>shapely</code> for geometry ops.</li> <li>DXF export: <code>ezdxf</code> for sharing to CAD/laser/board builders.</li> <li>STEP parsing/projection: <code>pythonocc-core</code>/<code>OCP</code> (OpenCascade bindings), <code>cadquery</code> (OCCT wrapper) to load STEP and generate 2D projections; heavier dependency.</li> <li>Meshing/export: <code>trimesh</code> + <code>ocp</code> pipeline to rasterize silhouettes.</li> <li>Browser/JS options:</li> <li>2D: SVG/Canvas via <code>Paper.js</code>, <code>Two.js</code>, <code>Fabric.js</code> for interactive annotations.</li> <li>3D/CAD: <code>three.js</code> with STEP via <code>occt-import-js</code> / <code>open-cascade.js</code> for WebAssembly-based STEP parsing; <code>xeokit</code> for CAD/IFC/STEP visualization; <code>3d-tiles</code>/glTF path if pre-converted.</li> <li>Strengths: 2D SVG/DXF is lightweight and aligns with existing Graphviz/HTML flows; CAD links can stay optional; JS viewers enable interactive measure/explode without desktop CAD.</li> <li>Weaknesses: OpenCascade bindings add weight/compile time; STEP parsing in-browser via WASM increases bundle size; reliable dimensioning requires units/scale handling.</li> <li>Limitations: Full MCAD constraints/clearance checking is out of scope; accurate harness slack/bend modeling would require 3D routing not covered here.</li> <li>Compatibility with Filare: 2D overlay can be generated alongside current renders; CAD linkage can be metadata (URL/file ref) or pre-processed silhouettes fed into rendering.</li> <li>Required integrations: schema for mechanical view (board outline, features, path points, units), optional CAD references; render pipeline for SVG/DXF export; JS viewer hook in HTML output.</li> </ul>"},{"location":"research/mechanical-harness-diagrams/#complexity-score-15","title":"Complexity Score (1\u20135)","text":"<p>3 \u2014 Adds a parallel 2D mechanical render path and optional CAD linkage. Involves new schema, exporters (SVG/DXF), and optional heavy dependencies (OpenCascade) but does not overhaul core connectivity model.</p>"},{"location":"research/mechanical-harness-diagrams/#maintenance-risk","title":"Maintenance Risk","text":"<ul> <li>External tools: OpenCascade bindings evolve and can be platform-sensitive; JS STEP viewers rely on WASM builds. SVG/DXF libraries are stable.</li> <li>Filare-side: Maintain schema, 2D renderer, and keep optional CAD adapters decoupled to avoid bloating base installs.</li> <li>Ongoing cost: Moderate if CAD adapters are optional/plug-in; low for pure 2D SVG/DXF.</li> </ul>"},{"location":"research/mechanical-harness-diagrams/#industry-business-usage","title":"Industry / Business Usage","text":"<ul> <li>Harness board builds use 2D nailboard/fixture drawings with clamp spacing and breakout lengths.</li> <li>Automotive/aero teams overlay harness paths on chassis/airframe silhouettes from CAD to check reach and pass-throughs.</li> <li>Service/field teams prefer lightweight 2D PDFs/SVG with callouts and lengths; CAD links help for complex areas.</li> </ul>"},{"location":"research/mechanical-harness-diagrams/#who-uses-it-why-it-works-for-them","title":"Who Uses It &amp; Why It Works for Them","text":"<ul> <li>Manufacturing/QA: Needs clamp locations, lengths, and datum for board setup.</li> <li>Mechanical/electrical integration teams: Validate routing against chassis/airframe cutouts.</li> <li>Service/diagnostics: Quick 2D reference with labels; occasional CAD view for tight packaging zones.</li> </ul>"},{"location":"research/mechanical-harness-diagrams/#feasibility","title":"Feasibility","text":"<ul> <li>Feasible now for 2D SVG/DXF mechanical views with added schema and renderer.</li> <li>CAD/STEP linkage feasible if kept optional: parse silhouettes via OpenCascade (Python) or display via JS viewer in HTML.</li> </ul>"},{"location":"research/mechanical-harness-diagrams/#required-work","title":"Required Work","text":"<ul> <li>REWORK tasks: Define mechanical view schema (units, board outline, datum, path polylines, features like holes/clamps/grommets); ensure outputs directory structure supports mechanical artifacts.</li> <li>FEATURE tasks: Implement 2D mechanical renderer (SVG; optional DXF via <code>ezdxf</code>); add HTML embed of SVG; add metadata fields for CAD references (file/URL) and optional silhouette background.</li> <li>TOOLS tasks: Optional adapters for STEP projection to SVG using <code>OCP</code>/<code>cadquery</code>; optional JS viewer hook (e.g., three.js + occt-import-js) gated behind a build flag.</li> <li>DOCUMENTATION tasks: Syntax examples for mechanical view; guidance on preparing silhouettes from CAD; note optional CAD adapters and size implications.</li> <li>COVERAGE tasks: Regression YAMLs with mechanical blocks (board outline, clamps, path, pass-throughs) and optional CAD reference to ensure renders succeed without CAD libs present.</li> </ul>"},{"location":"research/mechanical-harness-diagrams/#recommendation","title":"Recommendation","text":"<p>ADOPT_LATER \u2014 Start with pure 2D mechanical view (SVG/DXF) and optional CAD reference fields; add STEP-derived silhouettes/viewers behind optional dependencies after schema stabilizes.</p>"},{"location":"research/mechanical-harness-diagrams/#references","title":"References","text":"<ul> <li>OpenCascade (OCP/pythonocc-core), cadquery (STEP import/projection)</li> <li>ezdxf (DXF creation), svgwrite/cairosvg (SVG)</li> <li>three.js + occt-import-js / open-cascade.js for browser STEP viewing</li> <li>xeokit SDK (web CAD/IFC/STEP viewer)</li> </ul>"},{"location":"research/mechanical-harness-diagrams/#optional-appendix","title":"Optional Appendix","text":"<ul> <li>2D stack: YAML \u2192 mechanical schema \u2192 SVG/DXF exporter; embed SVG into HTML output.</li> <li>CAD flow (optional): STEP \u2192 OpenCascade projection \u2192 SVG silhouette \u2192 overlay in mechanical view; or serve STEP alongside HTML with JS viewer initialized on demand.</li> </ul>"},{"location":"research/parts-databases/","title":"Parts Databases and Catalog Sources","text":""},{"location":"research/parts-databases/#summary","title":"Summary","text":"<p>Survey of existing parts databases that could feed a Filare part-ingestion tool. Focus on sources with downloadable or API-accessible data, plus tool-specific catalogs that may require manual export/conversion. Notes include access steps and licensing considerations.</p>"},{"location":"research/parts-databases/#candidates","title":"Candidates","text":"<ul> <li>EPLAN Data Portal</li> <li>Content: Electrical/mechanical parts (connectors, relays, cables, etc.) with rich metadata and symbols/macros.</li> <li>Access: Requires EPLAN account and license; exports typically via EPLAN (XML/EDZ); conversion to Filare would need a script to map EPLAN fields to Filare part model.</li> <li>Notes: Licensing restrictive; use for internal conversions only.</li> <li>TraceParts</li> <li>Content: 3D models and metadata for many manufacturers (including connectors, hardware).</li> <li>Access: Free account; downloads in STEP/IGES + CSV where available. Batch download may require manual selection; API access is limited and may need commercial agreement.</li> <li>Conversion: Use CSV/Excel exports (where provided) to map into Filare; 3D models optional for mechanical references.</li> <li>Octopart</li> <li>Content: Aggregated distributor/manufacturer data (specs, datasheets, offers).</li> <li>Access: Official REST API (API key); supports manufacturer/distributor filters; JSON responses.</li> <li>Conversion: Direct mapping to Filare part model via an adapter; honor API terms and rate limits.</li> <li>SnapEDA</li> <li>Content: ECAD symbols/footprints and basic part metadata.</li> <li>Access: Free account; API available (partner/commercial); web downloads per part.</li> <li>Conversion: Use API (if permitted) or CSV export (via BOM upload) to pull metadata; beware TOS for bulk use.</li> <li>Ultra Librarian</li> <li>Content: ECAD models and parametric data for many parts.</li> <li>Access: Account required; downloads per part; API is commercial.</li> <li>Conversion: Possible via BOM upload/export; scripting required; check licensing for redistribution.</li> <li>ComponentSearchEngine / SamacSys</li> <li>Content: ECAD models and parametrics.</li> <li>Access: Free/paid; some APIs for partners; otherwise per-part download.</li> <li>Conversion: Similar to Ultra Librarian; use BOM upload workflow to extract CSV when allowed.</li> <li>Mouser / Digi-Key / Newark APIs</li> <li>Content: Distributor catalogs with specs, datasheets, pricing/availability.</li> <li>Access: Official APIs with keys/OAuth; region selectable.</li> <li>Conversion: Best fit for automated ingestion; map JSON to Filare part schema; cache locally.</li> <li>Altium 365 Manufacturer Part Search (MPS)</li> <li>Content: Aggregated part data and supplier links.</li> <li>Access: Within Altium ecosystem; no open API for bulk external use.</li> <li>Conversion: Not recommended unless using Altium server-side exports; licensing constraints.</li> <li>KiCad libraries with linked parametrics</li> <li>Content: Symbols/footprints; limited parametric data.</li> <li>Access: Git repositories; open source.</li> <li>Conversion: Good for footprints, but parametrics thin; supplement with distributor APIs.</li> <li>Open Parts Libraries (e.g., PartKeepr datasets, open BOM repos)</li> <li>Content: Community-curated parts with varying quality.</li> <li>Access: Public repos/exports.</li> <li>Conversion: Feasible via CSV/JSON import; validate field quality manually.</li> </ul>"},{"location":"research/parts-databases/#manual-steps-access-notes","title":"Manual Steps / Access Notes","text":"<ul> <li>EPLAN: Export EDZ/XML from licensed EPLAN session; run a converter to map fields (MPN, manufacturer, description, electrical/mechanical specs) to Filare part model; remove proprietary symbol data unless permitted.</li> <li>TraceParts: Use account to filter by manufacturer/category; download CSV if available; otherwise scrape with caution (check TOS). Map parametrics; link STEP as optional mechanical reference.</li> <li>Octopart: Obtain API key; use REST queries filtered by manufacturer/category; cache responses to respect rate limits/TOS.</li> <li>SnapEDA/Ultra Librarian/ComponentSearchEngine: If API access granted, pull parametrics; otherwise use BOM upload/export workflows to obtain CSVs; check licensing for bulk/redistribution.</li> <li>Distributor APIs (Mouser/Digi-Key/Newark): Obtain keys; select region/currency; paginate results; cache locally; prefer these for specs/datasheets/pricing.</li> <li>Open libraries: Pull CSV/JSON; clean/normalize fields; supplement with trusted sources for missing specs.</li> </ul>"},{"location":"research/parts-databases/#recommendation","title":"Recommendation","text":"<ul> <li>Primary automated sources: Distributor APIs (Mouser/Digi-Key/Newark) and Octopart API (if licensed).</li> <li>Secondary/manual sources: EPLAN exports (for internal use), TraceParts CSV, SnapEDA/Ultra Librarian via permitted exports.</li> <li>Always respect TOS/licensing; keep ingestion adapters optional and cache results locally.</li> </ul>"},{"location":"research/performance-tools/","title":"Performance Analysis Tooling","text":""},{"location":"research/performance-tools/#summary","title":"Summary","text":"<p>Survey of Python-friendly performance and observability tools that can profile Filare\u2019s CLI/library runtime across CPU, memory, and lock/GIL contention. Focus is on low-integration options that work with <code>uv run filare ...</code> and can attach to existing processes without changing Filare code.</p>"},{"location":"research/performance-tools/#use-cases-for-filare","title":"Use Cases for Filare","text":"<ul> <li>Diagnose slow renders in <code>filare</code>/<code>filare-qty</code> runs (Graphviz/HTML/BOM generation).</li> <li>Track CPU hotspots when parsing large YAML inputs or heavy component metadata.</li> <li>Detect memory leaks or excessive allocations during batch diagram builds.</li> <li>Measure GIL/lock contention when using threads/subprocesses for rendering.</li> <li>Capture process-level resource envelopes to size CI runners and downstream harness machines.</li> </ul>"},{"location":"research/performance-tools/#technical-evaluation","title":"Technical Evaluation","text":"<ul> <li>cProfile + pstats (stdlib)</li> <li>Features: Deterministic function-level CPU profiling; ships with Python.</li> <li>Strengths: Zero dependencies; stable API; integrates with existing test runs.</li> <li>Weaknesses: Higher overhead; no memory insight; noisy for short-lived functions.</li> <li>Limitations: Cannot attach to running processes; output requires manual formatting.</li> <li>Compatibility with Filare: Wrap <code>uv run filare ...</code> to profile CLI entrypoints; works in CI for regressions.</li> <li>Required integrations: Optional helper script to run <code>cProfile</code> and emit <code>pstats</code>/callgrind files.</li> <li>py-spy</li> <li>Features: Sampling profiler that can attach to live Python processes; thread-aware; shows time waiting on the GIL.</li> <li>Strengths: Low overhead; no code changes; safe to use on production-like runs; exports flamegraphs.</li> <li>Weaknesses: Limited memory visibility; sampling can miss very short functions.</li> <li>Limitations: Requires <code>ptrace</code> permission; primarily CPU/GIL focused.</li> <li>Compatibility with Filare: Can attach to <code>uv run filare ...</code> or record a run to SVG; helpful for lock/GIL hotspots when rendering diagrams.</li> <li>Required integrations: Add doc snippets for <code>UV_CACHE_DIR=.uv-cache uv run py-spy record -- output.svg -- uv run filare ...</code>.</li> <li>Scalene</li> <li>Features: Line-level CPU and memory sampling with GIL attribution and copy cost detection.</li> <li>Strengths: Highlights CPU vs. memory-heavy lines; detects leaks; works with threads.</li> <li>Weaknesses: Higher overhead than py-spy; reports are more complex to interpret.</li> <li>Limitations: Not ideal for very short runs; requires Python 3.8+.</li> <li>Compatibility with Filare: Run <code>UV_CACHE_DIR=.uv-cache uv run scalene --cpu --memory --filare ...</code> to spot heavy parsing/rendering paths.</li> <li>Required integrations: Document invocation examples and add ignore patterns for profiler outputs if needed.</li> <li>Memray</li> <li>Features: Comprehensive memory allocator tracer (Python + native) with flamegraphs and leak views.</li> <li>Strengths: Captures allocations across Python/C extensions (Graphviz); good for peak memory tracking.</li> <li>Weaknesses: Higher runtime overhead; generates large reports.</li> <li>Limitations: Best for repro runs, not continuous CI; Linux/macOS only.</li> <li>Compatibility with Filare: Wrap CLI runs to find leaks during large diagram builds; useful when BOM generation spikes memory.</li> <li>Required integrations: Provide optional <code>uv run memray run -o run.bin -- filare ...</code> instructions and viewer steps.</li> <li>Linux perf (perf stat/record + FlameGraph)</li> <li>Features: System-level sampling of CPU, context switches, and locks (with <code>perf lock</code>); captures native stacks.</li> <li>Strengths: Very low overhead; observes Python + native (Graphviz, libc); shows scheduler/lock behavior.</li> <li>Weaknesses: Linux-only; requires permissions (<code>perf_event_paranoid</code>); output needs post-processing.</li> <li>Limitations: Less Python-specific; symbol resolution for Python frames requires <code>perf map</code> support.</li> <li>Compatibility with Filare: Useful for render-heavy workloads where native Graphviz dominates; can reveal context-switch storms.</li> <li>Required integrations: Document <code>perf stat -d -- uv run filare ...</code> and optional <code>perf script</code> + <code>FlameGraph</code> steps; avoid CI unless perf is available.</li> </ul>"},{"location":"research/performance-tools/#complexity-score-15","title":"Complexity Score (1\u20135)","text":"<p>2 \u2014 Tooling can be added as optional developer workflows without altering Filare\u2019s code. Integration is limited to docs/scripts; the main effort is curating example commands and ignoring generated profiler artifacts.</p>"},{"location":"research/performance-tools/#maintenance-risk","title":"Maintenance Risk","text":"<ul> <li>py-spy, Scalene, and Memray are active OSS projects with regular releases; stdlib cProfile is stable; Linux perf is maintained with the kernel.</li> <li>Risks: Kernel/ptrace permissions can block py-spy/perf on hardened hosts; Memray/Scalene may need periodic pinning for Python version bumps.</li> <li>Filare-side work: Maintain docs and optional helper scripts; ensure <code>UV_CACHE_DIR</code> use when adding profiling commands.</li> <li>External reliability: Low; tools are mature, but binary wheels may lag behind new Python versions temporarily.</li> </ul>"},{"location":"research/performance-tools/#industry-business-usage","title":"Industry / Business Usage","text":"<ul> <li>Profiling tooling is standard in enterprise Python stacks for services and CLI utilities; low-overhead sampling is preferred for production-like runs.</li> <li>Memray was open-sourced by Bloomberg to diagnose allocator-heavy workloads (e.g., market data pipelines) and targets mixed Python/C stacks.</li> <li>Linux perf is widely used by systems teams for CPU/lock tuning and is relied on by CPython core developers when optimizing interpreter hotspots.</li> <li>py-spy and Scalene are common in PyData/ML communities for notebook and batch job tuning where attaching to a live process is important.</li> </ul>"},{"location":"research/performance-tools/#who-uses-it-why-it-works-for-them","title":"Who Uses It &amp; Why It Works for Them","text":"<ul> <li>Bloomberg (Memray): Created Memray to trace Python and native allocations in production services; allocation flamegraphs reduced time-to-fix for leaks and peak RSS spikes.</li> <li>CPython core developers (Linux perf/pyperf): Use perf sampling to spot interpreter bottlenecks and native regressions with minimal overhead on large benchmarks.</li> <li>Ben Frederickson / RecSys blog (py-spy): Uses py-spy to attach to running recommendation service experiments, capturing flamegraphs without restarting processes.</li> <li>University teaching/research labs (Scalene): Adopt Scalene for coursework and experiments to illustrate CPU vs. memory bottlenecks with line-level granularity.</li> </ul>"},{"location":"research/performance-tools/#feasibility","title":"Feasibility","text":"<ul> <li>Feasible now as optional tooling and documentation.</li> <li>No REWORK or FEATURE blockers; only optional helper scripts and doc additions are needed.</li> </ul>"},{"location":"research/performance-tools/#required-work","title":"Required Work","text":"<ul> <li>REWORK tasks: None unless we later add profiling hooks into the CLI.</li> <li>FEATURE tasks: Optional <code>filare --profile</code> wrapper or <code>scripts/profile_filare.sh</code> to standardize cProfile/py-spy runs.</li> <li>DOCUMENTATION tasks: Add a developer doc page describing profiling recipes (py-spy, Scalene, Memray, perf) and example commands using <code>uv run</code>.</li> <li>TOOLS tasks: Provide ignore patterns for profiler artifacts; optionally vendor FlameGraph scripts or a Make target for perf/py-spy captures.</li> <li>COVERAGE tasks: Not applicable; profiling is observational.</li> </ul>"},{"location":"research/performance-tools/#recommendation","title":"Recommendation","text":"<p>ADOPT \u2014 Standardize on py-spy (CPU/GIL), Scalene (CPU+memory), Memray (allocation tracing), and cProfile (baseline) as optional developer tools; document Linux perf for native hot paths.</p>"},{"location":"research/performance-tools/#references","title":"References","text":"<ul> <li>py-spy: https://github.com/benfred/py-spy</li> <li>Scalene: https://github.com/plasma-umass/scalene</li> <li>Memray: https://github.com/bloomberg/memray</li> <li>cProfile/pstats: https://docs.python.org/3/library/profile.html</li> <li>Linux perf + FlameGraph: https://perf.wiki.kernel.org and https://github.com/brendangregg/FlameGraph</li> </ul>"},{"location":"research/performance-tools/#optional-appendix","title":"Optional Appendix","text":"<ul> <li>Example commands:</li> <li>CPU/GIL flamegraph: <code>UV_CACHE_DIR=.uv-cache uv run py-spy record -o filare.svg -- uv run filare examples/demo01.yml -f hpst -o outputs</code></li> <li>Line-level CPU/memory: <code>UV_CACHE_DIR=.uv-cache uv run scalene --cpu --memory -- filare examples/demo01.yml -f hpst -o outputs</code></li> <li>Allocation tracing: <code>UV_CACHE_DIR=.uv-cache uv run memray run -o filare.bin -- filare examples/demo01.yml -f hpst -o outputs</code></li> <li>System-level stats: <code>perf stat -d -- uv run filare examples/demo01.yml -f hpst -o outputs</code></li> </ul>"},{"location":"research/project-management/","title":"Project Management for Filare Backlog Coordination","text":""},{"location":"research/project-management/#summary","title":"Summary","text":"<p>Explore how to convert the current markdown backlog in <code>docs/issues</code> and <code>docs/features</code> into actionable plans (timelines, Gantt charts, Taskwarrior task lists) and whether introducing a PROJET_MANAGER agent would increase coordination, prevent conflicts, and maximize parallel work across agents.</p>"},{"location":"research/project-management/#use-cases-for-filare","title":"Use Cases for Filare","text":"<ul> <li>Create a single, time-aware backlog from the existing markdown issues/features to sequence releases and de-risk large refactors (e.g., graph model shift vs CLI restructuring).</li> <li>Give agents a reservation/assignment view so they can claim tasks, avoid overlap on shared files (CLI, renderers, docs), and see dependencies.</li> <li>Provide leadership with a lightweight roadmap (Gantt) that is exportable to reports without adopting heavy external tooling.</li> <li>Allow CI/harness maintainers to see when downstream-breaking items (graph model, Typer CLI migration, mechanical schema) land, so they can stage validation.</li> <li>Surface quick wins (docs-only, low coupling) to keep velocity high while long-running items proceed in parallel.</li> </ul>"},{"location":"research/project-management/#technical-evaluation","title":"Technical Evaluation","text":"<ul> <li>Features: derive structured metadata (status, priority, owner/agent role, dependencies, target release, risk) from a small YAML/JSON manifest that references existing markdown files; generate:</li> <li>Mermaid/Graphviz Gantt charts per quarter/milestone.</li> <li>Taskwarrior import files for offline CLI task management.</li> <li>A \u201cworkplan\u201d markdown (or <code>outputs/workplan/*.md</code>) summarizing assignments and critical paths.</li> <li>Strengths: no schema/CLI changes; aligns with existing doc-driven planning; scripts can live under <code>src/filare/tools/</code> or <code>docs/tools/</code>; outputs are pure docs and compatible with restricted environments.</li> <li>Weaknesses: requires consistent metadata upkeep; Gantt accuracy depends on estimates; Taskwarrior adoption needs minimal training; risk of drift if the manifest is not authoritative.</li> <li>Limitations: current markdown files lack uniform metadata (only some have Category); dependency mapping must be curated manually at first; auto-detecting file-touch conflicts is heuristic.</li> <li>Compatibility with Filare: fits documentation-first approach; leverages existing directories and <code>just</code>/<code>uv run</code> workflows; does not affect YAML schema or renderers.</li> <li>Required integrations: a canonical backlog manifest (e.g., <code>docs/workplan/backlog.yml</code>), a generator script (<code>uv run python ...</code>) that emits Gantt (Mermaid), Taskwarrior JSON, and markdown rollups; optional hook into <code>just</code> to refresh artifacts.</li> </ul>"},{"location":"research/project-management/#complexity-score-15","title":"Complexity Score (1\u20135)","text":"<p>2 \u2014 Mostly documentation and light tooling:</p> <ul> <li>Changes are confined to docs plus a small parser/generator script.</li> <li>No core library or schema impact; minimal new abstractions.</li> <li>External APIs (Mermaid, Taskwarrior JSON) are stable and simple.</li> </ul>"},{"location":"research/project-management/#maintenance-risk","title":"Maintenance Risk","text":"<ul> <li>External-side reliability: Mermaid Gantt syntax and Taskwarrior import format are stable; low risk of breaking changes.</li> <li>Filare-side work: keeping backlog metadata updated is the main cost; requires ownership discipline.</li> <li>Ongoing cost: low, assuming weekly refresh by the PROJET_MANAGER agent or a scheduled <code>just workplan</code> job.</li> <li>Abandonment risk: minimal because the data lives in-repo; outputs can degrade gracefully (old charts) without breaking builds.</li> </ul>"},{"location":"research/project-management/#industry-business-usage","title":"Industry / Business Usage","text":"<ul> <li>Hardware/embedded teams often maintain lightweight roadmaps (Mermaid/Gantt in repos) to coordinate schematic, harness, and manufacturing documentation work.</li> <li>Open-source projects with distributed contributors use markdown roadmaps plus issue labels to stage releases; Taskwarrior is common for CLI-driven personal task tracking.</li> <li>Automotive/aerospace documentation teams sequence schema changes and doc updates separately to avoid blocking certification packages\u2014mirrors Filare\u2019s need to stage schema, renderer, and doc tasks.</li> </ul>"},{"location":"research/project-management/#who-uses-it-why-it-works-for-them","title":"Who Uses It &amp; Why It Works for Them","text":"<ul> <li>Linux distros (Debian, Fedora) coordinate releases with task queues and Gantt-like freeze timelines\u2014works because contributors see critical paths early.</li> <li>Hardware design teams using KiCad/Altium often keep an internal \u201cwork package\u201d spreadsheet or markdown roadmap per release\u2014helps parallelize schematic/layout/BOM work without collisions.</li> <li>Rust and Kubernetes release leads rely on markdown roadmaps plus automation that turns issues into burndown charts\u2014gives visibility without heavyweight PM suites.</li> </ul>"},{"location":"research/project-management/#feasibility","title":"Feasibility","text":"<ul> <li>Feasible now: requires only docs and a small generator; no network dependencies beyond existing toolchain.</li> <li>Even easier after minor REWORK to add consistent metadata headers to existing issue/feature files.</li> </ul>"},{"location":"research/project-management/#required-work","title":"Required Work","text":"<ul> <li>REWORK tasks:</li> <li>Add a lightweight metadata header to every <code>docs/issues/*.md</code> and <code>docs/features/**/*.md</code> (status, priority, owner/role, estimate, dependencies, risk, target release).</li> <li>Normalize naming (one slug per item) to avoid duplicate references across directories, and introduce an explicit immutable <code>uid</code> for each item that all outputs (Mermaid, Taskwarrior, timelines) reuse for stable references and user-facing anchors.</li> <li>FEATURE tasks:</li> <li>Define and codify a PROJET_MANAGER agent role: maintains backlog manifest, resolves conflicts, sequences dependencies, and assigns roles per item.</li> <li>Introduce a reservation/lock convention (e.g., <code>assigned:</code> field or <code>claims/</code> log) to reduce toe-stepping across agents.</li> <li>Optional: add a <code>docs/workplan/backlog.yml</code> (or JSON) as the source of truth mapping to markdown files, with dependency edges and target milestones.</li> <li>DOCUMENTATION tasks:</li> <li>Document the planning workflow in <code>docs/</code> (how to add metadata, how to generate charts, how agents claim work, how to request sequencing).</li> <li>Provide examples for adding new items and refreshing outputs.</li> <li>TOOLS tasks:</li> <li>Build a generator script (could live under <code>src/filare/tools/</code> or <code>docs/tools/</code>) that parses the backlog manifest and emits:<ul> <li>Mermaid Gantt charts grouped by milestone/workstream.</li> <li>Taskwarrior import JSON (one task per backlog item with tags = role, milestone, dependency).</li> <li>A markdown rollup (workplan) with critical path and parallelization suggestions.</li> </ul> </li> <li>Add a <code>just workplan</code> (or similar) recipe to regenerate outputs; keep outputs under <code>outputs/workplan/</code> or <code>docs/research/exports/</code>.</li> <li>Optional: simple conflict detector that flags overlapping assignments on the same module paths (e.g., CLI vs renderers) using a maintained mapping.</li> <li>COVERAGE tasks:</li> <li>Unit tests for the generator script (parsing metadata, producing valid Mermaid/Taskwarrior JSON).</li> <li>Regression check that every issue/feature slug is represented in the manifest.</li> </ul>"},{"location":"research/project-management/#recommendation","title":"Recommendation","text":"<p>ADOPT \u2014 Low complexity and low risk. A structured backlog plus a PROJET_MANAGER agent enables parallelism, clearer sequencing of high-risk changes (graph model, CLI Typer migration, mechanical schema), and reduces collisions between agents.</p>"},{"location":"research/project-management/#references","title":"References","text":"<ul> <li>docs/issues/, docs/features/</li> <li>Mermaid Gantt syntax: https://mermaid.js.org/syntax/gantt.html</li> <li>Taskwarrior data formats: https://taskwarrior.org/docs/</li> <li>Graphviz timelines (for optional export): https://graphviz.org/</li> </ul>"},{"location":"research/project-management/#optional-appendix","title":"Optional Appendix","text":"<ul> <li>Sample backlog manifest entry (YAML):   <pre><code>- id: cli-hierarchical-commands\n  file: docs/features/cli-hierarchical-commands.md\n  status: backlog\n  priority: high\n  role: FEATURE\n  estimate: 3d\n  dependencies: [cli-typer-migration]\n  milestone: Q1\n  risk: medium\n</code></pre></li> <li>Sample Taskwarrior export snippet:   <pre><code>[\n  {\n    \"description\": \"Implement hierarchical CLI (cli-hierarchical-commands)\",\n    \"project\": \"filare\",\n    \"tags\": [\"FEATURE\", \"CLI\", \"Q1\"],\n    \"depends\": \"cli-typer-migration\",\n    \"due\": \"2025-03-31\"\n  }\n]\n</code></pre></li> <li>Sample Mermaid Gantt idea:   <pre><code>gantt\n  dateFormat  YYYY-MM-DD\n  section CLI\n  Typer migration           :a1, 2025-01-10, 15d\n  Hierarchical commands     :a2, after a1, 12d\n  section Graph Model\n  Graph base                :b1, 2025-01-05, 20d\n  Pins/terminations         :b2, after b1, 15d</code></pre></li> </ul>"},{"location":"research/termination-diagram-requirements/","title":"Termination Diagram Requirements","text":""},{"location":"research/termination-diagram-requirements/#summary","title":"Summary","text":"<p>Defines what termination diagrams/instructions should contain so technicians can terminate wires/cables into connectors/splices correctly. Focus on connector-end prep, seals/plugs, tooling, shield terminations, and labeling in Filare context.</p>"},{"location":"research/termination-diagram-requirements/#use-cases-for-filare","title":"Use Cases for Filare","text":"<ul> <li>Provide clear instructions for terminating wires/cables to connectors, splices, backshells, and shield ties.</li> <li>Support QA and service with explicit pin/cavity assignments and prep steps.</li> </ul>"},{"location":"research/termination-diagram-requirements/#technical-evaluation","title":"Technical Evaluation","text":"<ul> <li>Core contents:</li> <li>Component reference: connector/splice ID, family/type, pin/cavity map; for splices, barrel/junction type.</li> <li>Wire/cable references: design IDs, gauge/color, cable conductor ID, shield presence.</li> <li>Pin/cavity assignment table:<ul> <li>Pin/cavity ID/label; wire/conductor assigned.</li> <li>Terminal/contacts part number; seal/plug part number (if applicable).</li> <li>Strip length; crimp/solder note; crimp height (optional), insulation support.</li> <li>Tooling: crimp tool, die/locator, extraction tool.</li> <li>Shield termination: backshell tie vs pigtail vs isolated; drain length.</li> </ul> </li> <li>Backshell/boot/strain relief:<ul> <li>Part numbers; torque/assembly note; order of operations (shield clamp before insertion, etc.).</li> </ul> </li> <li>Labels/markers:<ul> <li>Label text/ID for connector/branch; placement near connector; flag/heat-shrink part references.</li> </ul> </li> <li>Notes/quality:<ul> <li>Workmanship spec (IPC/WHMA-A-620), inspection criteria, torque, continuity check.</li> </ul> </li> <li>Symbology/format:</li> <li>Table of pin assignments with prep columns (strip, terminal, seal, tool).</li> <li>Optional connector face diagram with cavity numbering (especially for multi-pin).</li> <li>Shield tie glyph (ground/backshell) and callouts for boots/strain relief.</li> <li>A/B side references aligned with harness design.</li> <li>Data fields (suggested):</li> <li><code>connector_id</code> / <code>splice_id</code>, <code>family/type</code>, <code>backshell/boot_pn</code>, <code>shield_style</code>.</li> <li>For each termination (row): <code>pin_id/label</code>, <code>wire_ref</code>, <code>wire_gauge/color</code>, <code>terminal_pn</code>, <code>seal_pn</code>, <code>strip_length</code>, <code>tool_crimp</code>, <code>tool_extract</code>, <code>shield_prep</code>, <code>note</code>.</li> <li>Labels: <code>{text, position, part, template}</code> near connector.</li> <li>Quality/process: <code>process_ref</code>, <code>torque</code>, <code>inspection_notes</code>.</li> </ul>"},{"location":"research/termination-diagram-requirements/#complexity-score-15","title":"Complexity Score (1\u20135)","text":"<p>3 \u2014 Requires schema and output tables, and optional face diagrams for clarity.</p>"},{"location":"research/termination-diagram-requirements/#maintenance-risk","title":"Maintenance Risk","text":"<ul> <li>Low; termination instruction formats are stable; keep optional fields to avoid burden on simple cases.</li> </ul>"},{"location":"research/termination-diagram-requirements/#industry-business-usage","title":"Industry / Business Usage","text":"<ul> <li>Harness shops and service manuals show pin tables with strip lengths, terminals/seals, and tooling; shield/backshell instructions are common in automotive/aero/industrial connectors.</li> </ul>"},{"location":"research/termination-diagram-requirements/#who-uses-it-why-it-works-for-them","title":"Who Uses It &amp; Why It Works for Them","text":"<ul> <li>Manufacturing/QA: to assemble connectors correctly with correct terminals/seals/tools.</li> <li>Service: to re-pin or repair harness ends with clear cavity IDs.</li> </ul>"},{"location":"research/termination-diagram-requirements/#feasibility","title":"Feasibility","text":"<ul> <li>Feasible to add termination-list schema and outputs (tables, optional face diagram).</li> </ul>"},{"location":"research/termination-diagram-requirements/#required-work","title":"Required Work","text":"<ul> <li>REWORK tasks: Define termination schema tied to connectors/cables/wires; allow terminals/seals/tooling; shield styles.</li> <li>FEATURE tasks: Outputs (CSV/TSV/HTML tables) and optional connector face diagram with pin labels; include labels/notes.</li> <li>DOCUMENTATION tasks: Syntax and examples; symbol legend for shield/backshell and pin numbering.</li> <li>COVERAGE tasks: Regression YAMLs covering connectors with terminals/seals, shield styles, boots/backshells, and splices.</li> </ul>"},{"location":"research/termination-diagram-requirements/#recommendation","title":"Recommendation","text":"<p>ADOPT_LATER \u2014 Add termination schema and outputs; start with tables and optional simple face diagram later.</p>"},{"location":"research/vendor-parts-ingestion/","title":"Vendor Parts Ingestion (Manufacturers &amp; Distributors)","text":""},{"location":"research/vendor-parts-ingestion/#summary","title":"Summary","text":"<p>Explores how Filare could automatically gather part data from manufacturers (Molex, Belden, Samtec) and distributors (Mouser, Digi-Key, Newark), with options to select distributor site/region. Covers data sources, access patterns, and considerations for common manufacturers.</p>"},{"location":"research/vendor-parts-ingestion/#use-cases-for-filare","title":"Use Cases for Filare","text":"<ul> <li>Enrich BOMs with live metadata (MPN, specs, datasheet URL, lifecycle) without manual entry.</li> <li>Pull supplier-specific pricing/availability for selected regions or channels.</li> <li>Offer alternates and family links from upstream catalogs.</li> </ul>"},{"location":"research/vendor-parts-ingestion/#technical-evaluation","title":"Technical Evaluation","text":"<ul> <li>Manufacturers:</li> <li>Molex: Public APIs and part pages; <code>services.ips.molex.com</code> API used by their site; datasheets on <code>www.molex.com</code>; parametric search endpoints; CSV exports via MyMolex (account).</li> <li>Belden: Product catalog with specs and datasheets; APIs are limited; scraping risks TOS; better via distributor data for Belden SKUs.</li> <li>Samtec: <code>api.samtec.com</code> and <code>samtec.com/api</code> endpoints for product specs and parametric filters; often require API key; datasheets on product pages.</li> <li>Distributors (preferred for availability/pricing):</li> <li>Mouser: Official REST API (OAuth) with product search/details, pricing, availability, lifecycle; region parameter (e.g., <code>countryCode</code>).</li> <li>Digi-Key: REST API with OAuth (Client Credentials + Signed requests) for product search, pricing, availability, lifecycle; supports region via locale and currency parameters.</li> <li>Newark (element14): APIs vary by region (Newark/Farnell/element14); REST product search/details with API key; region selection via domain (newark.com/us, farnell.com/uk) and <code>country</code>/<code>currency</code> params.</li> <li>Access patterns:</li> <li>Prefer official REST APIs (Mouser, Digi-Key, Newark/element14, Samtec, Molex) to avoid scraping and TOS issues.</li> <li>Use manufacturer pages for datasheet URLs when distributor data lacks them.</li> <li>Cache part metadata locally to reduce rate-limit impact and avoid hammering APIs.</li> <li>Region selection:</li> <li>Mouser: <code>countryCode</code> and <code>currency</code> in API request.</li> <li>Digi-Key: <code>X-DIGIKEY-Locale</code> (country, language, currency) headers.</li> <li>Newark/Farnell/element14: domain + <code>country</code>/<code>currency</code> params.</li> <li>Store preferred distributor/region in Filare config to choose which API and locale to call.</li> <li>Common fields obtainable:</li> <li>MPN, manufacturer, descriptions, lifecycle, RoHS/REACH, datasheet URL.</li> <li>Electrical/mechanical specs (pin count, gauge range, impedance, shield, temp rating).</li> <li>Pricing by quantity break, currency, MOQ, lead time; stock/availability.</li> <li>Suggested alternates (some distributors return substitutes).</li> <li>Data freshness and licensing:</li> <li>APIs often require terms acceptance; usage may be rate-limited and intended for sourcing, not bulk redistribution.</li> <li>Avoid storing bulk distributor pricing in public artifacts; fetch on demand or cache privately.</li> </ul>"},{"location":"research/vendor-parts-ingestion/#complexity-score-15","title":"Complexity Score (1\u20135)","text":"<p>4 \u2014 Requires API authentication flows, per-distributor schemas, caching, locale handling, and error/rate-limit management.</p>"},{"location":"research/vendor-parts-ingestion/#maintenance-risk","title":"Maintenance Risk","text":"<ul> <li>APIs change and may need re-registration/keys; keep adapters versioned and optional.</li> <li>Regional differences (domains, currencies) can break naive clients; test per locale.</li> <li>Scraping is fragile; favor official APIs.</li> </ul>"},{"location":"research/vendor-parts-ingestion/#industry-business-usage","title":"Industry / Business Usage","text":"<ul> <li>Procurement and PLM tools integrate distributor APIs (Mouser/Digi-Key) for pricing and stock; engineering teams pull specs from manufacturer APIs (Samtec/Molex) for parametric selection.</li> </ul>"},{"location":"research/vendor-parts-ingestion/#who-uses-it-why-it-works-for-them","title":"Who Uses It &amp; Why It Works for Them","text":"<ul> <li>Procurement: needs pricing/availability in the correct region/currency.   +- Engineering: needs specs, datasheets, and lifecycle direct from manufacturer.</li> <li>Service: needs reliable links to datasheets and replacement alternates.</li> </ul>"},{"location":"research/vendor-parts-ingestion/#feasibility","title":"Feasibility","text":"<ul> <li>Feasible if kept optional and adapter-based (per distributor/manufacturer), with config for region and API keys; avoid mandatory network calls for core Filare use.</li> </ul>"},{"location":"research/vendor-parts-ingestion/#required-work","title":"Required Work","text":"<ul> <li>REWORK tasks: Define part ingestion abstraction (adapters per source) and caching strategy; config for preferred distributor/region.</li> <li>FEATURE tasks: Implement adapters for Mouser, Digi-Key, Newark (distributors); Molex/Samtec manufacturer detail endpoints; optional Belden via distributor data; map responses into Filare part model; allow alternates from API where present.</li> <li>TOOLS tasks: CLI to fetch/refresh part metadata into local cache; API key management; retry/rate-limit handling.</li> <li>DOCUMENTATION tasks: Setup guides for API keys, region selection, and usage examples; note TOS and caching practices.</li> <li>COVERAGE tasks: Mocked integration tests per adapter; fixtures for sample API responses; ensure locale handling.</li> </ul>"},{"location":"research/vendor-parts-ingestion/#recommendation","title":"Recommendation","text":"<p>ADOPT_LATER \u2014 Build optional adapters for major distributors/manufacturers with region-aware requests and caching; keep network and API keys optional so core flows remain offline-safe.</p>"},{"location":"research/vendor-parts-ingestion/#models-ingestion","title":"Models (Ingestion)","text":"<ul> <li>Config:</li> <li><code>preferred_distributor</code> (mouser|digikey|newark/element14|none), <code>region</code> (country, currency, language), API keys per source.</li> <li>Fallback order for lookups (manufacturer first, then distributor, or vice versa).</li> <li>Adapter output (mapped to Filare part model):</li> <li><code>mpn</code>, <code>manufacturer</code>, <code>description</code>, <code>datasheet_url</code>, <code>lifecycle</code>, <code>rohs/reach</code>.</li> <li>Specs (as provided: pin count, gauge range, impedance, temp rating, etc.).</li> <li><code>suppliers</code>: list with price breaks, currency, stock, lead time, URL, supplier SKU.</li> <li><code>alternates</code>: when returned by API.</li> </ul>"},{"location":"research/vendor-parts-ingestion/#sources-and-notes","title":"Sources and Notes","text":"<ul> <li>Molex: product API (<code>services.ips.molex.com</code>), datasheets on <code>www.molex.com</code>; may need account/key.</li> <li>Samtec: <code>api.samtec.com</code> (keyed); product details and parametric filters.</li> <li>Belden: limited API; rely on distributor data when possible; use datasheet links from manufacturer site if needed.</li> <li>Mouser: official REST API (OAuth); supports country/currency; returns pricing, availability, lifecycle, datasheet.</li> <li>Digi-Key: REST API (OAuth + signed); locale headers; returns pricing, availability, lifecycle, specs.</li> <li>Newark/element14/Farnell: REST product API (API key); region via domain/country/currency; returns pricing, availability, datasheet, alternates.</li> </ul>"},{"location":"research/vendor-parts-ingestion/#optional-appendix","title":"Optional Appendix","text":"<ul> <li>Region handling examples:</li> <li>Mouser: <code>countryCode=CA</code>/<code>US</code>, <code>currency=USD/CAD</code>.</li> <li>Digi-Key: <code>X-DIGIKEY-Locale: {Country: CA, Language: en, Currency: CAD}</code>.</li> <li>Newark vs Farnell vs element14: switch domain and set <code>country=US/UK/SG</code>, <code>currency=USD/GBP/SGD</code>.</li> </ul>"},{"location":"research/vendor-parts-integration/","title":"Vendor and Manufacturer Parts Integration","text":""},{"location":"research/vendor-parts-integration/#summary","title":"Summary","text":"<p>Explores how to represent and integrate manufacturer/supplier parts in Filare so harness BOMs can carry rich metadata (technical attributes, sourcing, pricing, alternates, families). Covers common part types (connectors, terminals/crimps, tools, wires/cables, coverings, labels, protection) and suggests fields to track per type.</p>"},{"location":"research/vendor-parts-integration/#use-cases-for-filare","title":"Use Cases for Filare","text":"<ul> <li>Generate procurement-ready BOMs with manufacturer/supplier links, pricing, and approved alternates.</li> <li>Validate part compatibility (wire gauge to terminal, connector family to accessories).</li> <li>Support service/field teams with consistent part IDs, datasheets, and ordering links.</li> <li>Enable future inventory overlays (stock counts, preferred supplier) without breaking schema.</li> </ul>"},{"location":"research/vendor-parts-integration/#technical-evaluation","title":"Technical Evaluation","text":"<ul> <li>Part types to model:</li> <li>Connectors (housings, genders, pin count, family, accessories/back-shells).</li> <li>Terminals/crimps and seals/plugs (wire gauge range, plating, tool spec).</li> <li>Tools (crimp tools, applicators, extraction tools).</li> <li>Wires (single conductor): gauge, insulation, color, stranding, temp rating, voltage rating, roll length, OD, approvals.</li> <li>Cables (bundles): wire count, color map, shield/twist/grouping, impedance/spec (Ethernet, SpaceWire, CameraLink), jacket, bend radius, OD.</li> <li>Coverings: conduit/braid/tape/heat-shrink, ID/OD range, shrink ratio, temp rating.</li> <li>Labels/markers: size, material, printable format.</li> <li>Protection: fuses/breakers inline; boots/backshells; grommets.</li> <li>Families/kits: connector families (D-sub, MicroFit, Deutsch), matched terminals/seals, accessory sets.</li> <li>Common fields (core):</li> <li><code>category</code>, <code>type/subtype</code>, <code>family</code>.</li> <li><code>pn</code>, <code>mpn</code>, <code>manufacturer</code>, <code>datasheet_url</code>, <code>description</code>.</li> <li>Supplier entries: <code>supplier</code>, <code>spn</code>, <code>url</code>, <code>price</code>, <code>currency</code>, <code>qty_break</code>, <code>moq</code>, <code>lead_time</code>.</li> <li><code>alternates</code>: list of equivalent <code>mpn</code>/supplier refs with notes.</li> <li><code>notes</code>, <code>status</code> (active/EOL/NRND), <code>lifecycle_source</code>.</li> <li>Technical fields by type:</li> <li>Connectors: <code>pin_count</code>, <code>gender</code>, <code>keying</code>, <code>mount</code> (panel/in-line), <code>termination</code> (crimp/solder/poke), <code>accessories</code> (backshell/boot/cap), <code>family</code>, <code>seal_rating</code>, <code>temp_rating</code>, <code>current_rating</code>, <code>voltage_rating</code>, <code>mating_cycles</code>.</li> <li>Terminals/seals/plugs: <code>wire_gauge_range</code>, <code>material/plating</code>, <code>insulation_support</code>, <code>crimp_tool</code>, <code>extraction_tool</code>, <code>seal_size</code>, <code>cavity_family</code>.</li> <li>Tools: <code>tool_type</code> (crimp/applicator/extractor), <code>compatible_families</code>, <code>gauge_range</code>, <code>die/locator</code>.</li> <li>Wires: <code>gauge</code> (AWG/mm2), <code>stranding</code>, <code>color</code>, <code>insulation_material</code>, <code>temp_rating</code>, <code>voltage_rating</code>, <code>outer_diameter</code>, <code>roll_length</code>, <code>standards</code> (UL/ISO), <code>shield</code> (bool/type/drain).</li> <li>Cables: <code>wire_count</code>, <code>colors</code>, <code>twist</code> (pairing), <code>shield</code> (type/coverage/drain), <code>impedance</code>, <code>category/protocol</code> (Ethernet Cat5e/Cat6, SpaceWire, CameraLink), <code>jacket_material</code>, <code>outer_diameter</code>, <code>min_bend_radius</code>, <code>length_unit</code>, <code>approval</code>.</li> <li>Coverings: <code>inner_diameter</code>, <code>outer_diameter</code>, <code>shrink_ratio</code>, <code>temp_rating</code>, <code>material</code>, <code>color</code>, <code>length_unit</code>.</li> <li>Labels: <code>size</code>, <code>material</code>, <code>adhesive</code>, <code>print_method</code>.</li> <li>Protection/accessories: <code>current_rating</code> (fuse/breaker), <code>ingress</code> (cap/boot), <code>backshell_thread</code>, <code>grommet_size</code>.</li> <li>Data links:</li> <li>URLs: <code>datasheet_url</code>, <code>manufacturer_url</code>, <code>supplier_urls</code> (list with price/qty).</li> <li>Families/aliases: <code>family</code>, <code>series</code>, <code>accessories</code> referencing other part records.</li> <li>Alternates: list with <code>mpn</code>, <code>manufacturer</code>, <code>supplier</code> entry, <code>notes</code>.</li> <li>Pricing:</li> <li>Optional per supplier: <code>price</code>, <code>currency</code>, <code>qty_break</code>/<code>moq</code>, <code>lead_time</code>.</li> <li>Keep as informational; avoid computations in core schema.</li> <li>Inventory (optional future):</li> <li>Separate overlay: <code>location</code>, <code>on_hand</code>, <code>lot</code>, <code>expires</code>, <code>reserved</code>; keep out of core part definition to avoid coupling usage with stock.</li> </ul>"},{"location":"research/vendor-parts-integration/#complexity-score-15","title":"Complexity Score (1\u20135)","text":"<p>3 \u2014 Adds structured part metadata and supplier/alternate links; schema extensions and BOM rendering changes are needed but no deep architectural change.</p>"},{"location":"research/vendor-parts-integration/#maintenance-risk","title":"Maintenance Risk","text":"<ul> <li>Part data changes often (pricing/availability); risk mitigated by treating supplier info as optional and by allowing alternates.</li> <li>Families and compatibility tables need maintenance but change slowly.</li> <li>URL rot; need permissive handling when links are absent.</li> </ul>"},{"location":"research/vendor-parts-integration/#industry-business-usage","title":"Industry / Business Usage","text":"<ul> <li>OEM and supplier BOMs list MPN, supplier SKU, alternates, pricing breaks, lifecycle status.</li> <li>Harness teams track gauge/tool compatibility for crimps and terminals.</li> <li>Procurement/service need datasheet links and clear family naming (e.g., D-sub, MicroFit, Deutsch DT/DRC).</li> </ul>"},{"location":"research/vendor-parts-integration/#who-uses-it-why-it-works-for-them","title":"Who Uses It &amp; Why It Works for Them","text":"<ul> <li>Procurement: sourcing links, alternates, pricing.</li> <li>Manufacturing/QA: crimp/tool compatibility, gauge ranges, accessories.</li> <li>Service: clear part IDs, families, and URLs for replacements.</li> </ul>"},{"location":"research/vendor-parts-integration/#feasibility","title":"Feasibility","text":"<ul> <li>Feasible as optional part metadata extensions and richer <code>additional_components</code>/BOM rendering; inventory can stay a separate overlay.</li> </ul>"},{"location":"research/vendor-parts-integration/#required-work","title":"Required Work","text":"<ul> <li>REWORK tasks: Define part data model (common fields + type-specific attributes); align with existing BOM/additional_components shape.</li> <li>FEATURE tasks: Extend schema to accept part metadata and alternates; add supplier list support; display key fields in BOM and HTML outputs; allow part families/aliases.</li> <li>TOOLS tasks: Optional part library ingestion (CSV/JSON) and validation for compatibility (gauge vs terminal); optional URL checker.</li> <li>DOCUMENTATION tasks: Syntax examples for part metadata, alternates, supplier/pricing fields; guidance on families and accessories.</li> <li>COVERAGE tasks: Regression YAMLs with parts spanning connectors, terminals, wires, cables, coverings, and alternates; verify BOM output.</li> </ul>"},{"location":"research/vendor-parts-integration/#recommendation","title":"Recommendation","text":"<p>ADOPT_LATER \u2014 Add optional part metadata, supplier/alternate fields, and families, keeping inventory as a future overlay.</p>"},{"location":"research/vendor-parts-integration/#models-suggested","title":"Models (Suggested)","text":"<ul> <li>Core Part Model:</li> <li><code>category</code>, <code>type/subtype</code>, <code>family/series</code>, <code>pn/mpn/manufacturer</code>, <code>description</code>, <code>datasheet_url</code>, <code>manufacturer_url</code>, <code>status/lifecycle</code>.</li> <li>Supplier list: <code>[ {supplier, spn, url, price, currency, qty_break, moq, lead_time} ]</code>.</li> <li><code>alternates</code>: <code>[ {mpn, manufacturer, supplier?, spn?, notes} ]</code>.</li> <li><code>notes</code>.</li> <li>Type-specific extensions:</li> <li>Connector: <code>pin_count</code>, <code>gender</code>, <code>keying</code>, <code>mount</code>, <code>termination</code>, <code>seal_rating</code>, <code>temp_rating</code>, <code>current_rating</code>, <code>voltage_rating</code>, <code>mating_cycles</code>, <code>accessories</code>.</li> <li>Terminal/Seal/Plug: <code>wire_gauge_range</code>, <code>material/plating</code>, <code>insulation_support</code>, <code>crimp_tool</code>, <code>extraction_tool</code>, <code>seal_size</code>, <code>cavity_family</code>.</li> <li>Tool: <code>tool_type</code>, <code>compatible_families</code>, <code>gauge_range</code>, <code>die/locator</code>.</li> <li>Wire: <code>gauge</code>, <code>stranding</code>, <code>color</code>, <code>insulation_material</code>, <code>temp_rating</code>, <code>voltage_rating</code>, <code>outer_diameter</code>, <code>roll_length</code>, <code>standards</code>, <code>shield</code>.</li> <li>Cable: <code>wire_count</code>, <code>colors</code>, <code>twist/pairs</code>, <code>shield</code> (type/coverage/drain), <code>impedance</code>, <code>protocol/category</code>, <code>jacket_material</code>, <code>outer_diameter</code>, <code>min_bend_radius</code>, <code>length_unit</code>.</li> <li>Covering: <code>inner_diameter</code>, <code>outer_diameter</code>, <code>shrink_ratio</code>, <code>temp_rating</code>, <code>material</code>, <code>color</code>, <code>length_unit</code>.</li> <li>Label: <code>size</code>, <code>material</code>, <code>adhesive</code>, <code>print_method</code>.</li> <li>Protection/accessory: <code>current_rating</code>, <code>ingress</code>, <code>backshell_thread</code>, <code>grommet_size</code>.</li> <li>Correlations:</li> <li>Connectors \u2194 terminals/seals via <code>family/cavity_family</code>.</li> <li>Terminals \u2194 wires via <code>wire_gauge_range</code>.</li> <li>Accessories (backshells/boots/grommets) \u2194 connectors via <code>family/thread</code>.</li> <li>Protocol cables \u2194 logical signals via <code>protocol/category</code>.</li> </ul>"},{"location":"research/vendor-parts-integration/#references","title":"References","text":"<ul> <li>Typical OEM/Supplier BOM fields (MPN, supplier SKU, lifecycle, alternates, pricing).</li> <li>Crimp/terminal selection guides (gauge/tool compatibility).</li> <li>Ethernet/SpaceWire/CameraLink cable specs (impedance, shielding, twist).</li> </ul>"},{"location":"research/vendor-parts-integration/#optional-appendix","title":"Optional Appendix","text":"<ul> <li>Inventory overlay suggestion: keep <code>inventory</code> as a separate dataset keyed by part id (location, on_hand, lot, expires) to avoid coupling stock with design files.</li> </ul>"},{"location":"research/architecture/caching-incremental-builds/","title":"Caching &amp; Incremental Builds","text":""},{"location":"research/architecture/caching-incremental-builds/#summary","title":"Summary","text":"<p>Proposes adding deterministic hashing and artifact caching to skip unchanged work across Filare runs (parse/render/bundle). Goal: speed up CI and batch generation by detecting when inputs/options are identical and reusing outputs.</p>"},{"location":"research/architecture/caching-incremental-builds/#use-cases-for-filare","title":"Use Cases for Filare","text":"<ul> <li>CI pipelines rerunning on the same inputs with minor changes.</li> <li>Large batches of diagrams/BOMs where only a subset changes.</li> <li>Developer workflows needing fast feedback on incremental edits.</li> </ul>"},{"location":"research/architecture/caching-incremental-builds/#technical-evaluation","title":"Technical Evaluation","text":"<ul> <li>Features: Content hashes over inputs (YAML, components, metadata) and options; cache index mapping hashes to outputs; cache-aware pipeline stages; optional remote cache (CI artifact). Invalidation when Graphviz or template versions change.</li> <li>Strengths: Reduces redundant renders; faster CI; less disk churn.</li> <li>Weaknesses: Complexity in invalidation; risk of stale outputs if hashing misses dependencies.</li> <li>Limitations: Some outputs (PDF bundles) may still need recompute; cache management policies required.</li> <li>Compatibility with Filare: Fits pipeline/context refactor; can wrap render functions with cache checks.</li> <li>Required integrations: Hashing helper, cache store (local dir), metadata about tool versions; CLI flags to enable/disable cache.</li> </ul>"},{"location":"research/architecture/caching-incremental-builds/#complexity-score-15","title":"Complexity Score (1\u20135)","text":"<p>4 \u2014 Requires pipeline hooks, dependency tracking, and careful invalidation rules.</p>"},{"location":"research/architecture/caching-incremental-builds/#maintenance-risk","title":"Maintenance Risk","text":"<ul> <li>Filare-side: Medium; need to maintain hash inputs and invalidation when templates/Graphviz change.</li> <li>External: None; optional remote cache introduces artifact retention concerns.</li> <li>Ongoing cost: Keeping cache schema/versioning aligned with code changes.</li> </ul>"},{"location":"research/architecture/caching-incremental-builds/#industry-business-usage","title":"Industry / Business Usage","text":"<ul> <li>Build systems (Bazel, Pants) and SSGs use content-addressable caches to speed incremental builds.</li> </ul>"},{"location":"research/architecture/caching-incremental-builds/#who-uses-it-why-it-works-for-them","title":"Who Uses It &amp; Why It Works for Them","text":"<ul> <li>Bazel/Pants: Incremental builds and remote caching reduce CI times dramatically.</li> <li>Webpack/Vite: Cache transpilation artifacts keyed on inputs/config.</li> </ul>"},{"location":"research/architecture/caching-incremental-builds/#feasibility","title":"Feasibility","text":"<ul> <li>Feasible with pipeline/context refactor to add cache checks per stage; harder to bolt onto current implicit flows.</li> </ul>"},{"location":"research/architecture/caching-incremental-builds/#required-work","title":"Required Work","text":"<ul> <li>REWORK tasks: Add hashing of inputs/options/templates; define cache key structure; wrap render/bundle stages with cache lookups; version the cache to invalidate on tool changes.</li> <li>FEATURE tasks: Optional remote cache integration via CI artifacts; CLI flags for cache control (<code>--cache</code>, <code>--no-cache</code>, <code>--cache-dir</code>).</li> <li>DOCUMENTATION tasks: Explain cache keys, invalidation events, and how to opt in/out; CI guidance for saving/restoring cache.</li> <li>TOOLS tasks: Cache inspection/cleanup command.</li> <li>COVERAGE tasks: Tests for cache hits/misses and invalidation scenarios.</li> </ul>"},{"location":"research/architecture/caching-incremental-builds/#recommendation","title":"Recommendation","text":"<p>ADOPT_LATER \u2014 Valuable for performance, but best tackled after pipeline/config cleanup and with clear invalidation rules.</p>"},{"location":"research/architecture/caching-incremental-builds/#references","title":"References","text":"<ul> <li>Content-addressable caching patterns from Bazel/Pants; incremental build caches in SSGs.</li> </ul>"},{"location":"research/architecture/configuration-layer-unification/","title":"Configuration Layer Unification","text":""},{"location":"research/architecture/configuration-layer-unification/#summary","title":"Summary","text":"<p>Recommend consolidating Filare configuration into layered Pydantic settings under <code>src/filare/config/</code> with clear prefixes and sources (env \u2192 CLI args \u2192 file), replacing scattered ad-hoc dicts and minimal <code>FilareSettings</code>. All configuration should merge into a single resolved representation (single source of truth) that downstream steps consume.</p>"},{"location":"research/architecture/configuration-layer-unification/#use-cases-for-filare","title":"Use Cases for Filare","text":"<ul> <li>Consistent handling of Graphviz engine, output directories, feature toggles (e.g., performance profiling, experimental diagrams) across CLI, tests, and downstream harnesses.</li> <li>Easier CI overrides via env vars without editing YAML inputs.</li> <li>Shared settings structure for future API/server usage.</li> <li>Centralized config models and loader in <code>src/filare/config/</code>, emitting a single resolved configuration object used across flows.</li> </ul>"},{"location":"research/architecture/configuration-layer-unification/#technical-evaluation","title":"Technical Evaluation","text":"<ul> <li>Features: Central <code>Settings</code> module with nested models (render, parsing, performance, paths), a resolver for precedence (env \u2192 CLI \u2192 file), and typed defaults. Provide helpers to load settings once and inject into flows, yielding a single resolved config instance.</li> <li>Strengths: Eliminates implicit coupling between CLI options and in-code defaults; reduces drift across commands and scripts; improves validation and discoverability; single source of truth simplifies staged processing.</li> <li>Weaknesses: Requires migrating option parsing to use the settings layer; risk of mismatch during transition.</li> <li>Limitations: Needs careful mapping to avoid breaking existing CLI flags or YAML schema.</li> <li>Compatibility with Filare: Pydantic already used; can expand <code>settings.py</code> (or new <code>config/</code> package) and adapt CLI/flows incrementally.</li> <li>Required integrations: CLI should hydrate settings and pass them into <code>parse</code>/flows; docs to explain prefixes (e.g., <code>FIL_</code>, <code>FIL_PERF_</code>, <code>FIL_RENDER_</code>).</li> </ul>"},{"location":"research/architecture/configuration-layer-unification/#complexity-score-15","title":"Complexity Score (1\u20135)","text":"<p>3 \u2014 Moderate: defining models and migrating option wiring; minimal algorithmic risk.</p>"},{"location":"research/architecture/configuration-layer-unification/#maintenance-risk","title":"Maintenance Risk","text":"<ul> <li>Filare-side: Medium during migration; long-term reduction by making config explicit and validated.</li> <li>External: None; Pydantic is stable and already a dependency.</li> <li>Ongoing cost: Low; new options follow a consistent pattern.</li> </ul>"},{"location":"research/architecture/configuration-layer-unification/#industry-business-usage","title":"Industry / Business Usage","text":"<ul> <li>Many CLIs (Terraform, uv, Docker) employ layered config (env + flags + files) with explicit precedence for reproducibility and CI friendliness.</li> <li>Python services commonly use Pydantic settings to centralize env parsing and validation.</li> </ul>"},{"location":"research/architecture/configuration-layer-unification/#who-uses-it-why-it-works-for-them","title":"Who Uses It &amp; Why It Works for Them","text":"<ul> <li>FastAPI-based services: Rely on Pydantic settings for env/secret handling with clear precedence.</li> <li>Terraform/Docker CLIs: Use env/flag layering so automation can override defaults without patching config files.</li> </ul>"},{"location":"research/architecture/configuration-layer-unification/#feasibility","title":"Feasibility","text":"<ul> <li>Feasible now; aligns with existing Pydantic usage and pending performance settings work.</li> </ul>"},{"location":"research/architecture/configuration-layer-unification/#required-work","title":"Required Work","text":"<ul> <li>REWORK tasks: Expand <code>settings.py</code> into layered models (render, paths, performance, experimental flags) within <code>src/filare/config/</code>; define precedence resolver producing a single resolved config object; replace mutable <code>extra_metadata</code> patterns with typed config injection.</li> <li>FEATURE tasks: Add config file ingestion (e.g., <code>.filare.toml/yaml</code>) as an optional source; expose settings dump for debugging.</li> <li>DOCUMENTATION tasks: Document prefixes, precedence, and mapping from CLI flags to settings; add examples for CI/local usage.</li> <li>TOOLS tasks: Add a <code>filare settings show</code> or debug flag to print resolved settings.</li> <li>COVERAGE tasks: Tests for precedence, validation errors, and backward compatibility of defaults.</li> </ul>"},{"location":"research/architecture/configuration-layer-unification/#recommendation","title":"Recommendation","text":"<p>ADOPT \u2014 Prioritize configuration unification to reduce drift and prepare for additional toggles (performance, experimental diagrams, cache control).</p>"},{"location":"research/architecture/configuration-layer-unification/#references","title":"References","text":"<ul> <li>Pydantic BaseSettings patterns; layered config precedence used by common CLIs.</li> </ul>"},{"location":"research/architecture/configuration-layer-unification/#optional-appendix","title":"Optional Appendix","text":"<ul> <li>Draft prefixes: <code>FIL_RENDER_*</code>, <code>FIL_PATH_*</code>, <code>FIL_PERF_*</code>, <code>FIL_EXPERIMENTAL_*</code>; file-based override example <code>.filare.yml</code>.</li> </ul>"},{"location":"research/architecture/error-logging-unification/","title":"Error &amp; Logging Unification","text":""},{"location":"research/architecture/error-logging-unification/#summary","title":"Summary","text":"<p>Recommend standardizing error taxonomy and structured logging across Filare flows (parse, render, BOM) to improve debuggability and prepare for API/server use. Provide consistent exit codes, machine-readable errors, and optional JSON logs.</p>"},{"location":"research/architecture/error-logging-unification/#use-cases-for-filare","title":"Use Cases for Filare","text":"<ul> <li>Clear, consistent errors in CLI/CI for failed parses/renders.</li> <li>Easier downstream consumption of diagnostics (automation, IDEs).</li> <li>Better traceability for multi-file runs (per-file context).</li> </ul>"},{"location":"research/architecture/error-logging-unification/#technical-evaluation","title":"Technical Evaluation","text":"<ul> <li>Features: Error classes grouped by domain (parse, validation, render, IO), with error codes/labels; structured log records (context: file, format, stage); optional JSON log output. Standard exit codes per failure category.</li> <li>Strengths: Reduces ambiguity in failures; simplifies debugging; supports future API responses.</li> <li>Weaknesses: Requires touching many call sites to wrap/emit standardized errors/logs.</li> <li>Limitations: Must avoid excessive verbosity; need backward-compatible messaging for users.</li> <li>Compatibility with Filare: Logging already present; can layer structured logging and error classes without changing core logic initially.</li> <li>Required integrations: Central logging setup; error base class; decorators/helpers to enrich context (file, stage) and map to exit codes.</li> </ul>"},{"location":"research/architecture/error-logging-unification/#complexity-score-15","title":"Complexity Score (1\u20135)","text":"<p>3 \u2014 Moderate: refactor error handling/logging patterns; limited algorithmic risk.</p>"},{"location":"research/architecture/error-logging-unification/#maintenance-risk","title":"Maintenance Risk","text":"<ul> <li>Filare-side: Medium during rollout; long-term reduction in support load.</li> <li>External: None; outward-facing messages should remain stable.</li> <li>Ongoing cost: Maintaining error code list and ensuring new code paths use it.</li> </ul>"},{"location":"research/architecture/error-logging-unification/#industry-business-usage","title":"Industry / Business Usage","text":"<ul> <li>CLI tools (Git, Docker) and services use structured errors/logs with codes for automation and supportability.</li> </ul>"},{"location":"research/architecture/error-logging-unification/#who-uses-it-why-it-works-for-them","title":"Who Uses It &amp; Why It Works for Them","text":"<ul> <li>Git/Docker CLIs: Exit codes and clear error messages enable scripting and troubleshooting.</li> <li>API servers: Structured logs and error codes ease observability and alerting.</li> </ul>"},{"location":"research/architecture/error-logging-unification/#feasibility","title":"Feasibility","text":"<ul> <li>Feasible now; can start with a thin error taxonomy and structured logger, then broaden coverage.</li> </ul>"},{"location":"research/architecture/error-logging-unification/#required-work","title":"Required Work","text":"<ul> <li>REWORK tasks: Define error taxonomy and codes; create base exception classes; add structured logging (JSON option) with context; map errors to exit codes.</li> <li>FEATURE tasks: Add <code>--log-format json</code> or env toggle; machine-readable diagnostics output for CI.</li> <li>DOCUMENTATION tasks: Document error codes/categories, logging options, and how to consume JSON logs in CI.</li> <li>TOOLS tasks: Optional log formatter or viewer for local debugging.</li> <li>COVERAGE tasks: Tests for error mapping to exit codes and log formatting.</li> </ul>"},{"location":"research/architecture/error-logging-unification/#recommendation","title":"Recommendation","text":"<p>ADOPT_LATER \u2014 Implement after config/pipeline refactors to minimize churn and ensure consistent context available for logs/errors.</p>"},{"location":"research/architecture/error-logging-unification/#references","title":"References","text":"<ul> <li>Structured logging patterns (JSON logs); CLI exit code conventions.</li> </ul>"},{"location":"research/architecture/metadata-configuration-harmonization/","title":"Metadata Configuration Harmonization","text":""},{"location":"research/architecture/metadata-configuration-harmonization/#summary","title":"Summary","text":"<p>Proposes harmonizing metadata ingestion (YAML metadata files, CLI overrides, env-driven defaults) into a unified, typed metadata configuration loaded via the same <code>src/filare/config/</code> layer. Today, metadata is parsed separately and mixed with ad-hoc dicts (<code>extra_metadata</code>) in the pipeline; unifying it would give a single source of truth for document/harness metadata and simplify downstream rendering logic.</p>"},{"location":"research/architecture/metadata-configuration-harmonization/#use-cases-for-filare","title":"Use Cases for Filare","text":"<ul> <li>Consistent metadata across title pages, harness pages, BOM, and PDF bundling without re-parsing or manual merging.</li> <li>Easier CI/local overrides of metadata fields (e.g., project name, revision, approvers) via env/flags.</li> <li>Predictable metadata structure for downstream consumers (APIs, validators, docs tooling).</li> </ul>"},{"location":"research/architecture/metadata-configuration-harmonization/#technical-evaluation","title":"Technical Evaluation","text":"<ul> <li>Features: Typed metadata config model (project info, revision, sheet counters, author/approver fields, custom fields) resolved from env/CLI/metadata files. Single merge step producing a resolved metadata object consumed by rendering flows.</li> <li>Strengths: Eliminates duplicated parsing/merging; improves validation; simplifies titlepage/index generation; prepares for future API exposure.</li> <li>Weaknesses: Migration effort to replace current <code>parse_metadata_files</code> + <code>extra_metadata</code> merging; must keep YAML schema backward compatible.</li> <li>Limitations: Needs careful field mapping to avoid breaking existing metadata YAML files; may need deprecation shims.</li> <li>Compatibility with Filare: Fits with planned config unification; uses Pydantic models for validation.</li> <li>Required integrations: Extend config loader to include metadata layer; adjust flows to consume resolved metadata instead of ad-hoc dicts.</li> </ul>"},{"location":"research/architecture/metadata-configuration-harmonization/#complexity-score-15","title":"Complexity Score (1\u20135)","text":"<p>3 \u2014 Moderate: new models and merge logic, plus flow adjustments; limited algorithmic risk.</p>"},{"location":"research/architecture/metadata-configuration-harmonization/#maintenance-risk","title":"Maintenance Risk","text":"<ul> <li>Filare-side: Medium during migration; long-term reduction by centralizing metadata handling.</li> <li>External: None; relies on existing YAML inputs; requires clear backward-compat policy.</li> <li>Ongoing cost: Low once unified; adding fields becomes a model change with validation.</li> </ul>"},{"location":"research/architecture/metadata-configuration-harmonization/#industry-business-usage","title":"Industry / Business Usage","text":"<ul> <li>Documentation/build systems (Sphinx/MkDocs) and EDA tools rely on centralized metadata/config to populate headers/footers and build artifacts consistently.</li> </ul>"},{"location":"research/architecture/metadata-configuration-harmonization/#who-uses-it-why-it-works-for-them","title":"Who Uses It &amp; Why It Works for Them","text":"<ul> <li>Sphinx/MkDocs: Single config drives metadata across all generated pages.</li> <li>EDA/PLM exports: Central project metadata cascades into BOMs, drawings, and change requests, reducing drift.</li> </ul>"},{"location":"research/architecture/metadata-configuration-harmonization/#feasibility","title":"Feasibility","text":"<ul> <li>Feasible now, especially alongside configuration-layer unification and pipeline/context refactor.</li> </ul>"},{"location":"research/architecture/metadata-configuration-harmonization/#required-work","title":"Required Work","text":"<ul> <li>REWORK tasks: Define typed metadata model and merge strategy (file \u2192 CLI/env overrides); integrate into <code>src/filare/config/</code>; replace <code>extra_metadata</code> mutations with the resolved metadata object.</li> <li>FEATURE tasks: Optional metadata overlay files or profiles (e.g., <code>metadata.dev.yml</code>, <code>metadata.release.yml</code>) resolved by environment.</li> <li>DOCUMENTATION tasks: Document metadata precedence, supported fields, and how to override via env/flags; include migration guidance for existing YAML metadata files.</li> <li>TOOLS tasks: Add a <code>filare metadata show</code>/validation command to dump resolved metadata.</li> <li>COVERAGE tasks: Tests for precedence, backward compatibility, and rendering outputs using the unified metadata.</li> </ul>"},{"location":"research/architecture/metadata-configuration-harmonization/#recommendation","title":"Recommendation","text":"<p>ADOPT_LATER \u2014 Pair with configuration unification/pipeline refactor to minimize churn while keeping backward compatibility with existing metadata files.</p>"},{"location":"research/architecture/metadata-configuration-harmonization/#references","title":"References","text":"<ul> <li>SSG and PLM metadata handling patterns (single config driving multiple generated artifacts).</li> </ul>"},{"location":"research/architecture/metadata-configuration-harmonization/#optional-appendix","title":"Optional Appendix","text":"<ul> <li>Example precedence: <code>metadata.yml</code> \u2192 env overrides (<code>FIL_META_*</code>) \u2192 CLI flags (e.g., <code>--project-name</code>, <code>--rev</code>) \u2192 resolved metadata object passed to flows.</li> </ul>"},{"location":"research/architecture/packaging-runtime-layout/","title":"Packaging &amp; Runtime Layout Simplification","text":""},{"location":"research/architecture/packaging-runtime-layout/#summary","title":"Summary","text":"<p>Suggest clarifying the separation between CLI-facing code and core library modules by organizing runtime layout (e.g., <code>filare.cli.*</code> vs <code>filare.core.*</code>) and reducing cross-module coupling. Aim to make embedding/API usage clearer and ease future serverization while keeping CLI behavior stable.</p>"},{"location":"research/architecture/packaging-runtime-layout/#use-cases-for-filare","title":"Use Cases for Filare","text":"<ul> <li>Developers embedding Filare as a library without pulling CLI concerns.</li> <li>Future API/server exposure with a clean core surface area.</li> <li>Clearer dependency boundaries for flows/renderers vs. CLI/IO.</li> </ul>"},{"location":"research/architecture/packaging-runtime-layout/#technical-evaluation","title":"Technical Evaluation","text":"<ul> <li>Features: Introduce a clearer package layout (e.g., <code>filare/core/</code> for models/flows/render, <code>filare/cli/</code> for entrypoints/settings), with thin adapters between CLI/config and core orchestrator. Minimize side effects at import time.</li> <li>Strengths: Improves readability and maintainability; makes public API surfaces explicit; simplifies dependency management and testing.</li> <li>Weaknesses: Requires moving modules and updating imports; migration risk if paths change without shims.</li> <li>Limitations: Need to preserve existing entrypoints (<code>filare</code>, <code>filare-qty</code>) and backward-compatible imports.</li> <li>Compatibility with Filare: Aligns with proposed pipeline/config refactors; can be phased with deprecation shims for import paths.</li> <li>Required integrations: Module reorg, import shims, documentation of public API surface.</li> </ul>"},{"location":"research/architecture/packaging-runtime-layout/#complexity-score-15","title":"Complexity Score (1\u20135)","text":"<p>4 \u2014 Module moves and shim management; requires careful migration and testing.</p>"},{"location":"research/architecture/packaging-runtime-layout/#maintenance-risk","title":"Maintenance Risk","text":"<ul> <li>Filare-side: Medium during reorg; long-term reduction by clarifying boundaries.</li> <li>External: Potential breakage for users importing internal modules; mitigated with shims/deprecation period.</li> <li>Ongoing cost: Maintaining shims until downstream consumers migrate.</li> </ul>"},{"location":"research/architecture/packaging-runtime-layout/#industry-business-usage","title":"Industry / Business Usage","text":"<ul> <li>Libraries often separate CLI from core (e.g., <code>pytest</code> core vs. CLI plugin) to keep APIs clean and support embedding.</li> </ul>"},{"location":"research/architecture/packaging-runtime-layout/#who-uses-it-why-it-works-for-them","title":"Who Uses It &amp; Why It Works for Them","text":"<ul> <li>Click/Typer-based CLIs: Thin wrappers over a library core allow reuse without the CLI layer.</li> <li>Data/ETL libraries: Core pipeline separated from CLI tools to support SDKs and services.</li> </ul>"},{"location":"research/architecture/packaging-runtime-layout/#feasibility","title":"Feasibility","text":"<ul> <li>Feasible but best aligned with other refactors (pipeline/config) to avoid double migrations; may need staged shims.</li> </ul>"},{"location":"research/architecture/packaging-runtime-layout/#required-work","title":"Required Work","text":"<ul> <li>REWORK tasks: Define target package layout; move modules (flows/render/models vs. CLI/config/tools) accordingly; add import shims; update entrypoints.</li> <li>FEATURE tasks: Expose a stable public API surface for embedding; optional SDK doc.</li> <li>DOCUMENTATION tasks: Migration notes for imports; describe new layout and public modules.</li> <li>TOOLS tasks: None beyond lint/test fixes; optional script to check for deprecated imports.</li> <li>COVERAGE tasks: Regression tests for CLI entrypoints and core imports.</li> </ul>"},{"location":"research/architecture/packaging-runtime-layout/#recommendation","title":"Recommendation","text":"<p>ADOPT_LATER \u2014 High-value for maintainability/API clarity but should follow pipeline/config groundwork to limit churn.</p>"},{"location":"research/architecture/packaging-runtime-layout/#references","title":"References","text":"<ul> <li>Patterns from libraries that separate CLI adapters from core logic to enable embedding and API reuse.</li> </ul>"},{"location":"research/architecture/pipeline-context-refactor/","title":"Pipeline Context &amp; Orchestrator Refactor","text":""},{"location":"research/architecture/pipeline-context-refactor/#summary","title":"Summary","text":"<p>Proposes replacing ad-hoc dictionaries and implicit globals (e.g., <code>extra_metadata</code>, <code>shared_bom</code> in <code>cli.py</code>/<code>filare.parse</code>) with an explicit pipeline orchestrator and immutable-ish context objects. The goal is to make parsing/rendering flows composable, testable, and easier to extend (cut/termination diagrams, BOM) without mutating shared state across functions.</p>"},{"location":"research/architecture/pipeline-context-refactor/#use-cases-for-filare","title":"Use Cases for Filare","text":"<ul> <li>Running multiple render passes (HTML/SVG/PNG/PDF) without duplicated preamble logic.</li> <li>Enabling alternate entrypoints (CLI, API, harness runners) that share a common pipeline.</li> <li>Simplifying integration of future steps (validation, profiling hooks, caching) via pipeline stages.</li> <li>Making per-page/page-set metadata deterministic for downstream viewers/validators.</li> </ul>"},{"location":"research/architecture/pipeline-context-refactor/#technical-evaluation","title":"Technical Evaluation","text":"<ul> <li>Features: Introduce a <code>PipelineContext</code> (dataclass/Pydantic) that carries inputs, options, derived metadata, and accumulator fields (shared BOM, notes). Add a small orchestrator that executes registered stages (parse metadata, build harness, render formats, assemble bundles).</li> <li>Strengths: Eliminates mutable default args (<code>extra_metadata={}</code>, <code>shared_bom={}</code>); isolates stage responsibilities; makes it easier to unit-test each stage; provides a single place to plug metrics/profiling.</li> <li>Weaknesses: Requires touching many call sites; needs careful migration to avoid regressions.</li> <li>Limitations: Short-lived CLI runs might not benefit from heavier orchestration unless kept lightweight.</li> <li>Compatibility with Filare: Fits current flow modules (<code>flows/</code>, <code>render/</code>); can wrap existing functions in staged adapters.</li> <li>Required integrations: Define context model(s), stage registry, and adapters around <code>build_harness_from_files</code>, <code>build_shared_bom</code>, <code>build_titlepage</code>, and PDF bundling.</li> </ul>"},{"location":"research/architecture/pipeline-context-refactor/#complexity-score-15","title":"Complexity Score (1\u20135)","text":"<p>3 \u2014 Moderate refactor: new context model and orchestrator, plus migration of CLI/flows to use them. Limited algorithm changes but touches multiple modules.</p>"},{"location":"research/architecture/pipeline-context-refactor/#maintenance-risk","title":"Maintenance Risk","text":"<ul> <li>Filare-side: Medium risk during migration (state leakage, ordering). Once adopted, reduces risk by clarifying data flow.</li> <li>External: None; uses stdlib/dataclasses/Pydantic already in use.</li> <li>Ongoing cost: Low; stages are explicit, making future additions predictable.</li> </ul>"},{"location":"research/architecture/pipeline-context-refactor/#industry-business-usage","title":"Industry / Business Usage","text":"<ul> <li>Data/ETL and rendering tools (e.g., Pandas pipelines, Airflow DAG tasks) use explicit contexts to keep runs reproducible and debuggable.</li> <li>CLI tools with multi-output workflows (e.g., Sphinx, MkDocs builds) rely on structured build contexts to avoid duplicated setup/teardown per output format.</li> </ul>"},{"location":"research/architecture/pipeline-context-refactor/#who-uses-it-why-it-works-for-them","title":"Who Uses It &amp; Why It Works for Them","text":"<ul> <li>Sphinx/MkDocs: Build context carries config, source tree, and output targets, enabling concurrent builders and incremental runs.</li> <li>Airflow DAG operators: Task context provides run metadata and shared variables, reducing implicit global state.</li> <li>Static site generators: Pipeline stages (parse \u2192 transform \u2192 render) improve caching and partial rebuilds.</li> </ul>"},{"location":"research/architecture/pipeline-context-refactor/#feasibility","title":"Feasibility","text":"<ul> <li>Feasible now; requires a focused refactor of CLI/flows. Could be phased by wrapping existing functions in context-aware adapters before removing old signatures.</li> </ul>"},{"location":"research/architecture/pipeline-context-refactor/#required-work","title":"Required Work","text":"<ul> <li>REWORK tasks: Introduce <code>PipelineContext</code> (inputs, output_dir, formats, metadata, shared_bom, sheet counters); replace mutable defaults in <code>filare.parse</code>/CLI; wrap existing flow functions as stages; add simple orchestrator to run stages in order.</li> <li>FEATURE tasks: Optional stage registry for custom render steps (cut/termination, BOM variants) and hooks for metrics/profiling/caching.</li> <li>DOCUMENTATION tasks: Developer doc explaining pipeline stages, context fields, and how to add/remove stages.</li> <li>TOOLS tasks: None immediate; optional tracing hooks for debugging.</li> <li>COVERAGE tasks: Add focused unit tests for stage execution order and context mutation guarantees.</li> </ul>"},{"location":"research/architecture/pipeline-context-refactor/#recommendation","title":"Recommendation","text":"<p>ADOPT_LATER \u2014 Plan a staged refactor to introduce a pipeline/context while keeping current behavior stable; schedule alongside other CLI/flow cleanup.</p>"},{"location":"research/architecture/pipeline-context-refactor/#references","title":"References","text":"<ul> <li>Patterns from SSG/ETL orchestrators (Sphinx/MkDocs build context, Airflow task context) as analogous structures.</li> </ul>"},{"location":"research/architecture/pipeline-context-refactor/#optional-appendix","title":"Optional Appendix","text":"<ul> <li>Example stage chain: <code>ingest_inputs -&gt; load_components -&gt; parse_harness -&gt; render_formats -&gt; aggregate_shared_bom -&gt; build_titlepage -&gt; bundle_pdf</code>.</li> </ul>"},{"location":"research/architecture/renderer-plugin-registry/","title":"Renderer Plugin Registry","text":""},{"location":"research/architecture/renderer-plugin-registry/#summary","title":"Summary","text":"<p>Suggest introducing a renderer/plugin registry to decouple output formats from CLI logic. Instead of hardcoding format codes and branching per type, a registry would map format keys to renderer classes/functions with declared capabilities and dependencies, simplifying extension (e.g., cut/termination diagrams, new exports).</p>"},{"location":"research/architecture/renderer-plugin-registry/#use-cases-for-filare","title":"Use Cases for Filare","text":"<ul> <li>Adding new outputs (e.g., DXF/CAD, JSON summaries) without editing CLI conditionals.</li> <li>Allowing downstream harnesses to register custom renderers.</li> <li>Enabling selective runs (subset of outputs) driven by config/labels in CI.</li> <li>Centralizing renderer metadata (needs Graphviz, produces HTML/PNG, supports PDF bundling).</li> </ul>"},{"location":"research/architecture/renderer-plugin-registry/#technical-evaluation","title":"Technical Evaluation","text":"<ul> <li>Features: A registry keyed by format (string/enum) storing renderer callables and metadata (input type, produces files, side effects). CLI and flows resolve requested formats through the registry and execute in dependency order (e.g., HTML before PDF bundle).</li> <li>Strengths: Reduces branching in <code>cli.py</code> and flow modules; supports external/plugin renderers; makes capabilities discoverable; improves testability of render selection.</li> <li>Weaknesses: Requires refactoring current format handling and PDF bundling logic; needs dependency ordering to avoid missing prerequisites.</li> <li>Limitations: Some renderers (PDF bundle) are composite and need awareness of other outputs.</li> <li>Compatibility with Filare: Works with current render functions (<code>render/html.py</code>, <code>render/graphviz.py</code>, <code>render/output.py</code>); registry can wrap these without changing rendering internals initially.</li> <li>Required integrations: Define registry module; refactor CLI format parsing to use it; add metadata for each renderer (inputs, outputs, dependencies).</li> </ul>"},{"location":"research/architecture/renderer-plugin-registry/#complexity-score-15","title":"Complexity Score (1\u20135)","text":"<p>4 \u2014 Touches CLI, flows, and render modules; requires careful ordering and backward compatibility for format codes/flags.</p>"},{"location":"research/architecture/renderer-plugin-registry/#maintenance-risk","title":"Maintenance Risk","text":"<ul> <li>Filare-side: Medium during migration; long-term improvement by isolating renderer definitions.</li> <li>External: None; registry is internal; dependencies remain (Graphviz, etc.).</li> <li>Ongoing cost: Low; adding new renderers becomes a registry entry + docs/tests.</li> </ul>"},{"location":"research/architecture/renderer-plugin-registry/#industry-business-usage","title":"Industry / Business Usage","text":"<ul> <li>Build systems and SSGs (webpack loaders, Sphinx builders) use registries/plugins to add outputs without core edits.</li> <li>Python imaging/reporting tools (Pillow plugins, Pandas to_* exporters) rely on registries to manage formats and capabilities.</li> </ul>"},{"location":"research/architecture/renderer-plugin-registry/#who-uses-it-why-it-works-for-them","title":"Who Uses It &amp; Why It Works for Them","text":"<ul> <li>Sphinx builders: New builders register once; CLI stays stable while outputs expand.</li> <li>Webpack/Rollup: Plugin registries manage transforms and outputs cleanly.</li> <li>Pandas: to_* exporters are discoverable and independently testable.</li> </ul>"},{"location":"research/architecture/renderer-plugin-registry/#feasibility","title":"Feasibility","text":"<ul> <li>Feasible with a staged migration: introduce registry alongside existing logic, then switch CLI/flows once parity is validated.</li> </ul>"},{"location":"research/architecture/renderer-plugin-registry/#required-work","title":"Required Work","text":"<ul> <li>REWORK tasks: Create renderer registry abstraction (format key, callable, metadata, dependencies); register existing renderers (HTML/SVG/PNG/TSV shared BOM, PDF bundler); update CLI/flows to resolve requested formats through registry; maintain mapping from current short codes to registry keys.</li> <li>FEATURE tasks: Allow third-party/experimental renderers to self-register; expose <code>filare --list-formats</code> using registry metadata.</li> <li>DOCUMENTATION tasks: Developer guide for adding renderers; user doc for available formats and dependencies.</li> <li>TOOLS tasks: Optional sanity check tool to validate registry entries and dependencies.</li> <li>COVERAGE tasks: Tests for registry resolution, dependency ordering, and backward-compatible format parsing.</li> </ul>"},{"location":"research/architecture/renderer-plugin-registry/#recommendation","title":"Recommendation","text":"<p>ADOPT_LATER \u2014 Valuable for extensibility but should follow configuration/pipeline cleanup to reduce migration risk.</p>"},{"location":"research/architecture/renderer-plugin-registry/#references","title":"References","text":"<ul> <li>Plugin/registry patterns from Sphinx builders, webpack loaders, and Pandas exporters.</li> </ul>"},{"location":"research/architecture/renderer-plugin-registry/#optional-appendix","title":"Optional Appendix","text":"<ul> <li>Example registry entry:</li> <li>key: <code>html</code></li> <li>callable: <code>render.html.generate_html</code></li> <li>deps: <code>graphviz</code> (SVG), produces <code>*.html</code>, supports PDF bundling flag.</li> </ul>"},{"location":"research/architecture/validation-contract-layer/","title":"Validation &amp; Contract Layer","text":""},{"location":"research/architecture/validation-contract-layer/#summary","title":"Summary","text":"<p>Introduce a structured validation pipeline with explicit schemas/contracts for inputs and outputs (YAML, metadata, BOM, render artifacts). Standardize diagnostics and schema versioning to catch issues early and provide consistent errors to CLI users and downstream tools.</p>"},{"location":"research/architecture/validation-contract-layer/#use-cases-for-filare","title":"Use Cases for Filare","text":"<ul> <li>Early detection of schema drift in YAML inputs/components/metadata.</li> <li>Consistent error surfaces for CI/harness consumers (machine-readable diagnostics).</li> <li>Regression checks on BOM invariants (counts, quantities, required fields).</li> <li>Preparing for API/server use where contracts must be explicit.</li> </ul>"},{"location":"research/architecture/validation-contract-layer/#technical-evaluation","title":"Technical Evaluation","text":"<ul> <li>Features: Pre-parse validators (schema version checks, required keys), semantic validators (references, quantities), post-render validators (artifact presence, page counts), and structured error objects. Optional JSON/YAML diagnostics output.</li> <li>Strengths: Reduces silent failures; improves user/CI feedback; clearer upgrade path for schema changes.</li> <li>Weaknesses: Additional development effort; needs maintenance of schemas/contracts alongside code.</li> <li>Limitations: Must preserve backward compatibility; validation must be fast to avoid slowing CLI runs.</li> <li>Compatibility with Filare: Can leverage Pydantic models already present; add a validation pipeline around parser/flows.</li> <li>Required integrations: Validation runner with ordered stages; error taxonomy; optional <code>--validate-only</code> CLI and JSON output mode.</li> </ul>"},{"location":"research/architecture/validation-contract-layer/#complexity-score-15","title":"Complexity Score (1\u20135)","text":"<p>3 \u2014 Moderate: new validation stages and error taxonomy; limited algorithmic risk.</p>"},{"location":"research/architecture/validation-contract-layer/#maintenance-risk","title":"Maintenance Risk","text":"<ul> <li>Filare-side: Medium during rollout; long-term reduction in support churn.</li> <li>External: None; schemas are internal; care needed for versioning/deprecation.</li> <li>Ongoing cost: Keeping validators aligned with schema evolution.</li> </ul>"},{"location":"research/architecture/validation-contract-layer/#industry-business-usage","title":"Industry / Business Usage","text":"<ul> <li>API/services and build systems rely on structured validation and diagnostics (e.g., JSON schema validation, linting passes) to block bad inputs early.</li> </ul>"},{"location":"research/architecture/validation-contract-layer/#who-uses-it-why-it-works-for-them","title":"Who Uses It &amp; Why It Works for Them","text":"<ul> <li>OpenAPI/JSON Schema tooling: Provides clear errors and versioned contracts.</li> <li>CI linters (Yamllint, ESLint): Standardize diagnostics for developers and automation.</li> </ul>"},{"location":"research/architecture/validation-contract-layer/#feasibility","title":"Feasibility","text":"<ul> <li>Feasible now; can be layered atop existing Pydantic models and parsers.</li> </ul>"},{"location":"research/architecture/validation-contract-layer/#required-work","title":"Required Work","text":"<ul> <li>REWORK tasks: Define validation stages (syntax, semantic, artifact) and error taxonomy; integrate into CLI/flows with optional validate-only mode; add JSON diagnostics output.</li> <li>FEATURE tasks: Versioned schemas/contracts for inputs (components, metadata) and outputs (BOM structure).</li> <li>DOCUMENTATION tasks: Document validation stages, exit codes, and how to consume machine-readable diagnostics.</li> <li>TOOLS tasks: Add CLI command <code>filare validate</code> and optional pre-commit hook support.</li> <li>COVERAGE tasks: Tests for validator coverage and diagnostic shapes.</li> </ul>"},{"location":"research/architecture/validation-contract-layer/#recommendation","title":"Recommendation","text":"<p>ADOPT_LATER \u2014 Valuable for stability and API-readiness; schedule after config/pipeline cleanup for clearer insertion points.</p>"},{"location":"research/architecture/validation-contract-layer/#references","title":"References","text":"<ul> <li>JSON Schema/OpenAPI validation patterns; lint-style diagnostic formats.</li> </ul>"},{"location":"tutorial/readme/","title":"Filare Tutorial","text":""},{"location":"tutorial/readme/#01-bare-bones-example","title":"01 - Bare-bones example","text":"<ul> <li>Minimum working example</li> <li>Only 1-to-1 sequential wiring</li> </ul> <pre><code>connectors:\n  X1:\n    pincount: 4\n  X2:\n    pincount: 4\n\ncables:\n  W1:\n    wirecount: 4\n    length: 1\n\nconnections:\n  -\n    - X1: [1-4]\n    - W1: [1-4]\n    - X2: [1-4]\noptions:\n  split_bom_page: true\n  split_notes_page: true\n  split_index_page: true\n</code></pre> <p>Source - Bill of Materials</p>"},{"location":"tutorial/readme/#02-adding-parameters-and-colors","title":"02 - Adding parameters and colors","text":"<ul> <li>Parameters for connectors and cables</li> <li>Auto-calculate equivalent AWG from mm2</li> <li>Non-sequential wiring</li> </ul> <pre><code>connectors:\n  X1:\n    pincount: 4\n    # More connector parameters:\n    type: Molex KK 254\n    subtype: female\n  X2:\n    pincount: 4\n    type: Molex KK 254\n    subtype: female\n\ncables:\n  W1:\n    wirecount: 4\n    # more cable parameters:\n    length: 1\n    gauge: 0.25 mm2\n    show_equiv: true # auto-calculate AWG equivalent\n    colors: [WH, BN, GN, YE]\n\nconnections:\n  -\n    - X1: [1-4]\n    - W1: [1-4]\n    # non-sequential wiring:\n    - X2: [1,2,4,3]\noptions:\n  split_bom_page: true\n  split_notes_page: true\n  split_index_page: true\n</code></pre> <p>Source - Bill of Materials</p>"},{"location":"tutorial/readme/#03-pinouts-shielding-templates-i","title":"03 - Pinouts, shielding, templates (I)","text":"<ul> <li>Connector pinouts</li> <li>Pincount implicit in pinout</li> <li>Cable color codes</li> <li>Cable shielding, shield wiring</li> <li>Templates</li> </ul> <pre><code>connectors:\n  X1: &amp;template1 # define a template for later use\n    pinlabels: [GND, VCC, RX, TX] # pincount implicit in pinout\n    type: Molex KK 254\n    subtype: female\n  X2:\n    &lt;&lt;: *template1 # reuse template\n\ncables:\n  W1:\n    wirecount: 4\n    length: 1\n    gauge: 0.25 mm2\n    show_equiv: true\n    color_code: DIN # auto-assign colors based on DIN 47100\n    shield: true # add cable shielding\n\nconnections:\n  -\n    - X1: [1-4]\n    - W1: [1-4]\n    - X2: [1,2,4,3]\n  - # connect the shielding to a pin\n    - X1: 1\n    - W1: s\noptions:\n  split_bom_page: true\n  split_notes_page: true\n  split_index_page: true\n</code></pre> <p>Source - Bill of Materials</p>"},{"location":"tutorial/readme/#04-templates-ii-notes-american-standards-daisy-chaining-i","title":"04 - Templates (II), notes, American standards, daisy chaining (I)","text":"<ul> <li>Overriding template parameters</li> <li>Add nodes to connectors and cables</li> <li>American standards: AWG gauge and IEC colors</li> <li>Linear daisy-chain</li> <li>Convenient for shorter chains</li> </ul> <pre><code>connectors:\n  X1: &amp;template_con\n    pinlabels: [GND, VCC, SCL, SDA]\n    type: Molex KK 254\n    subtype: male\n    notes: to microcontroller # add notes\n  X2:\n    &lt;&lt;: *template_con # use template\n    subtype: female   # but override certain parameters\n    notes: to accelerometer\n  X3:\n    &lt;&lt;: *template_con\n    subtype: female\n    notes: to temperature sensor\n\ncables:\n  W1: &amp;template_cbl\n    wirecount: 4\n    length: 0.3\n    gauge: 24 AWG # specify gauge in AWG directly\n    color_code: IEC # IEC 62 colors also supported\n    notes: This cable is a bit longer\n  W2:\n    &lt;&lt;: *template_cbl\n    length: 0.1\n    notes: This cable is a bit shorter\n\nconnections:\n  -\n    - X1: [1-4]\n    - W1: [1-4]\n    - X2: [1-4]\n  - # daisy chain connectors (in line)\n    - X2: [1-4]\n    - W2: [1-4]\n    - X3: [1-4]\noptions:\n  split_bom_page: true\n  split_notes_page: true\n  split_index_page: true\n</code></pre> <p>Source - Bill of Materials</p>"},{"location":"tutorial/readme/#05-ferrules-wire-bundles-custom-wire-colors","title":"05 - Ferrules, wire bundles, custom wire colors","text":"<ul> <li>Ferrules</li> <li>Simpler than connectors</li> <li>Compact graphical representation</li> <li>Only one pin, only one connection, no designator</li> <li>Define once, auto-generate where needed</li> <li>Wire bundles</li> <li>Internally treated as cables</li> <li>Different treatment in BOM: Each wire is listed individually</li> <li>Represented with dashed outline</li> <li>Custom wire colors</li> <li>Wirecount can be implicit in color list</li> </ul> <pre><code>connectors:\n  X1:\n    pinlabels: [+12V, GND, GND, +5V]\n    type: Molex 8981\n    subtype: female\n  F1:\n    style: simple\n    type: Crimp ferrule\n    subtype: 0.5 mm\u00b2\n    color: OG # optional color\n\ncables:\n  W1:\n    category: bundle # bundle\n    length: 0.3\n    gauge: 0.5 mm2\n    colors: [YE, BK, BK, RD] # custom colors, wirecount is implicit\n\nconnections:\n  -\n    - F1. # a new ferrule is auto-generated for each of the four wires\n    - W1: [1-4]\n    - X1: [1-4]\noptions:\n  split_bom_page: true\n  split_notes_page: true\n  split_index_page: true\n</code></pre> <p>Source - Bill of Materials</p>"},{"location":"tutorial/readme/#06-custom-ferrules","title":"06 - Custom ferrules","text":"<ul> <li>Custom ferrules</li> <li>Allows attaching more than one wire to a ferrule</li> <li>Requires defining them as regular connectors with unique designators, adding <code>category: ferrule</code> parameter</li> </ul> <pre><code>connectors:\n  X1:\n    pinlabels: [+12V, GND, GND, +5V]\n    type: Molex 8981\n    subtype: female\n  F_10: # this is a unique ferrule\n    style: simple\n    type: Crimp ferrule\n    subtype: 1.0 mm\u00b2\n    color: YE # optional color\n  F_05: # this is a ferrule that will be auto-generated on demand\n    style: simple\n    type: Crimp ferrule\n    subtype: 0.5 mm\u00b2\n    color: OG\n\ncables:\n  W1:\n    category: bundle # bundle\n    length: 0.3\n    gauge: 0.5 mm2\n    colors: [YE, BK, BK, RD] # custom colors, wirecount is implicit\n\nconnections:\n    -\n      - [F_05., F_10.F1, F_10.F1, F_05.]\n      - W1: [1-4]\n      - X1: [1-4]\noptions:\n  split_bom_page: true\n  split_notes_page: true\n  split_index_page: true\n</code></pre> <p>Source - Bill of Materials</p>"},{"location":"tutorial/readme/#07-daisy-chaining-ii","title":"07 - Daisy chaining (II)","text":"<ul> <li>Zig-zag daisy chain</li> <li>Convenient for longer chains</li> </ul> <pre><code>connectors:\n  X1: &amp;template_con\n    type: Molex KK 254\n    subtype: female\n    pinlabels: [GND, VCC, SCL, SDA]\n  X2:\n    &lt;&lt;: *template_con\n  X3:\n    &lt;&lt;: *template_con\n  X4:\n    &lt;&lt;: *template_con\n  X5:\n    &lt;&lt;: *template_con\n  X6:\n    &lt;&lt;: *template_con\n\ncables:\n  W1: &amp;template_wire\n    gauge: 0.25 mm2\n    length: 0.2\n    colors: [TQ, PK, YE, VT]\n    category: bundle\n  W2:\n    &lt;&lt;: *template_wire\n  W3:\n    &lt;&lt;: *template_wire\n  W4:\n    &lt;&lt;: *template_wire\n  W5:\n    &lt;&lt;: *template_wire\n\nconnections:\n  -\n    - X1: [1-4]\n    - W1: [1-4]\n    - X2: [1-4]\n  -\n    - X3: [1-4]\n    - W2: [1-4]\n    - X2: [1-4]\n  -\n    - X3: [1-4]\n    - W3: [1-4]\n    - X4: [1-4]\n  -\n    - X5: [1-4]\n    - W4: [1-4]\n    - X4: [1-4]\n  -\n    - X5: [1-4]\n    - W5: [1-4]\n    - X6: [1-4]\noptions:\n  split_bom_page: true\n  split_notes_page: true\n  split_index_page: true\n</code></pre> <p>Source - Bill of Materials</p>"},{"location":"tutorial/readme/#08-part-numbers-and-additional-components","title":"08 - Part numbers and additional components","text":"<ul> <li>Part number information can be added to parts</li> <li>Only provided fields will be added to the diagram and bom</li> <li>Bundles can have part information specified by wire</li> <li>Additional parts can be added to components or just to the bom</li> <li>quantities of additional components can be multiplied by features from parent connector or cable</li> </ul> <pre><code>options:\n  split_bom_page: true\n  split_notes_page: true\n  split_index_page: true\n  mini_bom_mode: false\n\nconnectors:\n  X1: &amp;template1 # define a template for later use\n    type: Molex KK 254\n    pincount: 4\n    subtype: female\n    manufacturer: '&lt;a href=\"https://www.molex.com/\"&gt;Molex&lt;/a&gt;' # set manufacter name\n    mpn: '&lt;a href=\"https://www.molex.com/molex/products/part-detail/crimp_housings/0022013047\"&gt;22013047&lt;/a&gt;' # set manufacturer part number\n    supplier: Digimouse\n    spn: 1234\n    # add a list of additional components to a part (shown in graph)\n    additional_components:\n      -\n        type: Crimp # short identifier used in graph\n        subtype: Molex KK 254, 22-30 AWG # extra information added to type in bom\n        qty_multiplier: populated # multipier for quantity (number of populated pins)\n        manufacturer: Molex # set manufacter name\n        mpn: 08500030 # set manufacturer part number\n      -\n        type: Test\n        qty: 1\n        pn: ABC\n        manufacturer: Molex\n        mpn: 45454\n        supplier: Mousikey\n        spn: 9999\n  X2:\n    &lt;&lt;: *template1 # reuse template\n    pn: CON4 # set an internal part number for just this connector\n  X3:\n    &lt;&lt;: *template1 # reuse template\n\ncables:\n  W1:\n    wirecount: 4\n    length: 1\n    gauge: 0.25 mm2\n    color_code: IEC\n    manufacturer: CablesCo\n    mpn: ABC123\n    supplier: Cables R Us\n    spn: 999-888-777\n    pn: CAB1\n  W2:\n    category: bundle\n    length: 1\n    gauge: 0.25 mm2\n    colors: [YE, BK, BK, RD]\n    manufacturer: [WiresCo,WiresCo,WiresCo,WiresCo] # set a manufacter per wire\n    mpn: [W1-YE,W1-BK,W1-BK,W1-RD]\n    supplier: [WireShack,WireShack,WireShack,WireShack]\n    spn: [1001,1002,1002,1009]\n    pn: [WIRE1,WIRE2,WIRE2,WIRE3]\n    # add a list of additional components to a part (shown in graph)\n    additional_components:\n      -\n        type: Sleeve # short identifier used in graph\n        subtype: Braided nylon, black, 3mm # extra information added to type in bom\n        qty_multiplier: length # multipier for quantity (length of cable)\n        pn: SLV-1\n\n\nconnections:\n  -\n    - X1: [1-4]\n    - W1: [1-4]\n    - X2: [1-4]\n  -\n    - X1: [1-4]\n    - W2: [1-4]\n    - X3: [1-4]\n\nadditional_bom_items:\n  - # define an additional item to add to the bill of materials (does not appear in graph)\n    type: Label, pinout information\n    qty: 2\n    designators:\n      - X2\n      - X3\n    manufacturer: '&lt;a href=\"https://www.bradyid.com\"&gt;Brady&lt;/a&gt;'\n    mpn: '&lt;a href=\"https://www.bradyid.com/wire-cable-labels/bmp71-bmp61-m611-tls-2200-nylon-cloth-wire-general-id-labels-cps-2958789\"&gt;B-499&lt;/a&gt;'\n    pn: Label-ID-1\n</code></pre> <p>Source - Bill of Materials</p>"},{"location":"tutorial/todo/","title":"Tutorial Backlog","text":"<ul> <li>Daisychain</li> <li>zig-zag</li> <li>Connection types</li> <li>con-cbl-con</li> <li>con-cbl</li> <li>cbl-con</li> <li>fer-cbl</li> <li>cbl-fer</li> <li>Custom color codes</li> <li>Looping</li> <li>Clipping</li> <li>(Merging multiple templates)</li> </ul>"},{"location":"tutorial/tutorial01/","title":"Tutorial 01","text":""},{"location":"tutorial/tutorial01/#bare-bones-example","title":"Bare-bones example","text":"<ul> <li>Minimum working example</li> <li>Only 1-to-1 sequential wiring</li> </ul>"},{"location":"tutorial/tutorial02/","title":"Tutorial 02","text":""},{"location":"tutorial/tutorial02/#adding-parameters-and-colors","title":"Adding parameters and colors","text":"<ul> <li>Parameters for connectors and cables</li> <li>Auto-calculate equivalent AWG from mm2</li> <li>Non-sequential wiring</li> </ul>"},{"location":"tutorial/tutorial03/","title":"Tutorial 03","text":""},{"location":"tutorial/tutorial03/#pinouts-shielding-templates-i","title":"Pinouts, shielding, templates (I)","text":"<ul> <li>Connector pinouts</li> <li>Pincount implicit in pinout</li> <li>Cable color codes</li> <li>Cable shielding, shield wiring</li> <li>Templates</li> </ul>"},{"location":"tutorial/tutorial04/","title":"Tutorial 04","text":""},{"location":"tutorial/tutorial04/#templates-ii-notes-american-standards-daisy-chaining-i","title":"Templates (II), notes, American standards, daisy chaining (I)","text":"<ul> <li>Overriding template parameters</li> <li>Add nodes to connectors and cables</li> <li>American standards: AWG gauge and IEC colors</li> <li>Linear daisy-chain</li> <li>Convenient for shorter chains</li> </ul>"},{"location":"tutorial/tutorial05/","title":"Tutorial 05","text":""},{"location":"tutorial/tutorial05/#ferrules-wire-bundles-custom-wire-colors","title":"Ferrules, wire bundles, custom wire colors","text":"<ul> <li>Ferrules</li> <li>Simpler than connectors</li> <li>Compact graphical representation</li> <li>Only one pin, only one connection, no designator</li> <li>Define once, auto-generate where needed</li> <li>Wire bundles</li> <li>Internally treated as cables</li> <li>Different treatment in BOM: Each wire is listed individually</li> <li>Represented with dashed outline</li> <li>Custom wire colors</li> <li>Wirecount can be implicit in color list</li> </ul>"},{"location":"tutorial/tutorial06/","title":"Tutorial 06","text":""},{"location":"tutorial/tutorial06/#custom-ferrules","title":"Custom ferrules","text":"<ul> <li>Custom ferrules</li> <li>Allows attaching more than one wire to a ferrule</li> <li>Requires defining them as regular connectors with unique designators, adding <code>category: ferrule</code> parameter</li> </ul>"},{"location":"tutorial/tutorial07/","title":"Tutorial 07","text":""},{"location":"tutorial/tutorial07/#daisy-chaining-ii","title":"Daisy chaining (II)","text":"<ul> <li>Zig-zag daisy chain</li> <li>Convenient for longer chains</li> </ul>"},{"location":"tutorial/tutorial08/","title":"Tutorial 08","text":""},{"location":"tutorial/tutorial08/#part-numbers-and-additional-components","title":"Part numbers and additional components","text":"<ul> <li>Part number information can be added to parts</li> <li>Only provided fields will be added to the diagram and bom</li> <li>Bundles can have part information specified by wire</li> <li>Additional parts can be added to components or just to the bom</li> <li>quantities of additional components can be multiplied by features from parent connector or cable</li> </ul>"},{"location":"ui/","title":"UI/UX Index","text":"<p>This section gathers UX and CLI usability reviews: command discoverability, flag ergonomics, template usability, and quantity workflows. Each page should record observations, pain points, and proposed tweaks or experiments.</p> <p>Use these notes to guide UI polish tasks, track user feedback, and cross-link to issues/features when a change is needed in the CLI, templates, or rendered outputs.</p>"},{"location":"ui/#current-reviews","title":"Current reviews","text":"<ul> <li>CLI ergonomics: CLI help review and CLI subcommand discovery/ergonomics</li> <li>Quantity workflows: Quantity workflow UX</li> <li>Templates and output UX: Templates overview</li> </ul>"},{"location":"ui/cli-help-review/","title":"Filare CLI Help Review (filare, filare-qty)","text":""},{"location":"ui/cli-help-review/#summary","title":"Summary","text":"<p>The CLI help surfaces all flags but hides key defaults and workflows. Format codes are cryptic, multiplier handling is unclear, and there are no examples, so users have to infer how to run common tasks or how <code>filare-qty</code> fits into the flow.</p>"},{"location":"ui/cli-help-review/#usability-score","title":"Usability Score","text":"<p>3/5 (Acceptable) \u2014 the help is present but the missing defaults, examples, and context force users to guess how to use core options.</p>"},{"location":"ui/cli-help-review/#observations","title":"Observations","text":"<ul> <li><code>filare --help</code> lists flags but the only narrative is a single-line description; no examples or task framing for Persona A (technician) or Persona D (new engineer).</li> <li>Default formats are shown as <code>hpst</code>, but the option text does not expand those letters; the expansion appears later in the epilog and uses mixed casing (<code>p</code> vs <code>P</code>), which Persona D is likely to miss.</li> <li>Component/metadata files accept multiples, yet this is not explained; Persona B (systems) expects explicit mention of how multiple sources merge and in what order.</li> <li>Output directory defaulting to the first input file\u2019s folder is not stated, so Persona C (automation) cannot predict where artifacts land.</li> <li><code>--use-qty-multipliers</code> and <code>--multiplier-file-name</code> lack default values in the help; Persona B needs predictability, and Persona D needs to know when a file will be created or read.</li> <li><code>filare-qty --help</code> has no command summary or workflow guidance; short flag <code>-f</code> here means \u201cforce\u201d while <code>filare -f</code> means \u201cformats,\u201d creating cross-command cognitive load for Persona A/C.</li> </ul>"},{"location":"ui/cli-help-review/#pain-points","title":"Pain Points","text":"<ul> <li>Persona A: Cannot tell what <code>hpst</code> means or which one produces a picture; no example command to copy/paste.</li> <li>Persona B: Multiplier handling (defaults, location, when shared BOM scaling applies) is undocumented; multi-file ordering and output location are implicit.</li> <li>Persona C: Flag meanings vary between commands (<code>-f</code>), and there is no hint at non-interactive usage or expected exit behavior for CI.</li> <li>Persona D: Jargon (\u201cshared bom\u201d) and lowercase help text (\u201cif set\u2026\u201d) provide no guidance or troubleshooting cues; missing \u201cnext step after filare-qty.\u201d</li> </ul>"},{"location":"ui/cli-help-review/#user-impact","title":"User Impact","text":"<p>Users must trial-and-error formats, multiplier files, and output locations, slowing onboarding and making automation brittle when defaults are not explicit.</p>"},{"location":"ui/cli-help-review/#error-message-evaluation","title":"Error Message Evaluation","text":"<p>Not triggered in help flow; however, the help does not indicate what errors to expect when files are missing, when format codes are invalid, or when multiplier files are absent, leaving Personas A/B without actionable guidance.</p>"},{"location":"ui/cli-help-review/#default-behavior-evaluation","title":"Default Behavior Evaluation","text":"<ul> <li>Default formats: <code>hpst</code> (html, png, svg, tsv) not expanded next to the flag.</li> <li>Default output dir: first input file\u2019s directory, unstated.</li> <li>Default multiplier file: <code>quantity_multipliers.txt</code>, unstated in both commands.</li> <li>Multi-file input order: sorted automatically, unstated (affects Persona B wanting deterministic bundling).</li> </ul>"},{"location":"ui/cli-help-review/#naming-schema-issues","title":"Naming &amp; Schema Issues","text":"<ul> <li>Mixed-case format codes (<code>p</code> vs <code>P</code>) are easy to mistype; the letter codes do not match the file extensions (e.g., <code>g</code> \u2192 <code>gv</code>).</li> <li>Terminology shifts between <code>qty_multipliers</code>, <code>qty-multipliers</code>, and \u201cshared bom\u201d increase cognitive load.</li> <li>Short flag <code>-f</code> changes meaning between <code>filare</code> (formats) and <code>filare-qty</code> (force), creating mental context switching.</li> </ul>"},{"location":"ui/cli-help-review/#proposed-improvements","title":"Proposed Improvements","text":"<ul> <li>Add a short \u201cCommon commands\u201d block to both helps (e.g., <code>uv run filare examples/demo01.yml -f hpst -o outputs</code> and <code>uv run filare-qty tests/bom/bomqty.yml</code>).</li> <li>Show defaults inline: expand <code>hpst</code> in the option text, show <code>quantity_multipliers.txt</code> as the default path, and state the default output directory.</li> <li>Clarify workflow: indicate that <code>filare-qty</code> prepares multipliers for shared BOM scaling and that <code>--use-qty-multipliers</code> consumes them.</li> <li>Normalize wording and casing: sentence-case help, consistent \u201cQty multipliers\u201d phrasing, and a clear table mapping format letters to extensions.</li> <li>Call out multi-file behavior: inputs are sorted; <code>-c/-d</code> accept multiples and are merged in order.</li> </ul>"},{"location":"ui/cli-help-review/#required-follow-up-issuesfeaturesrework","title":"Required Follow-Up (issues/features/rework)","text":"<ul> <li>docs/issues/cli-help-defaults-and-examples.md</li> <li>docs/issues/filare-qty-help-context.md</li> <li>docs/workflows/basic-output-generation.md</li> </ul>"},{"location":"ui/cli-subcommand-ergonomics/","title":"CLI Subcommand Ergonomics","text":""},{"location":"ui/cli-subcommand-ergonomics/#summary","title":"Summary","text":"<p>Filare exposes two entrypoints (<code>filare</code>, <code>filare-qty</code>) but does not present them as related subcommands or cross-reference them. Discovery is weak, flag semantics diverge, and there is no overview of when to use each tool, leaving users to guess how quantity workflows fit into rendering.</p>"},{"location":"ui/cli-subcommand-ergonomics/#usability-score","title":"Usability Score","text":"<p>2/5 (Poor) \u2014 commands work but are not discoverable as a cohesive CLI, increasing cognitive load and mistakes.</p>"},{"location":"ui/cli-subcommand-ergonomics/#observations","title":"Observations","text":"<ul> <li><code>filare --help</code> never mentions <code>filare-qty</code>, so users do not learn that quantity preparation is a separate command.</li> <li>There is no <code>filare qty</code> subcommand or alias; the tools feel unrelated despite sharing outputs (shared BOM scaling).</li> <li>Flag semantics diverge (<code>-f</code> = formats vs force), and defaults are hidden (multiplier filename, output dir), so users cannot transfer knowledge between commands.</li> <li>No listing of available commands; <code>project.scripts</code> defines two executables, but only doc hunting reveals the second.</li> <li>Workflow is implicit: users must infer that <code>filare-qty</code> should run before <code>filare -u</code>.</li> </ul>"},{"location":"ui/cli-subcommand-ergonomics/#pain-points","title":"Pain Points","text":"<ul> <li>Persona A: Misses the quantity step entirely; sees only <code>filare</code> help and never learns about multipliers.</li> <li>Persona B: Cannot design deterministic automation without a documented command map or default paths.</li> <li>Persona C: Has to special-case flag meanings between executables; lack of <code>filare qty</code> subcommand complicates scripting conventions.</li> <li>Persona D: Has no guided flow; the separate executable feels like a different tool with unknown ordering.</li> </ul>"},{"location":"ui/cli-subcommand-ergonomics/#user-impact","title":"User Impact","text":"<p>Low discoverability leads to missing BOM scaling, format confusion, and wasted time wiring two commands together. Automation and onboarding both suffer because the CLI does not present itself as a unified interface.</p>"},{"location":"ui/cli-subcommand-ergonomics/#error-message-evaluation","title":"Error Message Evaluation","text":"<p>Not applicable to subcommand discovery; however, absence of guidance means users are more likely to encounter downstream \u201cfile not found\u201d errors for multiplier files.</p>"},{"location":"ui/cli-subcommand-ergonomics/#default-behavior-evaluation","title":"Default Behavior Evaluation","text":"<ul> <li>Multiplier file name/location is defaulted in code but not surfaced in help for either command.</li> <li>Input ordering (sorted) and output directory defaults remain implicit, so combined flows are opaque.</li> </ul>"},{"location":"ui/cli-subcommand-ergonomics/#naming-schema-issues","title":"Naming &amp; Schema Issues","text":"<ul> <li>Separate executables instead of subcommands hides relationships.</li> <li>Conflicting short flags (<code>-f</code>) across commands break muscle memory.</li> <li>Terminology varies between \u201cqty multipliers,\u201d \u201cqty_multipliers,\u201d and \u201cshared bom.\u201d</li> </ul>"},{"location":"ui/cli-subcommand-ergonomics/#proposed-improvements","title":"Proposed Improvements","text":"<ul> <li>Present <code>filare-qty</code> as a documented subcommand or alias (<code>filare qty</code>) and cross-reference it in <code>filare --help</code>.</li> <li>Provide a command map in help output (or a <code>filare --commands</code>/<code>filare help</code> section) listing available tasks with one-line descriptions.</li> <li>Align short flags or document the conflict prominently; consider unique short flags per command family.</li> <li>Add a concise workflow note in both helps: \u201cRun <code>filare-qty</code> to create/update multipliers, then <code>filare -u</code> to apply them.\u201d</li> </ul>"},{"location":"ui/cli-subcommand-ergonomics/#required-follow-up-issuesfeaturesrework","title":"Required Follow-Up (issues/features/rework)","text":"<ul> <li>docs/issues/cli-subcommand-discovery.md</li> </ul>"},{"location":"ui/quantity-workflow-ux/","title":"Quantity Workflow UX (filare + filare-qty)","text":""},{"location":"ui/quantity-workflow-ux/#summary","title":"Summary","text":"<p>Quantity multipliers live in a separate executable (<code>filare-qty</code>) with minimal help and no workflow guidance. Users must guess defaults, file locations, and order of operations. Integrating quantities into the main CLI would reduce confusion and make CI flows more deterministic.</p>"},{"location":"ui/quantity-workflow-ux/#usability-score","title":"Usability Score","text":"<p>2/5 (Poor) \u2014 the workflow is discoverable only via source or docs; defaults and sequencing are implicit.</p>"},{"location":"ui/quantity-workflow-ux/#observations","title":"Observations","text":"<ul> <li><code>filare --help</code> does not mention <code>filare-qty</code>; users miss the multiplier step entirely (Persona A/D).</li> <li><code>filare-qty --help</code> lacks context, examples, or default file name/path; short flag <code>-f</code> conflicts with <code>filare -f</code>.</li> <li>Default multiplier filename (<code>quantity_multipliers.txt</code>) is coded but not surfaced; location is implicit (working dir).</li> <li>No guidance on when to run <code>filare-qty</code> vs <code>filare -u</code>; missing success/error expectations and exit codes for CI (Persona C).</li> <li>No machine-readable reports of which multipliers were used/missing.</li> </ul>"},{"location":"ui/quantity-workflow-ux/#pain-points","title":"Pain Points","text":"<ul> <li>Persona A: Doesn\u2019t discover quantity scaling; cannot copy/paste a full flow.</li> <li>Persona B: Cannot validate multipliers before render; deterministic paths and ordering are unclear.</li> <li>Persona C: Conflicting flags and lack of JSON outputs make automation brittle.</li> <li>Persona D: No workflow walkthrough; \u201cshared bom\u201d terminology unexplained.</li> </ul>"},{"location":"ui/quantity-workflow-ux/#user-impact","title":"User Impact","text":"<p>Missed multiplier application, inconsistent BOM counts, and fragile scripts. Extra time spent locating files and re-running renders to verify scaling.</p>"},{"location":"ui/quantity-workflow-ux/#error-message-evaluation","title":"Error Message Evaluation","text":"<p>Help output provides no hints about missing multiplier files or validation errors. Users will only see runtime errors after render starts.</p>"},{"location":"ui/quantity-workflow-ux/#default-behavior-evaluation","title":"Default Behavior Evaluation","text":"<ul> <li>Default file: <code>quantity_multipliers.txt</code> (not shown in help).</li> <li>Default location: working directory (implicit).</li> <li>Ordering: multipliers must be created before <code>filare -u</code> runs; not documented.</li> </ul>"},{"location":"ui/quantity-workflow-ux/#naming-schema-issues","title":"Naming &amp; Schema Issues","text":"<ul> <li>Flag collision (<code>-f</code>) across commands; terminology mixes <code>qty_multipliers</code>, <code>qty-multipliers</code>, \u201cshared bom.\u201d</li> </ul>"},{"location":"ui/quantity-workflow-ux/#proposed-improvements","title":"Proposed Improvements","text":"<ul> <li>Integrate quantities as <code>filare harness qty &lt;cmd&gt;</code> (init/edit/validate/apply/report) with visible defaults and examples.</li> <li>Surface default filename/path in help and errors; provide table/JSON reports for CI.</li> <li>Add a workflow doc and CLI examples for the full quantity flow.</li> <li>Keep <code>filare-qty</code> as a shim with deprecation guidance.</li> </ul>"},{"location":"ui/quantity-workflow-ux/#required-follow-up-issuesfeaturesrework","title":"Required Follow-Up (issues/features/rework)","text":"<ul> <li>docs/features/integrated-quantity-management.md</li> <li>docs/issues/filare-qty-help-context.md</li> </ul>"},{"location":"ui/templates-overview/","title":"Template Overview &amp; UX Assessment","text":""},{"location":"ui/templates-overview/#summary","title":"Summary","text":"<p>Filare uses HTML/Jinja templates under <code>src/filare/templates/</code> (page, titleblock, BOM, notes, cut/termination tables, etc.). Contexts are assembled ad hoc in <code>render/html.py</code> with a small <code>_RenderReplacements</code> BaseModel, but most partials (cut/termination tables, notes positioning) lack dedicated view models or documented inputs. Styles and measurements are duplicated across templates, making changes error-prone.</p>"},{"location":"ui/templates-overview/#usability-score","title":"Usability Score","text":"<p>3/5 (Acceptable) \u2014 templates render, but the lack of typed contexts, shared style tokens, and per-template docs raises maintenance risk and cognitive load for contributors.</p>"},{"location":"ui/templates-overview/#observations","title":"Observations","text":"<ul> <li>Context typing is uneven: <code>_RenderReplacements</code> (Metadata/PageOptions/Notes) exists, but partials like <code>cut_table.html</code> and <code>termination_table.html</code> expect row objects with specific attributes without a declared BaseModel.</li> <li>Layout values (mm sizes, table widths, BOM positions) are hard-coded in multiple templates; no shared CSS variables or tokens.</li> <li>Some templates (e.g., <code>simple.html</code>, <code>simple-connector.html</code>, <code>din-6771.html</code>) appear legacy or niche but have no documented usage or context model, making reuse risky.</li> <li>Helper macros (e.g., BOM header) sit inside templates rather than a shared macro file, so conventions are duplicated.</li> <li>StrictUndefined is enabled, but missing fields yield runtime errors without pointing to the intended shape of the context.</li> </ul>"},{"location":"ui/templates-overview/#pain-points-personas","title":"Pain Points (Personas)","text":"<ul> <li>Persona A/D: Cannot tell which fields to supply to partials like cut/termination tables; no examples per template.</li> <li>Persona B: No clear mapping from data models to template context; adjusting dimensions requires editing multiple files.</li> <li>Persona C: Hard to automate rendering variations because template inputs aren\u2019t schema\u2019d or documented.</li> </ul>"},{"location":"ui/templates-overview/#template-by-template-notes","title":"Template-by-Template Notes","text":"<ul> <li><code>page.html</code> / <code>titlepage.html</code>: Driven by <code>_RenderReplacements</code> + <code>PageOptions</code>/<code>Metadata</code> BaseModels; OK but would benefit from documented context and shared style tokens.</li> <li><code>titleblock.html</code>: Relies on <code>metadata</code> fields (revisions_list, authors_list, logo, etc.) without a dedicated view model; lots of duplicated sizing literals.</li> <li><code>bom.html</code>: Uses BomRender object (not a BaseModel) and inline macro; could expose a simple BOM view model for template consumption.</li> <li><code>notes.html</code>: Positions blocks with many arithmetic expressions on <code>options</code>; no view model to encapsulate calculated positions/widths.</li> <li><code>cut_table.html</code> / <code>termination_table.html</code>: Expect <code>rows</code> with specific attributes; no BaseModel/schema.</li> <li><code>simple.html</code> / <code>simple-connector.html</code> / <code>din-6771.html</code>: Context is implicit (generator/title/diagram/notes); no BaseModel or usage guidance.</li> <li><code>component_table.html</code> / <code>connector.html</code> / <code>cable.html</code> / <code>additional_components.html</code> / <code>images.html</code>: Driven by component objects (ComponentModel), but template expectations (e.g., image sizing, partnumbers) are undocumented and partially duplicated.</li> <li><code>colors_macro.html</code>: Provides macros but is under-used; other templates re-implement style rather than reusing macros.</li> </ul>"},{"location":"ui/templates-overview/#proposed-improvements","title":"Proposed Improvements","text":"<ul> <li>Define per-template view models (Pydantic BaseModel) for partials: cut table rows, termination rows, notes positioning, titleblock context, legacy \u201csimple\u201d templates.</li> <li>Centralize shared style tokens (titleblock dimensions, BOM/notes offsets, table row heights) in a macro or CSS variables to avoid drift.</li> <li>Move shared macros (BOM header, revision/author rendering) into a macro file to reduce duplication.</li> <li>Add per-template usage notes/examples and document required context keys for contributors.</li> <li>Consider deprecating or clearly documenting legacy templates (<code>simple*.html</code>, <code>din-6771.html</code>) with guidance on when to use them.</li> </ul>"},{"location":"ui/templates-overview/#required-follow-up","title":"Required Follow-Up","text":"<ul> <li>Create BaseModel issues for templates lacking typed contexts (see separate issues).</li> <li>Add a short template README or doc page mapping templates to their context models and usage.</li> </ul>"},{"location":"workflows/basic-output-generation/","title":"Basic Output Generation with Filare","text":""},{"location":"workflows/basic-output-generation/#purpose","title":"Purpose","text":"<p>Walk Persona A (technician) and Persona D (new engineer) through rendering a harness into HTML/PNG/SVG/TSV and seeing where outputs land.</p>"},{"location":"workflows/basic-output-generation/#prerequisites","title":"Prerequisites","text":"<ul> <li><code>uv venv; uv sync</code></li> <li>Input harness YAML (e.g., <code>examples/demo01.yml</code>)</li> <li>Optional: component and metadata YAML files if you want to merge templates or metadata.</li> </ul>"},{"location":"workflows/basic-output-generation/#steps","title":"Steps","text":"<ol> <li>Inspect available formats and flags: <code>uv run filare --help</code></li> <li>Render a harness with default formats: <code>uv run filare examples/demo01.yml -o outputs</code></li> <li>Change the base output name (if desired): <code>uv run filare examples/demo01.yml -O demo01_run1 -o outputs</code></li> <li>Generate and apply quantity multipliers (shared BOM scaling):</li> <li><code>uv run filare-qty tests/bom/bomqty.yml --multiplier-file-name outputs/quantity_multipliers.txt</code></li> <li><code>uv run filare tests/bom/bomqty.yml --use-qty-multipliers --multiplier-file-name outputs/quantity_multipliers.txt -o outputs</code></li> <li>When prompted, enter the per-harness quantities (stored as JSON); reruns reuse the file unless <code>--force-new</code> is passed.</li> </ol>"},{"location":"workflows/basic-output-generation/#inputs","title":"Inputs","text":"<p>Minimal harness example:</p> <pre><code>parts:\n  connector_a:\n    type: connector\n    pins: [1, 2]\n  connector_b:\n    type: connector\n    pins: [1, 2]\ncables:\n  cable1:\n    length: 1m\nconnections:\n  - from: connector_a.1\n    to: connector_b.1\n  - from: connector_a.2\n    to: connector_b.2\n</code></pre>"},{"location":"workflows/basic-output-generation/#commands","title":"Commands","text":"<ul> <li>Default render: <code>uv run filare examples/demo01.yml -f hpst -o outputs</code></li> <li>With custom formats (HTML + PDF): <code>uv run filare examples/demo01.yml -f hP -o outputs</code></li> <li>Force new multipliers: <code>uv run filare-qty tests/bom/bomqty.yml --force-new</code></li> </ul>"},{"location":"workflows/basic-output-generation/#outputs","title":"Outputs","text":"<ul> <li>HTML/PNG/SVG/TSV files in <code>outputs/</code> (or the input file\u2019s directory if <code>-o</code> is omitted).</li> <li><code>quantity_multipliers.txt</code> created or updated when running <code>filare-qty</code> (path configurable via <code>--multiplier-file-name</code>).</li> <li>Optional PDF bundle if format string includes <code>P</code>.</li> </ul>"},{"location":"workflows/basic-output-generation/#common-mistakes","title":"Common Mistakes","text":"<ul> <li>Using lowercase <code>p</code> when you wanted PDF (<code>P</code>), or uppercase <code>P</code> when you wanted PNG (<code>p</code>).</li> <li>Forgetting <code>-o</code> and wondering where files went (defaults to the input file\u2019s folder).</li> <li>Passing format letters not listed in <code>--help</code>, leading to missing outputs.</li> <li>Running <code>filare-qty</code> but not passing <code>-u</code>/<code>-m</code> to <code>filare</code>, so multipliers are never applied.</li> </ul>"},{"location":"workflows/basic-output-generation/#troubleshooting","title":"Troubleshooting","text":"<ul> <li>\u201cNo such file\u201d \u2192 check the harness path and that you are in the repository root.</li> <li>Missing expected format output \u2192 verify the <code>-f</code> letters and retry.</li> <li>Multiplier file not found \u2192 confirm <code>quantity_multipliers.txt</code> exists in the working directory or pass <code>-m/--multiplier-file-name</code> with the correct path.</li> </ul>"},{"location":"workflows/basic-output-generation/#related-features","title":"Related Features","text":"<ul> <li>docs/ui/cli-help-review.md</li> <li>docs/issues/cli-help-defaults-and-examples.md</li> <li>docs/issues/filare-qty-help-context.md</li> </ul>"},{"location":"workflows/quantity-multipliers-current/","title":"Quantity Multipliers (Current Workflow)","text":""},{"location":"workflows/quantity-multipliers-current/#purpose","title":"Purpose","text":"<p>Guide users through creating and applying quantity multipliers using the existing <code>filare-qty</code> + <code>filare -u</code> flow.</p>"},{"location":"workflows/quantity-multipliers-current/#prerequisites","title":"Prerequisites","text":"<ul> <li><code>uv venv; uv sync</code></li> <li>Harness YAML file(s)</li> <li>Terminal access (no GUI required)</li> </ul>"},{"location":"workflows/quantity-multipliers-current/#steps","title":"Steps","text":"<ol> <li>Generate multipliers file: <code>uv run filare-qty tests/bom/bomqty.yml</code></li> <li>Inspect/edit <code>quantity_multipliers.txt</code> as needed.</li> <li>Render harnesses with multipliers applied: <code>uv run filare examples/demo01.yml -u -m quantity_multipliers.txt -o outputs</code></li> </ol>"},{"location":"workflows/quantity-multipliers-current/#inputs","title":"Inputs","text":"<ul> <li>Harness YAML files (e.g., <code>examples/demo01.yml</code>)</li> <li>Optional existing <code>quantity_multipliers.txt</code></li> </ul>"},{"location":"workflows/quantity-multipliers-current/#commands","title":"Commands","text":"<ul> <li>Create/update multipliers: <code>uv run filare-qty &lt;files...&gt; [-m quantity_multipliers.txt] [-f]</code></li> <li>Apply during render: <code>uv run filare &lt;files...&gt; -u -m quantity_multipliers.txt -o outputs</code></li> </ul>"},{"location":"workflows/quantity-multipliers-current/#outputs","title":"Outputs","text":"<ul> <li><code>quantity_multipliers.txt</code> in working directory (default)</li> <li>Rendered outputs (HTML/PNG/SVG/TSV/PDF) in <code>outputs/</code> or input directory</li> </ul>"},{"location":"workflows/quantity-multipliers-current/#common-mistakes","title":"Common Mistakes","text":"<ul> <li>Forgetting <code>-u</code> when rendering, so multipliers are ignored.</li> <li>Misplacing <code>quantity_multipliers.txt</code> (command defaults to working directory).</li> <li>Using <code>-f</code> meaning different things: force in <code>filare-qty</code>, formats in <code>filare</code>.</li> </ul>"},{"location":"workflows/quantity-multipliers-current/#troubleshooting","title":"Troubleshooting","text":"<ul> <li>\u201cfile not found\u201d for multipliers \u2192 pass <code>-m</code> with the correct path.</li> <li>Missing scaled counts \u2192 ensure <code>-u</code> is set and multipliers file has matching keys.</li> </ul>"},{"location":"workflows/quantity-multipliers-current/#related-features","title":"Related Features","text":"<ul> <li>docs/features/integrated-quantity-management.md</li> <li>docs/issues/quantity-workflow-integration.md</li> </ul>"},{"location":"workflows/taskwarrior-agent/","title":"Taskwarrior Workflow \u2014 Agent Roles","text":"<p>Use Taskwarrior to pull the next ready task assigned to your agent type, ensuring dependencies are respected.</p>"},{"location":"workflows/taskwarrior-agent/#steps","title":"Steps","text":"<ol> <li>Sync backlog from Taskwarrior export/backfill (ensure latest JSON is applied).</li> <li>List ready tasks for your role (no blocked dependencies):</li> <li>Preferred: <code>just taskwarrior-next role=&lt;ROLE&gt; limit=5</code></li> <li>Taskwarrior native: <code>task +role:&lt;ROLE&gt; status:pending -BLOCKED next</code></li> <li>Start the top task:</li> <li><code>task &lt;id&gt; start</code></li> <li>When done, close it:</li> <li><code>task &lt;id&gt; done</code> (or <code>just taskwarrior-update uid=&lt;UID&gt; done=true note=\"...\"</code> to stamp completion and add a note).</li> <li>If blocked/missing info, annotate and set <code>wait:</code> or <code>scheduled:</code> to pause it, then pick the next ready item.</li> </ol>"},{"location":"workflows/taskwarrior-agent/#notes","title":"Notes","text":"<ul> <li>Roles align to AGENT guides (e.g., FEATURE, TOOLS, DOCUMENTATION, UI, VALIDATOR).</li> <li>Do not start tasks with unresolved dependencies; rely on the ready filter above.</li> <li>Keep annotations brief and action-focused for handoff back to Project Manager.</li> </ul>"},{"location":"workflows/taskwarrior-project-manager/","title":"Taskwarrior Workflow \u2014 Project Manager","text":"<p>Use Taskwarrior to publish ready queues per agent, enforce dependency order, and shard the backlog when multiple agents work in parallel.</p>"},{"location":"workflows/taskwarrior-project-manager/#steps","title":"Steps","text":"<ol> <li>Ingest sources: Refresh tasks from <code>docs/features/**</code>, <code>docs/issues/**</code>, <code>docs/workplan/**</code>; update priorities/dependencies.</li> <li>Export/Backfill:</li> <li>Export current Taskwarrior state: <code>just taskwarrior-export</code></li> <li>Backfill from JSON (dry-run): <code>just taskwarrior-backfill</code></li> <li>Apply backfill: <code>just taskwarrior-backfill-apply</code></li> <li>Shard pools (when N agents run in parallel):</li> <li>Partition tasks into N pools by role/priority: <code>just taskwarrior-pools pools=&lt;N&gt;</code> (writes <code>outputs/workplan/taskwarrior-pool-*.json</code>).</li> <li>Ensure no cross-pool dependency; reassign or reorder until pools are independent.</li> <li>Publish ready queues:</li> <li>For each pool/role: provide the ready filter (<code>task +role:&lt;ROLE&gt; status:pending -BLOCKED next</code>) or <code>just taskwarrior-next role=&lt;ROLE&gt;</code>.</li> <li>Export per-pool JSON for clarity (see pool outputs).</li> <li>Monitor &amp; adjust:</li> <li>Rebalance pools if one agent drains early.</li> <li>Update priorities/dates based on operator feedback and dependency changes.</li> </ol>"},{"location":"workflows/taskwarrior-project-manager/#notes","title":"Notes","text":"<ul> <li>Keep pools dependency-free; if impossible, merge affected tasks into the same pool.</li> <li>Annotate tasks with source doc path and target date to maintain traceability.</li> <li>Provide agents a short \u201cnext up\u201d list per role after each planning cycle.</li> </ul>"},{"location":"workplan/gantt/","title":"Backlog Gantt","text":"<pre><code>gantt\n  dateFormat  YYYY-MM-DD\n  title Filare Backlog Gantt\n  excludes    weekends\n  section backlog\n  FEAT-BOM-0002 (Cut List Outputs) :FEAT_BOM_0002, after , 1d\n  FEAT-BOM-0003 (Cut List Schema) :FEAT_BOM_0003, after , 1d\n  FEAT-BOM-0004 (Cut List Template) :FEAT_BOM_0004, after , 1d\n  FEAT-BOM-0006 (Octopart Ingestion (Filare-Relevant Categories)) :FEAT_BOM_0006, after , 1d\n  FEAT-BOM-0007 (Standard Harness Component Support) :FEAT_BOM_0007, after , 1d\n  FEAT-DOCS-0002 (DrawIO Authoring Integration) :FEAT_DOCS_0002, after , 1d\n  FEAT-GENERAL-0001 (Cavities, Terminals, and Seals Support) :FEAT_GENERAL_0001, after , 1d\n  FEAT-GENERAL-0002 (Shield Termination Metadata) :FEAT_GENERAL_0002, after , 1d\n  FEAT-GRAPH-0003 (BOM from Graph Traversal) :FEAT_GRAPH_0003, after , 1d\n  FEAT-GRAPH-0004 (Bundle Model in Graph) :FEAT_GRAPH_0004, after , 1d\n  FEAT-GRAPH-0005 (Cable as Part (Graph-Based)) :FEAT_GRAPH_0005, after , 1d\n  FEAT-GRAPH-0006 (Colors in Graph) :FEAT_GRAPH_0006, after , 1d\n  FEAT-GRAPH-0007 (Connections in Graph) :FEAT_GRAPH_0007, after , 1d\n  FEAT-GRAPH-0008 (Connector\u2013Cable\u2013Connector in Graph) :FEAT_GRAPH_0008, after , 1d\n  FEAT-GRAPH-0009 (Cut Diagram from Graph Traversal) :FEAT_GRAPH_0009, after , 1d\n  FEAT-GRAPH-0010 (Parts and Components Links) :FEAT_GRAPH_0010, after , 1d\n  FEAT-GRAPH-0011 (Parts List Export) :FEAT_GRAPH_0011, after , 1d\n  FEAT-GRAPH-0012 (Pin Ordering Parser) :FEAT_GRAPH_0012, after , 1d\n  FEAT-GRAPH-0013 (Pins in Graph) :FEAT_GRAPH_0013, after , 1d\n  FEAT-GRAPH-0014 (Pins\u2013Terminations in Graph) :FEAT_GRAPH_0014, after , 1d\n  FEAT-GRAPH-0015 (Render Metadata Separation) :FEAT_GRAPH_0015, after , 1d\n  FEAT-GRAPH-0016 (Termination Diagram from Graph Traversal) :FEAT_GRAPH_0016, after , 1d\n  FEAT-GRAPH-0017 (Wires in Graph) :FEAT_GRAPH_0017, after , 1d\n  FEAT-MECH-0001 (Mechanical CAD/STEP Linkage and Viewer) :FEAT_MECH_0001, after , 1d\n  FEAT-MECH-0002 (2D Mechanical Harness View (SVG/DXF)) :FEAT_MECH_0002, after , 1d\n  FEAT-MECH-0003 (Mechanical Base Schema and Paths) :FEAT_MECH_0003, after , 1d\n  FEAT-MECH-0004 (Mechanical Features and Coverings) :FEAT_MECH_0004, after , 1d\n  FEAT-MECH-0005 (Mechanical Labels and Dimensions) :FEAT_MECH_0005, after , 1d\n  FEAT-MECH-0006 (Mechanical Splices and Shield Terminations) :FEAT_MECH_0006, after , 1d\n  FEAT-PERF-0001 (cProfile Support (Deterministic CPU Profiling)) :FEAT_PERF_0001, after , 1d\n  FEAT-PERF-0002 (Memray Support (Allocation Tracing)) :FEAT_PERF_0002, after , 1d\n  FEAT-PERF-0003 (Perf CI Workflow (On-Demand Profiling)) :FEAT_PERF_0003, after , 1d\n  FEAT-PERF-0004 (Performance Tooling Platform (Container + Settings)) :FEAT_PERF_0004, after , 1d\n  FEAT-PERF-0005 (py-spy Support (Sampling CPU/GIL)) :FEAT_PERF_0005, after , 1d\n  FEAT-PERF-0006 (Scalene Support (CPU + Memory Sampling)) :FEAT_PERF_0006, after , 1d\n  FEAT-TERM-0001 (Termination Outputs) :FEAT_TERM_0001, after , 1d\n  FEAT-TERM-0002 (Termination Schema) :FEAT_TERM_0002, after , 1d\n  FEAT-TERM-0003 (Termination Template) :FEAT_TERM_0003, after , 1d\n  FEAT-UI-0001 (Interface General Idea) :FEAT_UI_0001, after , 1d</code></pre>"},{"location":"workplan/timeline/","title":"Backlog Timeline (Graphviz)","text":"<p>Generated via <code>just timeline-graphviz</code> (<code>scripts/generate_graphviz_timeline.py</code>). The DOT and SVG output are written to <code>outputs/workplan/</code> and are not bundled into the published docs by default. Run the command locally to view the latest SVG.</p>"}]}